"use strict";(()=>{var Kg=Object.create;var fs=Object.defineProperty;var qg=Object.getOwnPropertyDescriptor;var Yg=Object.getOwnPropertyNames;var Xg=Object.getPrototypeOf,Jg=Object.prototype.hasOwnProperty;var h=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ar=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),j=(e,t)=>{for(var r in t)fs(e,r,{get:t[r],enumerable:!0})},ud=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(var n=Yg(t),i=0,l=n.length,c;i<l;i++)c=n[i],!Jg.call(e,c)&&c!==r&&fs(e,c,{get:(f=>t[f]).bind(null,c),enumerable:!(o=qg(t,c))||o.enumerable});return e};var U=(e,t,r)=>(r=e!=null?Kg(Xg(e)):{},ud(t||!e||!e.__esModule?fs(r,"default",{value:e,enumerable:!0}):r,e)),dt=e=>ud(fs({},"__esModule",{value:!0}),e);var p,a=h(()=>{"use strict";p=Symbol("Symbol.asyncIterator")});var Zg,e_,t_,d,s=h(()=>{"use strict";Zg=e=>({status:"fulfilled",value:e}),e_=e=>({status:"rejected",reason:e}),t_=e=>Promise.resolve(e).then(Zg,e_),d=Promise.allSettled??=e=>Promise.all(Array.from(e).map(t_))});function cd(e,t,r,o,n,i,l){try{var c=e[i](l),f=c.value}catch(y){r(y);return}c.done?t(f):Promise.resolve(f).then(o,n)}function x(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var i=e.apply(t,r);function l(f){cd(i,o,n,l,c,"next",f)}function c(f){cd(i,o,n,l,c,"throw",f)}l(void 0)})}}var ye=h(()=>{a();s()});var ms=Ar((BS,pd)=>{a();s();var Jl=Object.defineProperty,r_=Object.getOwnPropertyDescriptor,o_=Object.getOwnPropertyNames,n_=Object.prototype.hasOwnProperty,i_=(e,t)=>{for(var r in t)Jl(e,r,{get:t[r],enumerable:!0})},a_=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function"){var n=function(l){!n_.call(e,l)&&l!==r&&Jl(e,l,{get:()=>t[l],enumerable:!(o=r_(t,l))||o.enumerable})};for(var i of o_(t))n(i)}return e},s_=e=>a_(Jl({},"__esModule",{value:!0}),e),fd={};i_(fd,{after:()=>m_,before:()=>c_,instead:()=>f_,unpatchAll:()=>u_});pd.exports=s_(fd);var md=["a","b","i"],Zo=new Map;function l_(e,t,r,o,n){var i=Zo.get(t)?.[e];if(!i)return n?Reflect.construct(t[e],r,o):t[e].apply(o,r);for(var l of i.b.values()){var c=l.call(o,r);Array.isArray(c)&&(r=c)}var f=[...i.i.values()].reduce((v,w)=>(...T)=>w.call(o,T,v),(...v)=>n?Reflect.construct(i.o,v,o):i.o.apply(o,v))(...r);for(var y of i.a.values())f=y.call(o,r,f)??f;return f}function dd(e,t,r,o){var n=Zo.get(e),i=n?.[t];if(!i?.[o].has(r))return!1;if(i[o].delete(r),md.every(c=>i[c].size===0)){var l=Reflect.defineProperty(e,t,{value:i.o,writable:!0,configurable:!0});l||(e[t]=i.o),delete n[t]}return Object.keys(n).length==0&&Zo.delete(e),!0}function u_(){for(var[e,t]of Zo.entries())for(var r in t)for(var o of md)for(var n of t[r]?.[o].keys()??[])dd(e,r,n,o)}var Zl=e=>(t,r,o,n=!1)=>{if(typeof r[t]!="function")throw new Error(`${t} is not a function in ${r.constructor.name}`);Zo.has(r)||Zo.set(r,Object.create(null));var i=Zo.get(r);if(!i[t]){var l=r[t];i[t]={o:l,b:new Map,i:new Map,a:new Map};var c=(T,A,K)=>{var $=l_(t,r,A,T,K);return n&&w(),$},f=new Proxy(l,{apply:(T,A,K)=>c(A,K,!1),construct:(T,A)=>c(l,A,!0),get:(T,A,K)=>A=="toString"?l.toString.bind(l):Reflect.get(T,A,K)}),y=Reflect.defineProperty(r,t,{value:f,configurable:!0,writable:!0});y||(r[t]=f)}var v=Symbol(),w=()=>dd(r,t,v,e);return i[t][e].set(v,o),w},c_=Zl("b"),f_=Zl("i"),m_=Zl("a")});var hd={};j(hd,{BundleUpdaterManager:()=>$t,ClientInfoManager:()=>en,DeviceManager:()=>tn,FileManager:()=>me,MMKVManager:()=>Pr,ThemeManager:()=>eu});var Or,Pr,me,en,tn,$t,eu,lr=h(()=>{"use strict";a();s();Or=window.nativeModuleProxy,Pr=Or.MMKVManager,me=Or.DCDFileManager??Or.RTNFileManager,en=Or.InfoDictionaryManager??Or.RTNClientInfoManager,tn=Or.DCDDeviceManager??Or.RTNDeviceManager,{BundleUpdaterManager:$t}=Or,eu=Or.RTNThemeManager??Or.DCDTheme});function tu(e,t){if(!Number.isInteger(t)||t<=0)throw new Error("Size must be an integer greater than zero.");for(var r=Math.ceil(e.length/t),o=Array(r),n=0;n<r;n++){var i=n*t,l=i+t;o[n]=e.slice(i,l)}return o}var vd=h(()=>{a();s()});function ur(e){return ur=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ur(e)}var Ii=h(()=>{a();s()});function Li(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Li=function(){return!!e})()}var ru=h(()=>{a();s()});function yd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var gd=h(()=>{a();s()});function _d(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var bd=h(()=>{a();s()});function xd(e,t){return t&&(_d(t)==="object"||typeof t=="function")?t:yd(e)}var Sd=h(()=>{a();s();gd();bd()});function be(e,t,r){return t=ur(t),xd(e,Li()?Reflect.construct(t,r||[],ur(e).constructor):t.apply(e,r))}var It=h(()=>{a();s();Ii();ru();Sd()});function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ye=h(()=>{a();s()});function bo(e,t){return bo=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},bo(e,t)}var ds=h(()=>{a();s()});function xe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bo(e,t)}var Lt=h(()=>{a();s();ds()});function Mi(e,t,r){return Li()?Mi=Reflect.construct:Mi=function(n,i,l){var c=[null];c.push.apply(c,i);var f=Function.bind.apply(n,c),y=new f;return l&&bo(y,l.prototype),y},Mi.apply(null,arguments)}var wd=h(()=>{a();s();ru();ds()});function Ed(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var Td=h(()=>{a();s()});function Hn(e){var t=typeof Map=="function"?new Map:void 0;return Hn=function(o){if(o===null||!Ed(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(o))return t.get(o);t.set(o,n)}function n(){return Mi(o,arguments,ur(this).constructor)}return n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),bo(n,o)},Hn(e)}var ou=h(()=>{a();s();wd();Ii();Td();ds()});function Ni(e,t,{signal:r,edges:o}={}){var n=void 0,i=null,l=o!=null&&o.includes("leading"),c=o==null||o.includes("trailing"),f=()=>{i!==null&&(e.apply(n,i),n=void 0,i=null)},y=()=>{c&&f(),A()},v=null,w=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,y()},t)},T=()=>{v!==null&&(clearTimeout(v),v=null)},A=()=>{T(),n=void 0,i=null},K=()=>{T(),f()},$=function(...oe){if(!r?.aborted){n=this,i=oe;var He=v==null;w(),l&&He&&f()}};return $.schedule=w,$.cancel=A,$.flush=K,r?.addEventListener("abort",A,{once:!0}),$}var Cd=h(()=>{a();s()});function Di(e,t){for(var r={...e},o=0;o<t.length;o++){var n=t[o];delete r[n]}return r}var Rd=h(()=>{a();s()});function ps(e){return e!=null}var Ad=h(()=>{a();s()});var rn=h(()=>{a();s();vd();Cd();Rd();Ad()});var xo,Ir,nu=h(()=>{"use strict";a();s();(function(e){e[e.EXISTS=1]="EXISTS",e[e.BLACKLISTED=2]="BLACKLISTED"})(xo||(xo={}));(function(e){e[e.FULL_LOOKUP=0]="FULL_LOOKUP",e[e.NOT_FOUND=1]="NOT_FOUND"})(Ir||(Ir={}))});var on={};j(on,{_patcherDelaySymbol:()=>Fi,after:()=>ae,before:()=>So,default:()=>ki,instead:()=>wo});function iu(e){function t(...o){if(Fi in o[1]){var n=o[1][Fi],i=!1,l=()=>i=!0;return n(c=>{i||(o[1]=c,l=e.apply(this,o))}),()=>l()}return e.apply(this,o)}function r(...o){var n=o[1];if(!n||!("then"in n))throw new Error("target is not a then-able object");var i=!1,l=()=>i=!0;return n.then(c=>{i||(o[1]=c,l=t.apply(this,o))}),()=>l()}return Object.assign(t,{await:r})}var d_,p_,h_,Fi,ae,So,wo,ki,Xe=h(()=>{"use strict";a();s();({after:d_,before:p_,instead:h_}=ms()),Fi=Symbol.for("bunny.api.patcher.delay");ae=iu(d_),So=iu(p_),wo=iu(h_),ki={after:ae,before:So,instead:wo}});var Ui={};j(Ui,{assetsMap:()=>Eo,findAsset:()=>ji,findAssetId:()=>b,patchAssets:()=>v_});function v_(e){if(!Bi){Bi=e;var t=ae("registerAsset",Bi,([r])=>{var o=au();o!==-1&&su(r.name,o)});return t}}function ji(e){return typeof e=="number"?Bi.getAssetByID(e):typeof e=="string"?Eo[e]:Object.values(Eo).find(e)}function b(e){return Eo[e]?.index}var Eo,Bi,ge=h(()=>{"use strict";a();s();Xe();an();nn();Eo=new Proxy({},{get(e,t){if(typeof t=="string"){if(e[t])return e[t];var r=Lr().assetsIndex[t];if(r!=null){for(var o in r){var n=Wt(Number(o));if(typeof n=="number"){var i=Bi.getAssetByID(n);i&&(i.index??=i.id??=n,i.moduleId??=o,e[t]??=i)}}return e[t]}}},ownKeys(e){var t=[];for(var r in Lr().assetsIndex)e[r]=this.get(e,r,{}),e[r]&&t.push(r);return t}})});function Od(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ee(e,t,r){return t&&Od(e.prototype,t),r&&Od(e,r),e}var it=h(()=>{a();s()});function Hi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lu=h(()=>{a();s()});var uu,hs,cu=h(()=>{"use strict";a();s();Ye();it();lu();(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(uu||(uu={}));hs=function(){"use strict";function e(){Y(this,e),Hi(this,"listeners",Object.values(uu).reduce((t,r)=>(t[r]=new Set,t),{}))}return ee(e,[{key:"on",value:function(r,o){this.listeners[r].has(o)||this.listeners[r].add(o)}},{key:"off",value:function(r,o){this.listeners[r].delete(o)}},{key:"once",value:function(r,o){var n=(i,l)=>{this.off(i,n),o(i,l)};this.on(r,n)}},{key:"emit",value:function(r,o){for(var n of this.listeners[r])n(r,o)}}]),e}()});var Vi={};j(Vi,{createFilterDefinition:()=>Qt,createSimpleFilter:()=>y_});function Qt(e,t){function r(n,i,l){return Object.assign(n,{filter:e,raw:l,uniq:[l&&"raw::",t(i)].filter(Boolean).join("")})}var o=n=>(...i)=>r((l,c,f)=>e(i,l,c,f),i,n);return Object.assign(o(!1),{byRaw:o(!0),uniqMaker:t})}function y_(e,t){return Qt((r,o)=>e(o),()=>`dynamic::${t}`)()}var vs=h(()=>{"use strict";a();s()});var fu={};j(fu,{byDisplayName:()=>Co,byFilePath:()=>gs,byMutableProp:()=>zi,byName:()=>To,byProps:()=>Gi,byStoreName:()=>ys,byTypeName:()=>Ro});var Gi,To,Co,Ro,ys,gs,zi,$i=h(()=>{"use strict";a();s();vs();nn();Gi=Qt((e,t)=>e.length===0?t[e[0]]:e.every(r=>t[r]),e=>`bunny.metro.byProps(${e.join(",")})`),To=Qt(([e],t)=>t.name===e,e=>`bunny.metro.byName(${e})`),Co=Qt(([e],t)=>t.displayName===e,e=>`bunny.metro.byDisplayName(${e})`),Ro=Qt(([e],t)=>t.type?.name===e,e=>`bunny.metro.byTypeName(${e})`),ys=Qt(([e],t)=>t.getName?.length===0&&t.getName()===e,e=>`bunny.metro.byStoreName(${e})`),gs=Qt(([e,t],r,o,n)=>t===n&&at[o]?.__filePath===e,([e,t])=>`bunny.metro.byFilePath(${e},${t})`),zi=Qt(([e],t)=>t?.[e]&&!Object.getOwnPropertyDescriptor(t,e)?.get,e=>`bunny.metro.byMutableProp(${e})`)});function Pd(e,t,r){return e.default&&e.__esModule&&r(e.default,t,!0)?{exports:r.raw?e:e.default,defaultExport:!r.raw}:!r.raw&&r(e,t,!1)?{exports:e,defaultExport:!1}:{}}function mu(e){var{cacheId:t,finish:r}=bs(e.uniq,!1);for(var[o,n]of _s(e.uniq,!1)){var{exports:i,defaultExport:l}=Pd(n,o,e);if(i!==void 0)return t(o,i),{id:o,defaultExport:l}}return r(!0),{}}function g_(e){return mu(e)?.id}function Je(e){var{id:t,defaultExport:r}=mu(e);if(t!=null)return r?Wt(t).default:Wt(t)}function du(e){var{cacheId:t,finish:r}=bs(e.uniq,!0),o=[];for(var[n,i]of _s(e.uniq,!0)){var{exports:l,defaultExport:c}=Pd(i,n,e);l!==void 0&&typeof c=="boolean"&&(o.push({id:n,defaultExport:c}),t(n,l))}return r(o.length===0),o}function __(e){return du(e).map(t=>t.id)}function Ao(e){return du(e).map(t=>{if(t.id){var{id:r,defaultExport:o}=t;return o?Wt(r).default:Wt(r)}})}var Vn=h(()=>{"use strict";a();s();an();nn()});var hu={};j(hu,{getProxyFactory:()=>pu,lazyDestructure:()=>te,proxyLazy:()=>ke});function ke(e,t={}){var r,o=t.hint!=="object"?function(){}:{},n=()=>r??=e(),i=new Proxy(o,x_);return Ld.set(i,n),Gn.set(o,{factory:e,options:t}),i}function te(e,t={}){var r=ke(e);return new Proxy({},{get(o,n){return n===Symbol.iterator?function*(){throw yield r,yield new Proxy({},{get:(i,l)=>ke(()=>r[l],t)}),new Error("This is not a real iterator, this is likely used incorrectly")}:ke(()=>r[n],t)}})}function pu(e){return Ld.get(e)}var Id,b_,Ld,Gn,x_,Be=h(()=>{"use strict";a();s();Id=new Set(["arguments","caller","prototype"]),b_=e=>typeof e=="string"&&Id.has(e),Ld=new WeakMap,Gn=new WeakMap,x_={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(e=>[e,(t,...r)=>{var o=Gn.get(t),n=o?.factory();if(!n)throw new Error(`Trying to Reflect.${e} of ${typeof n}`);return Reflect[e](n,...r)}])),has(e,t){var r=Gn.get(e);if(r?.options){var{exemptedEntries:o}=r.options;if(o&&t in o)return!0}var n=r?.factory();if(!n)throw new Error(`Trying to Reflect.has of ${typeof n}`);return Reflect.has(n,t)},get(e,t,r){var o=Gn.get(e);if(o?.options){var{exemptedEntries:n}=o.options;if(n?.[t])return n[t]}var i=o?.factory();if(!i)throw new Error(`Trying to Reflect.get of ${typeof i}`);return Reflect.get(i,t,r)},ownKeys:e=>{var t=Gn.get(e),r=t?.factory();if(!r)throw new Error(`Trying to Reflect.ownKeys of ${typeof r}`);var o=Reflect.ownKeys(r);return Id.forEach(n=>!o.includes(n)&&o.push(n)),o},getOwnPropertyDescriptor:(e,t)=>{var r=Gn.get(e),o=r?.factory();if(!o)throw new Error(`Trying to getOwnPropertyDescriptor of ${typeof o}`);if(b_(t))return Reflect.getOwnPropertyDescriptor(e,t);var n=Reflect.getOwnPropertyDescriptor(o,t);return n&&Object.defineProperty(e,t,n),n}}});var vu={};j(vu,{_lazyContextSymbol:()=>xs,createLazyModule:()=>Mr,getLazyContext:()=>Nd});function S_(e){var t=Lr().findIndex[e.uniq];if(t){for(var r in t)if(r[0]!=="_")return Number(r)}}function w_(e,t){var r=Nd(e);if(!r)throw new Error("Subscribing a module for non-proxy-find");if(!r.indexed)throw new Error("Attempting to subscribe to a non-indexed find");return yu(r.moduleId,()=>{t(Je(r.filter))})}function Nd(e){return Md.get(e)}function Mr(e){var t=void 0,r=S_(e),o={filter:e,indexed:!!r,moduleId:r,getExports(i){return!r||at[r]?.isInitialized?(i(this.forceLoad()),()=>{}):this.subscribe(i)},subscribe(i){return w_(n,i)},get cache(){return t},forceLoad(){if(t??=Je(e),!t)throw new Error(`${e.uniq} is ${typeof t}! (id ${o.moduleId??"unknown"})`);return t}},n=ke(()=>o.forceLoad(),{exemptedEntries:{[xs]:o,[Fi]:i=>o.getExports(i)}});return Md.set(n,o),n}var xs,Md,Wi=h(()=>{"use strict";a();s();Xe();Be();Vn();an();nn();xs=Symbol.for("bunny.metro.lazyContext"),Md=new WeakMap});var H,N,gu,zn,st,_u,bu,xu,Su,wu,E_,Eu,Tu,Qi,Cu,Ru,Re=h(()=>{"use strict";a();s();$i();Vn();Wi();H=(...e)=>Je(Gi(...e)),N=(...e)=>Mr(Gi(...e)),gu=(...e)=>Ao(Gi(...e)),zn=(e,t=!0)=>Je(t?To(e):To.byRaw(e)),st=(e,t=!0)=>Mr(t?To(e):To.byRaw(e)),_u=(e,t=!0)=>Ao(t?To(e):To.byRaw(e)),bu=(e,t=!0)=>Je(t?Co(e):Co.byRaw(e)),xu=(e,t=!0)=>Mr(t?Co(e):Co.byRaw(e)),Su=(e,t=!0)=>Ao(t?Co(e):Co.byRaw(e)),wu=(e,t=!0)=>Je(t?Ro(e):Ro.byRaw(e)),E_=(e,t=!0)=>Mr(t?Ro(e):Ro.byRaw(e)),Eu=(e,t=!0)=>Ao(t?Ro(e):Ro.byRaw(e)),Tu=e=>Je(ys(e)),Qi=e=>Mr(ys(e)),Cu=(e,t=!1)=>Je(gs(e,t)),Ru=(e,t=!1)=>Mr(gs(e,t))});var Oo=Ar((XE,Dd)=>{"use strict";a();s();Re();Dd.exports={react:N("createElement"),"react-native":N("AppRegistry"),util:N("inspect","isNullOrUndefined"),moment:N("isMoment"),"chroma-js":N("brewer"),lodash:N("forEachRight"),"@shopify/react-native-skia":N("useFont")}});var se=Ar((eT,Fd)=>{a();s();Fd.exports=Oo()["react-native"]});function Ki(e={}){var t=new hs,r=new WeakMap,o=new WeakSet;function n(i,l){return new Proxy(i,{get(c,f){if(f===jd)return t;var y=[...l,f],v=c[f];if(v!=null){if(t.emit("GET",{path:y,value:v}),typeof v=="object"){if(o.has(v))return v;if(r.has(v))return r.get(v);var w=n(v,y);return r.set(v,w),w}return v}return v},set(c,f,y){if(typeof y=="object")if(r.has(y))c[f]=r.get(y);else{var v=n(y,[...l,f]);r.set(y,v),o.add(y),c[f]=v}else c[f]=y;return t.emit("SET",{path:[...l,f],value:c[f]}),!0},deleteProperty(c,f){var y=typeof c[f]=="object"?r.get(c[f]):c[f],v=delete c[f];return v&&t.emit("DEL",{value:y,path:[...l,f]}),v}})}return{proxy:n(e,[]),emitter:t}}function le(e){var t=e?.[jd];if(!t)throw new Error("storage?.[emitterSymbol] is undefined");var[,r]=React.useReducer(o=>~o,0);return React.useEffect(()=>{var o=(n,i)=>{n==="DEL"&&i.value===e||r()};return t.on("SET",o),t.on("DEL",o),()=>{t.off("SET",o),t.off("DEL",o)}},[]),e}function Mt(e){return Au.apply(this,arguments)}function Au(){return Au=x(function*(e){var t=yield e.get(),{proxy:r,emitter:o}=Ki(t),n=()=>e.set(r);return o.on("SET",n),o.on("DEL",n),r}),Au.apply(this,arguments)}function cr(e){var t=void 0,r=[],o=n=>t?n():r.push(n);return e.then(n=>{t=n,r.forEach(i=>i())}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(n=>[n,(i,...l)=>Reflect[n](t??i,...l)])),get(n,i,l){return i===Ud?o:Reflect.get(t??n,i,l)}})}function Po(...e){return Promise.all(e.map(t=>new Promise(r=>t[Ud](r))))}var Bd,jd,Ud,kd,Ou,Hd,Ss,fr,sn,De=h(()=>{"use strict";a();s();ye();cu();lr();Bd=U(se()),jd=Symbol.for("vendetta.storage.emitter"),Ud=Symbol.for("vendetta.storage.accessor");kd=/[<>:"/\\|?*]/g,Ou=e=>Bd.Platform.select({default:e,ios:me.saveFileToGallery?e:`Documents/${e}`}),Hd=e=>(kd.test(e)&&(e=e.replace(kd,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`),Ss=function(){var e=x(function*(t){(yield Pr.getItem(t))&&Pr.removeItem(t);var r=Hd(t);(yield me.fileExists(`${me.getConstants().DocumentsDirPath}/${r}`))&&(yield me.removeFile?.("documents",r))});return function(r){return e.apply(this,arguments)}}(),fr=(e,t={})=>{var r=Hd(e),o=JSON.stringify(t);return sn(r,t,x(function*(){var n=`${me.getConstants().DocumentsDirPath}/${r}`;if(!(yield me.fileExists(n))){var i=(yield Pr.getItem(e))??o;if(i==="!!LARGE_VALUE!!"){var l=`${me.getConstants().CacheDirPath}/mmkv/${e}`;(yield me.fileExists(l))?i=yield me.readFile(l,"utf8"):(console.log(`${e}: Experienced data loss :(`),i=o)}try{JSON.parse(i)}catch{console.error(`${e} had an unparseable data while migrating`),i=o}yield me.writeFile("documents",Ou(r),i,"utf8"),(yield Pr.getItem(e))!==null&&(Pr.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}})())},sn=(e,t={},r)=>({get:x(function*(){yield r;var o=`${me.getConstants().DocumentsDirPath}/${e}`;if(yield me.fileExists(o)){var n=yield me.readFile(o,"utf8");try{return JSON.parse(n)}catch{}}return yield me.writeFile("documents",Ou(e),JSON.stringify(t),"utf8"),JSON.parse(yield me.readFile(o,"utf8"))}),set:function(){var o=x(function*(n){yield r,yield me.writeFile("documents",Ou(e),JSON.stringify(n),"utf8")});return function(n){return o.apply(this,arguments)}}()})});var Yi={};j(Yi,{clearFolder:()=>Fu,downloadFile:()=>ku,fileExists:()=>un,readFile:()=>qi,removeFile:()=>ln,writeFile:()=>zr});function Fu(e){return Pu.apply(this,arguments)}function Pu(){return Pu=x(function*(e,{prefix:t="pyoncord/"}={}){if(typeof me.clearFolder!="function")throw new Error("'fs.clearFolder' is not supported");return void(yield me.clearFolder("documents",`${t}${e}`))}),Pu.apply(this,arguments)}function ln(e){return Iu.apply(this,arguments)}function Iu(){return Iu=x(function*(e,{prefix:t="pyoncord/"}={}){if(typeof me.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void(yield me.removeFile("documents",`${t}${e}`))}),Iu.apply(this,arguments)}function un(e){return Lu.apply(this,arguments)}function Lu(){return Lu=x(function*(e,{prefix:t="pyoncord/"}={}){return yield me.fileExists(`${me.getConstants().DocumentsDirPath}/${t}${e}`)}),Lu.apply(this,arguments)}function zr(e,t){return Mu.apply(this,arguments)}function Mu(){return Mu=x(function*(e,t,{prefix:r="pyoncord/"}={}){if(typeof t!="string")throw new Error("Argument 'data' must be a string");return void(yield me.writeFile("documents",`${r}${e}`,t,"utf8"))}),Mu.apply(this,arguments)}function qi(e){return Nu.apply(this,arguments)}function Nu(){return Nu=x(function*(e,{prefix:t="pyoncord/"}={}){try{return yield me.readFile(`${me.getConstants().DocumentsDirPath}/${t}${e}`,"utf8")}catch(r){throw new Error(`An error occured while writing to '${e}'`,{cause:r})}}),Nu.apply(this,arguments)}function ku(e,t){return Du.apply(this,arguments)}function Du(){return Du=x(function*(e,t,{prefix:r="pyoncord/"}={}){var o=yield fetch(e);if(!o.ok)throw new Error(`Failed to download file from ${e}: ${o.statusText}`);var n=yield o.arrayBuffer(),i=Buffer.from(n).toString("base64");return void(yield me.writeFile("documents",`${r}${t}`,i,"base64"))}),Du.apply(this,arguments)}var cn=h(()=>{"use strict";a();s();ye();lr()});function Vd(e,t){return t.get?t.get.call(e):t.value}var Gd=h(()=>{a();s()});function $n(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var ws=h(()=>{a();s()});function m(e,t){var r=$n(e,t,"get");return Vd(e,r)}var mr=h(()=>{a();s();Gd();ws()});function Es(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}var Bu=h(()=>{a();s()});function F(e,t,r){Es(e,t),t.set(e,r)}var dr=h(()=>{a();s();Bu()});function zd(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}var $d=h(()=>{a();s()});function R(e,t,r){var o=$n(e,t,"set");return zd(e,o,r),r}var pr=h(()=>{a();s();$d();ws()});var Xi,Ji,Ts,Wd,Qd,de,C_,R_,A_,O_,P_,I_,Kd,L_,Kt,Io,M_,N_,D_,F_,qd,Yd,Xd,Jd,k_,B_,j_,U_,Ze,ju,Zd,ep,tp,$r,rp=h(()=>{a();s();It();Ye();it();Lt();Xi="insert",Ji="update",Ts="delete",Wd="reverse",Qd="shuffle",de=Symbol.for("object-observer-meta-key-0"),C_={async:1},R_=e=>{if(!e||typeof e!="object")return null;var t={},r=[];for(var[o,n]of Object.entries(e))if(o==="path"){if(typeof n!="string"||n==="")throw new Error('"path" option, if/when provided, MUST be a non-empty string');t[o]=n}else if(o==="pathsOf"){if(e.path)throw new Error('"pathsOf" option MAY NOT be specified together with "path" option');if(typeof n!="string")throw new Error('"pathsOf" option, if/when provided, MUST be a string (MAY be empty)');t[o]=e.pathsOf.split(".").filter(Boolean)}else if(o==="pathsFrom"){if(e.path||e.pathsOf)throw new Error('"pathsFrom" option MAY NOT be specified together with "path"/"pathsOf" option/s');if(typeof n!="string"||n==="")throw new Error('"pathsFrom" option, if/when provided, MUST be a non-empty string');t[o]=n}else r.push(o);if(r.length)throw new Error(`'${r.join(", ")}' is/are not a valid observer option/s`);return t},A_=(e,t,r)=>{var o={};o[de]=t;for(var n in e)o[n]=Io(e[n],n,t,r);return o},O_=(e,t,r)=>{var o=e.length,n=new Array(o);n[de]=t;for(var i=0;i<o;i++)n[i]=Io(e[i],i,t,r);return n},P_=(e,t)=>(e[de]=t,e),I_=(e,t)=>{if(e===null)return t;var r=t;if(e.path){var o=e.path;r=t.filter(c=>c.path.join(".")===o)}else if(e.pathsOf){var n=e.pathsOf,i=n.join(".");r=t.filter(c=>(c.path.length===n.length+1||c.path.length===n.length&&(c.type===Wd||c.type===Qd))&&c.path.join(".").startsWith(i))}else if(e.pathsFrom){var l=e.pathsFrom;r=t.filter(c=>c.path.join(".").startsWith(l))}return r},Kd=(e,t)=>{try{e(t)}catch(r){console.error(`failed to notify listener ${e} with ${t}`,r)}},L_=function(){var t=this.batches;this.batches=[];for(var[r,o]of t)Kd(r,o)},Kt=(e,t)=>{var r=e,o,n,i,l,c,f,y=t.length;do{for(o=r.options.async,n=r.observers,f=n.length;f--;)if([i,l]=n[f],c=I_(l,t),c.length)if(o){r.batches.length===0&&queueMicrotask(L_.bind(r));var v=void 0;for(var w of r.batches)if(w[0]===i){v=w;break}v||(v=[i,[]],r.batches.push(v)),Array.prototype.push.apply(v[1],c)}else Kd(i,c);var T=r.parent;if(T){for(var A=0;A<y;A++){var K=t[A];t[A]=new Ze(K.type,[r.ownKey,...K.path],K.value,K.oldValue,K.object)}r=T}else r=null}while(r)},Io=(e,t,r,o)=>o!==void 0&&o.has(e)?null:typeof e!="object"||e===null?e:Array.isArray(e)?new ep({target:e,ownKey:t,parent:r,visited:o}).proxy:ArrayBuffer.isView(e)?new tp({target:e,ownKey:t,parent:r}).proxy:e instanceof Date?e:new Zd({target:e,ownKey:t,parent:r,visited:o}).proxy,M_=function(){var t=this[de],r=t.target,o=r.length-1,n=r.pop();if(n&&typeof n=="object"){var i=n[de];i&&(n=i.detach())}var l=[new Ze(Ts,[o],void 0,n,this)];return Kt(t,l),n},N_=function(){for(var t=this[de],r=t.target,o=arguments.length,n=new Array(o),i=r.length,l=0;l<o;l++)n[l]=Io(arguments[l],i+l,t);for(var c=Reflect.apply(r.push,r,n),f=[],y=i,v=r.length;y<v;y++)f[y-i]=new Ze(Xi,[y],r[y],void 0,this);return Kt(t,f),c},D_=function(){var t=this[de],r=t.target,o,n,i,l,c;for(o=r.shift(),o&&typeof o=="object"&&(c=o[de],c&&(o=c.detach())),n=0,i=r.length;n<i;n++)l=r[n],l&&typeof l=="object"&&(c=l[de],c&&(c.ownKey=n));var f=[new Ze(Ts,[0],void 0,o,this)];return Kt(t,f),o},F_=function(){for(var t=this[de],r=t.target,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=Io(arguments[i],i,t);for(var l=Reflect.apply(r.unshift,r,n),c=0,f=r.length,y;c<f;c++)if(y=r[c],y&&typeof y=="object"){var v=y[de];v&&(v.ownKey=c)}for(var w=n.length,T=new Array(w),A=0;A<w;A++)T[A]=new Ze(Xi,[A],r[A],void 0,this);return Kt(t,T),l},qd=function(){var t=this[de],r=t.target,o,n,i;for(r.reverse(),o=0,n=r.length;o<n;o++)if(i=r[o],i&&typeof i=="object"){var l=i[de];l&&(l.ownKey=o)}var c=[new Ze(Wd,[],void 0,void 0,this)];return Kt(t,c),this},Yd=function(t){var r=this[de],o=r.target,n,i,l;for(o.sort(t),n=0,i=o.length;n<i;n++)if(l=o[n],l&&typeof l=="object"){var c=l[de];c&&(c.ownKey=n)}var f=[new Ze(Qd,[],void 0,void 0,this)];return Kt(r,f),this},Xd=function(t,r,o){var n=this[de],i=n.target,l=[],c=i.length,f=i.slice(0);if(r=r===void 0?0:r<0?Math.max(c+r,0):Math.min(r,c),o=o===void 0?c:o<0?Math.max(c+o,0):Math.min(o,c),r<c&&o>r){i.fill(t,r,o);for(var y,v=r,w,T;v<o;v++)w=i[v],i[v]=Io(w,v,n),v in f?(T=f[v],T&&typeof T=="object"&&(y=T[de],y&&(T=y.detach())),l.push(new Ze(Ji,[v],i[v],T,this))):l.push(new Ze(Xi,[v],i[v],void 0,this));Kt(n,l)}return this},Jd=function(t,r,o){var n=this[de],i=n.target,l=i.length;t=t<0?Math.max(l+t,0):t,r=r===void 0?0:r<0?Math.max(l+r,0):Math.min(r,l),o=o===void 0?l:o<0?Math.max(l+o,0):Math.min(o,l);var c=Math.min(o-r,l-t);if(t<l&&t!==r&&c>0){var f=i.slice(0),y=[];i.copyWithin(t,r,o);for(var v=t,w,T,A;v<t+c;v++)w=i[v],w&&typeof w=="object"&&(w=Io(w,v,n),i[v]=w),T=f[v],T&&typeof T=="object"&&(A=T[de],A&&(T=A.detach())),!(typeof w!="object"&&w===T)&&y.push(new Ze(Ji,[v],w,T,this));Kt(n,y)}return this},k_=function(){for(var t=this[de],r=t.target,o=arguments.length,n=new Array(o),i=r.length,l=0;l<o;l++)n[l]=Io(arguments[l],l,t);for(var c=o===0?0:n[0]<0?i+n[0]:n[0],f=o<2?i-c:n[1],y=Math.max(o-2,0),v=Reflect.apply(r.splice,r,n),w=r.length,T,A=0,K;A<w;A++)K=r[A],K&&typeof K=="object"&&(T=K[de],T&&(T.ownKey=A));var $,gt,oe;for($=0,gt=v.length;$<gt;$++)oe=v[$],oe&&typeof oe=="object"&&(T=oe[de],T&&(v[$]=T.detach()));var He=[],he;for(he=0;he<f;he++)he<y?He.push(new Ze(Ji,[c+he],r[c+he],v[he],this)):He.push(new Ze(Ts,[c+he],void 0,v[he],this));for(;he<y;he++)He.push(new Ze(Xi,[c+he],r[c+he],void 0,this));return Kt(t,He),v},B_=function(t,r){var o=this[de],n=o.target,i=t.length,l=n.slice(0);r=r||0,n.set(t,r);for(var c=new Array(i),f=r;f<i+r;f++)c[f-r]=new Ze(Ji,[f],n[f],l[f],this);Kt(o,c)},j_={pop:M_,push:N_,shift:D_,unshift:F_,reverse:qd,sort:Yd,fill:Xd,copyWithin:Jd,splice:k_},U_={reverse:qd,sort:Yd,fill:Xd,copyWithin:Jd,set:B_},Ze=function e(t,r,o,n,i){"use strict";Y(this,e),this.type=t,this.path=r,this.value=o,this.oldValue=n,this.object=i},ju=function(){"use strict";function e(t,r){Y(this,e);var{target:o,parent:n,ownKey:i,visited:l=new Set}=t;n&&i!==void 0?(this.parent=n,this.ownKey=i):(this.parent=null,this.ownKey=null),l.add(o);var c=r(o,this,l);l.delete(o),this.observers=[],this.revocable=Proxy.revocable(c,this),this.proxy=this.revocable.proxy,this.target=c,this.options=this.processOptions(t.options),this.options.async&&(this.batches=[])}return ee(e,[{key:"processOptions",value:function(r){if(r){if(typeof r!="object")throw new Error(`Observable options if/when provided, MAY only be an object, got '${r}'`);var o=Object.keys(r).filter(n=>!(n in C_));if(o.length)throw new Error(`'${o.join(", ")}' is/are not a valid Observable option/s`);return Object.assign({},r)}else return{}}},{key:"detach",value:function(){return this.parent=null,this.target}},{key:"set",value:function(r,o,n){var i=r[o];if(n!==i){var l=Io(n,o,this);if(r[o]=l,i&&typeof i=="object"){var c=i[de];c&&(i=c.detach())}var f=i===void 0?[new Ze(Xi,[o],l,void 0,this.proxy)]:[new Ze(Ji,[o],l,i,this.proxy)];Kt(this,f)}return!0}},{key:"deleteProperty",value:function(r,o){var n=r[o];if(delete r[o],n&&typeof n=="object"){var i=n[de];i&&(n=i.detach())}var l=[new Ze(Ts,[o],void 0,n,this.proxy)];return Kt(this,l),!0}}]),e}(),Zd=function(e){"use strict";xe(t,e);function t(r){return Y(this,t),be(this,t,[r,A_])}return t}(ju),ep=function(e){"use strict";xe(t,e);function t(r){return Y(this,t),be(this,t,[r,O_])}return ee(t,[{key:"get",value:function(o,n){return j_[n]||o[n]}}]),t}(ju),tp=function(e){"use strict";xe(t,e);function t(r){return Y(this,t),be(this,t,[r,P_])}return ee(t,[{key:"get",value:function(o,n){return U_[n]||o[n]}}]),t}(ju),$r=Object.freeze({from:(e,t)=>{if(!e||typeof e!="object")throw new Error("observable MAY ONLY be created from a non-null object");if(e[de])return e;if(Array.isArray(e))return new ep({target:e,ownKey:null,parent:null,options:t}).proxy;if(ArrayBuffer.isView(e))return new tp({target:e,ownKey:null,parent:null,options:t}).proxy;if(e instanceof Date)throw new Error(`${e} found to be one of a non-observable types`);return new Zd({target:e,ownKey:null,parent:null,options:t}).proxy},isObservable:e=>!!(e&&e[de]),observe:(e,t,r)=>{if(!$r.isObservable(e))throw new Error("invalid observable parameter");if(typeof t!="function")throw new Error(`observer MUST be a function, got '${t}'`);var o=e[de].observers;o.some(n=>n[0]===t)?console.warn("observer may be bound to an observable only once; will NOT rebind"):o.push([t,R_(r)])},unobserve:(e,...t)=>{if(!$r.isObservable(e))throw new Error("invalid observable parameter");var r=e[de].observers,o=r.length;if(o){if(!t.length){r.splice(0);return}for(;o;)t.indexOf(r[--o][0])>=0&&r.splice(o,1)}}})});var Ku={};j(Ku,{awaitStorage:()=>Wn,createStorage:()=>Lo,createStorageAndCallback:()=>Wu,createStorageAsync:()=>H_,getPreloadedStorage:()=>Qu,preloadStorageIfExists:()=>Cs,purgeStorage:()=>V_,updateStorage:()=>$u,useObservable:()=>Wr});function zu(e){var t=Ni(r=>{zr(e,JSON.stringify(r))},500);return{get:x(function*(){try{return JSON.parse(yield qi(e))}catch(r){throw new Error(`Failed to parse storage from '${e}'`,{cause:r})}}),set:function(){var r=x(function*(o){if(!o||typeof o!="object")throw new Error("data needs to be an object");t(o)});return function(o){return r.apply(this,arguments)}}(),exists:x(function*(){return yield un(e)})}}function Wr(e,t){if(e.some(o=>o?.[op]))throw new Error("An error occured while initializing the storage");if(e.some(o=>!$r.isObservable(o)))throw new Error("Argument passed isn't an Observable");var[,r]=React.useReducer(o=>~o,0);React.useEffect(()=>{var o=()=>r();return e.forEach(n=>$r.observe(n,o,t)),()=>{e.forEach(n=>$r.unobserve(n,o))}},[])}function $u(e,t){return Uu.apply(this,arguments)}function Uu(){return Uu=x(function*(e,t){Nr[e]=t,zu(e).set(t)}),Uu.apply(this,arguments)}function Wu(e,t,{dflt:r={},nullIfEmpty:o=!1}={}){var n,i=c=>{var f=new Proxy($r.from(c),{get(v,w,T){return w===Symbol.for("vendetta.storage.emitter")?n||(n=new hs,$r.observe(v,A=>{for(var K of A)n.emit(K.type!=="delete"?"SET":"DEL",{path:K.path,value:K.value})}),n):Reflect.get(v,w,T)}}),y=()=>l.set(f);$r.observe(f,y),t(f)},l=zu(e);Nr[e]?i(Nr[e]):l.exists().then(function(){var c=x(function*(f){f?i(Nr[e]=yield l.get()):o?i(Nr[e]=null):(Nr[e]=r,yield l.set(r),i(r))});return function(f){return c.apply(this,arguments)}}())}function H_(e){return Hu.apply(this,arguments)}function Hu(){return Hu=x(function*(e,t={}){return new Promise(r=>Wu(e,r,t))}),Hu.apply(this,arguments)}function Cs(e){return Vu.apply(this,arguments)}function Vu(){return Vu=x(function*(e){if(Nr[e])return!0;var t=zu(e);return(yield t.exists())?(Nr[e]=yield t.get(),!1):!0}),Vu.apply(this,arguments)}function V_(e){return Gu.apply(this,arguments)}function Gu(){return Gu=x(function*(e){yield ln(e),delete Nr[e]}),Gu.apply(this,arguments)}function Wn(...e){return Promise.all(e.map(t=>t[np]))}function Qu(e){return Nr[e]}var op,np,Nr,Lo,Dr=h(()=>{"use strict";a();s();ye();cu();rp();cn();rn();op=Symbol.for("bunny.storage.initError"),np=Symbol.for("bunny.storage.promise"),Nr={};Lo=(e,t={})=>{var r=new Promise(f=>l=f),o,n,i,l;Wu(e,f=>{o=f,n=!0,l()},t);var c=()=>{if(n)return!0;throw new Error(`Attempted to access storage without initializing: ${e}`)};return new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(f=>[f,(y,...v)=>c()&&Reflect[f](o,...v)])),get(f,y,v){return y===op?i:y===np?r:c()&&Reflect.get(o??f,y,v)}})}});var ec={};j(ec,{BUNNY_PROXY_PREFIX:()=>fn,DISCORD_SERVER:()=>qu,GITHUB:()=>Yu,HTTP_REGEX:()=>G_,HTTP_REGEX_MULTI:()=>Xu,OFFICIAL_PLUGINS_REPO_URL:()=>Qr,VD_DISCORD_SERVER_ID:()=>Ju,VD_PLUGINS_CHANNEL_ID:()=>Zu,VD_PROXY_PREFIX:()=>hr,VD_THEMES_CHANNEL_ID:()=>Zi});var qu,Yu,G_,Xu,fn,Qr,hr,Ju,Zu,Zi,Kr=h(()=>{"use strict";a();s();qu="https://discord.gg/XjYgWXHb9Q",Yu="https://github.com/pyoncord",G_=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,Xu=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,fn="https://bn-plugins.github.io/vd-proxy",Qr="https://bn-plugins.github.io/dist/repo.json",hr="https://vd-plugins.github.io/proxy",Ju="1015931589865246730",Zu="1091880384561684561",Zi="1091880434939482202"});function Rs(e,t=0){for(var r=3735928559^t,o=1103547991^t,n=0,i;n<e.length;n++)i=e.charCodeAt(n),r=Math.imul(r^i,2654435761),o=Math.imul(o^i,1597334677);return r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(r^r>>>13,3266489909),[o>>>0,r>>>0]}function ip(e,t=0){var[r,o]=Rs(e,t);return r.toString(36).padStart(7,"0")+o.toString(36).padStart(7,"0")}var tc=h(()=>{"use strict";a();s()});function qt(e,t){return qr(e,t,{walkable:["props","children","child","sibling"]})}var ap=h(()=>{"use strict";a();s();bt()});function rc(e,t,r,o){if(!(o>r.maxDepth)&&e){try{if(t(e))return e}catch{}if(Array.isArray(e)){for(var n of e)if(!(typeof n!="object"||n===null))try{var i=rc(n,t,r,o+1);if(i)return i}catch{}}else if(typeof e=="object"){for(var l of Object.keys(e))if(!(typeof e[l]!="object"||e[l]===null)&&!(r.walkable.length&&!r.walkable.includes(l))&&!r.ignore.includes(l))try{var c=rc(e[l],t,r,o+1);if(c)return c}catch{}}}}function qr(e,t,{walkable:r=[],ignore:o=[],maxDepth:n=100}={}){return rc(e,t,{walkable:r,ignore:o,maxDepth:n},0)}var sp=h(()=>{"use strict";a();s()});function oc(e,t,r){var o=e;if(t in e)return void r(o[t]);var n;return Object.defineProperty(o,t,{get:()=>n,set(i){n=r(i)??i},configurable:!0,enumerable:!1}),()=>{delete o[t],o[t]=n}}var lp=h(()=>{"use strict";a();s()});function nc(e,t){if(!e){var r=typeof t=="function"?t():t,o="[Invariant Violation]",n=r?`${o}: ${r}`:o;throw new Error(n)}}var up=h(()=>{"use strict";a();s()});var ic={};j(ic,{LoggerClass:()=>ea,logger:()=>lt});var ea,lt,Yr=h(()=>{"use strict";a();s();Re();ea=st("Logger"),lt=new ea("Bunny")});function Ge(e,t){return ac.apply(this,arguments)}function ac(){return ac=x(function*(e,t,r=1e4){var o=yield fetch(e,{signal:z_(r),...t});if(!o.ok)throw new Error(`Request returned non-ok: ${o.status} ${o.statusText}`);return o}),ac.apply(this,arguments)}function z_(e){var t=new AbortController;return setTimeout(()=>t.abort(`Timed out after ${e}ms`),e),t.signal}var cp=h(()=>{"use strict";a();s();ye()});var As={};j(As,{constants:()=>ec,cyrb64:()=>Rs,findInReactTree:()=>qt,findInTree:()=>qr,hookDefineProperty:()=>oc,invariant:()=>nc,lazy:()=>hu,logger:()=>ic,safeFetch:()=>Ge});var bt=h(()=>{"use strict";a();s();Kr();tc();ap();sp();lp();up();Be();Yr();cp()});var sc={};j(sc,{Fragment:()=>Yt,jsx:()=>u,jsxs:()=>S});function mp(e){if(!e[0])throw new Error("The first argument (Component) is falsy. Ensure that you are passing a valid component.");var t=pu(e[0]);return t&&(e[0]=t()),e}var fp,Yt,u,S,q=h(()=>{"use strict";a();s();Be();Re();fp=N("jsx","jsxs","Fragment");Yt=Symbol.for("react.fragment"),u=(...e)=>fp.jsx(...mp(e)),S=(...e)=>fp.jsxs(...mp(e))});var Nt,ta=h(()=>{"use strict";a();s();Dr();Nt=Lo("themes/colors/preferences.json",{dflt:{selected:null,customBackground:null}})});var Ls={};j(Ls,{ActionSheet:()=>vr,ActionSheetRow:()=>Mo,AlertActionButton:()=>Qn,AlertActions:()=>dc,AlertModal:()=>ia,Avatar:()=>tb,AvatarPile:()=>eb,BottomSheetTitleHeader:()=>aa,Button:()=>Q,Card:()=>Oe,CompatButton:()=>lc,CompatSegmentedControl:()=>ab,FlashList:()=>pn,FloatingActionButton:()=>pc,FormCheckbox:()=>J_,FormRadio:()=>mc,FormSwitch:()=>fc,Forms:()=>Ps,HelpMessage:()=>oa,IconButton:()=>Le,LegacyAlert:()=>ra,LegacyForm:()=>lb,LegacyFormArrow:()=>ub,LegacyFormCTA:()=>cb,LegacyFormCTAButton:()=>fb,LegacyFormCardSection:()=>mb,LegacyFormCheckbox:()=>db,LegacyFormCheckboxRow:()=>pb,LegacyFormCheckmark:()=>hb,LegacyFormDivider:()=>sa,LegacyFormHint:()=>vb,LegacyFormIcon:()=>hc,LegacyFormInput:()=>vc,LegacyFormLabel:()=>yb,LegacyFormRadio:()=>gb,LegacyFormRadioGroup:()=>_b,LegacyFormRadioRow:()=>bb,LegacyFormRow:()=>Fr,LegacyFormSection:()=>Is,LegacyFormSelect:()=>xb,LegacyFormSliderRow:()=>Sb,LegacyFormSubLabel:()=>wb,LegacyFormSwitch:()=>Eb,LegacyFormSwitchRow:()=>Tb,LegacyFormTernaryCheckBox:()=>Cb,LegacyFormText:()=>la,LegacyFormTitle:()=>Rb,PressableScale:()=>Q_,RedesignCompat:()=>Z_,RowButton:()=>W_,SafeAreaView:()=>na,SegmentedControl:()=>ob,SegmentedControlPages:()=>nb,Stack:()=>Se,TableCheckbox:()=>X_,TableCheckboxRow:()=>q_,TableRadio:()=>Y_,TableRadioGroup:()=>Os,TableRadioRow:()=>dn,TableRow:()=>L,TableRowGroup:()=>et,TableRowIcon:()=>mn,TableRowTrailingText:()=>K_,TableSwitch:()=>cc,TableSwitchRow:()=>Xr,Text:()=>P,TextArea:()=>rb,TextInput:()=>pt,TwinButtons:()=>uc,useSegmentedControlState:()=>ib});var $_,Xt,Te,ra,lc,oa,na,Mo,Q,uc,Le,W_,Q_,L,mn,K_,et,Os,dn,Xr,q_,cc,Y_,X_,fc,mc,J_,Oe,Z_,ia,Qn,dc,eb,Se,tb,pt,rb,ob,nb,ib,ab,pc,vr,aa,sb,P,Ps,lb,ub,cb,fb,mb,db,pb,hb,sa,vb,hc,vc,yb,gb,_b,bb,Fr,Is,xb,Sb,wb,Eb,Tb,Cb,la,Rb,pn,ue=h(()=>{"use strict";a();s();Be();vs();Vn();Re();$_=Qt(([e],t)=>t[e]&&Object.keys(t).length===1,e=>`bunny.metro.common.components.bySingularProp(${e})`),Xt=e=>ke(()=>Je($_(e))?.[e]),Te=(...e)=>ke(()=>H(...e)[e[0]]),ra=xu("FluxContainer(Alert)"),lc=N("Looks","Colors","Sizes"),oa=st("HelpMessage"),na=ke(()=>H("useSafeAreaInsets").SafeAreaView),Mo=Te("ActionSheetRow"),Q=Xt("Button"),uc=Te("TwinButtons"),Le=Xt("IconButton"),W_=Te("RowButton"),Q_=Te("PressableScale"),L=Te("TableRow"),mn=Te("TableRowIcon"),K_=Te("TableRowTrailingText"),et=Te("TableRowGroup"),Os=Te("TableRadioGroup"),dn=Te("TableRadioRow"),Xr=Te("TableSwitchRow"),q_=Te("TableCheckboxRow"),cc=Xt("FormSwitch"),Y_=Xt("FormRadio"),X_=Xt("FormCheckbox"),fc=Xt("FormSwitch"),mc=Xt("FormRadio"),J_=Xt("FormCheckbox"),Oe=Te("Card"),Z_=ke(()=>H("RedesignCompat").RedesignCompat),ia=Te("AlertModal"),Qn=Te("AlertActionButton"),dc=Te("AlertActions"),eb=Xt("AvatarPile"),Se=Te("Stack"),tb=Te("default","AvatarSizes","getStatusSize"),pt=Xt("TextInput"),rb=Xt("TextArea"),ob=Te("SegmentedControl"),nb=Te("SegmentedControlPages"),ib=Xt("useSegmentedControlState"),ab=Te("CompatSegmentedControl"),pc=Te("FloatingActionButton"),vr=Te("ActionSheet"),aa=Te("BottomSheetTitleHeader"),sb=N("Text","LegacyText"),P=ke(()=>sb.Text),Ps=N("Form","FormSection"),{Form:lb,FormArrow:ub,FormCTA:cb,FormCTAButton:fb,FormCardSection:mb,FormCheckbox:db,FormCheckboxRow:pb,FormCheckmark:hb,FormDivider:sa,FormHint:vb,FormIcon:hc,FormInput:vc,FormLabel:yb,FormRadio:gb,FormRadioGroup:_b,FormRadioRow:bb,FormRow:Fr,FormSection:Is,FormSelect:xb,FormSliderRow:Sb,FormSubLabel:wb,FormSwitch:Eb,FormSwitchRow:Tb,FormTernaryCheckBox:Cb,FormText:la,FormTitle:Rb}=te(()=>Ps),pn=Te("FlashList")});var Ns={};j(Ns,{Flux:()=>xc,FluxDispatcher:()=>gr,NavigationNative:()=>Ae,React:()=>fa,ReactNative:()=>Ms,assets:()=>yc,channels:()=>ua,clipboard:()=>tt,commands:()=>hn,components:()=>Ls,constants:()=>yr,i18n:()=>No,invites:()=>gc,messageUtil:()=>Jt,navigation:()=>_c,navigationStack:()=>bc,semver:()=>Kn,toasts:()=>ca,tokens:()=>Jr,url:()=>Do});var yr,ua,No,Do,tt,yc,gc,hn,_c,ca,Jt,bc,Ae,Jr,Kn,xc,gr,fa,Ms,J=h(()=>{"use strict";a();s();Re();ue();yr=N("Fonts","Permissions"),ua=N("getVoiceChannelId"),No=N("Messages"),Do=N("openURL","openDeeplink"),tt=N("setString","getString","hasString"),yc=N("registerAsset"),gc=N("acceptInviteAndTransitionToInviteChannel"),hn=N("getBuiltInCommands"),_c=N("pushLazy"),ca=Ru("modules/toast/native/ToastActionCreators.tsx",!0),Jt=N("sendBotMessage"),bc=N("createStackNavigator"),Ae=N("NavigationContainer"),Jr=N("colors","unsafe_rawColors"),Kn=N("parse","clean"),xc=N("connectStores"),gr=H("_interceptors"),fa=window.React=N("createElement"),Ms=window.ReactNative=N("AppRegistry")});var Ds={};j(Ds,{common:()=>Ns,factories:()=>Vi,filters:()=>fu,findAllExports:()=>Ao,findAllModule:()=>du,findAllModuleId:()=>__,findByDisplayName:()=>bu,findByDisplayNameAll:()=>Su,findByDisplayNameLazy:()=>xu,findByFilePath:()=>Cu,findByFilePathLazy:()=>Ru,findByName:()=>zn,findByNameAll:()=>_u,findByNameLazy:()=>st,findByProps:()=>H,findByPropsAll:()=>gu,findByPropsLazy:()=>N,findByStoreName:()=>Tu,findByStoreNameLazy:()=>Qi,findByTypeName:()=>wu,findByTypeNameAll:()=>Eu,findByTypeNameLazy:()=>E_,findExports:()=>Je,findModule:()=>mu,findModuleId:()=>g_,lazy:()=>vu});var ht=h(()=>{"use strict";a();s();J();vs();$i();Vn();Wi();Re()});var qn=Ar((JC,dp)=>{a();s();dp.exports=Oo()["chroma-js"]});function hp(e){var t=($="dark")=>(Nt.type??$)==="dark"?"darker":"light";if(e.spec===3){var r={};for(var[o,n]of Object.entries(e.semantic??{}))if(typeof n=="object"){var{type:i,value:l,opacity:c}=n;if(i==="raw")r[o]={value:l,opacity:c??1};else{var f=pp.RawColor[l];r[o]={value:f,opacity:c??1}}}else if(typeof n=="string")n.startsWith("#")?r[o]={value:Yn.default.hex(n).hex(),opacity:1}:r[o]={value:pp.RawColor[n],opacity:1};else throw new Error(`Invalid semantic definitions: ${n}`);return{spec:3,reference:t(e.type),semantic:r,raw:e.raw??{},background:e.background}}else if(e.spec===2){var y={},v=e.background?{...Di(e.background,["alpha"]),opacity:e.background.alpha}:void 0;if(e.semanticColors)for(var w in e.semanticColors){var T=e.semanticColors[w].map($=>$||void 0).slice(0,2);T[0]&&(y[w]={value:ma(T[t()==="light"?1:0]),opacity:1})}if(e.rawColors){for(var A in e.rawColors){var K=e.rawColors[A];K&&(e.rawColors[A]=ma(K))}Fs.Platform.OS==="android"&&Sc(e.rawColors)}return{spec:2,reference:t(),semantic:y,raw:e.rawColors??{},background:v}}throw new Error("Invalid theme spec")}function Sc(e){if(e){var t={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var r in t){var[o,n]=t[r];e[o]&&(e[r]=(0,Yn.default)(e[o]).alpha(n).hex())}return e}}function ma(e){if(e!==void 0){if(Yn.default.valid(e))return(0,Yn.default)(e).hex();var t=Number((0,Fs.processColor)(e));return Yn.default.rgb(t>>16&255,t>>8&255,t&255,t>>24&255).hex()}}var Yn,Fs,pp,wc=h(()=>{"use strict";a();s();ht();Yn=U(qn());rn();Fs=U(se());ta();pp=H("SemanticColor")});function ko(e,{update:t=!0}){if(!D.safeMode?.enabled){var r=e?hp(e):null,o=Object.assign(ce,{current:r,key:`bn-theme-${++_p}`,lastSetDiscordTheme:yp.theme.startsWith("bn-theme-")?ce.lastSetDiscordTheme:yp.theme});r!=null&&(Fo.Theme[o.key.toUpperCase()]=o.key,gp.DIVIDER_COLORS[o.key]=gp.DIVIDER_COLORS[o.current.reference],Object.keys(Fo.Shadow).forEach(n=>Fo.Shadow[n][o.key]=Fo.Shadow[n][o.current.reference]),Object.keys(Fo.SemanticColor).forEach(n=>{Fo.SemanticColor[n][o.key]={...Fo.SemanticColor[n][o.current.reference]}})),t&&(vp.setShouldSyncAppearanceSettings(!1),vp.updateTheme(r!=null?o.key:o.lastSetDiscordTheme))}}var Fo,Ab,vp,yp,gp,_p,ce,vn=h(()=>{"use strict";a();s();je();ht();wc();Fo=H("SemanticColor"),Ab={...Fo.RawColor},vp=N("updateTheme"),yp=Qi("ThemeStore"),gp=N("DIVIDER_COLORS"),_p=1,ce={current:null,key:`bn-theme-${_p}`,origRaw:Ab,lastSetDiscordTheme:"darker"}});function Ec(){var e=[ae("default",Ob,(t,r)=>(Wr([Nt]),!ce.current||!ce.current.background?.url||Nt.customBackground==="hidden"?r:u(xp.ImageBackground,{style:{flex:1,height:"100%"},source:ce.current.background?.url&&{uri:ce.current.background.url}||0,blurRadius:typeof ce.current.background?.blur=="number"?ce.current.background?.blur:0,children:r}))),ae("render",Pb.prototype,(t,r)=>{if(!(!ce.current||!ce.current.background?.url)){var o=qt(r,i=>i&&"HACK_fixModalInteraction"in i.props&&i?.props?.style);if(o){var n=(0,bp.default)(o.props.style.backgroundColor||"black").alpha(1-(ce.current.background?.opacity??1));o.props.style=[o.props.style,{backgroundColor:n}]}}})];return()=>e.forEach(t=>t())}var bp,xp,Ob,Pb,Sp=h(()=>{"use strict";a();s();q();ta();vn();Xe();Dr();bt();Be();ht();bp=U(qn()),xp=U(se()),Ob=st("MessagesWrapperConnected",!1),{MessagesWrapper:Pb}=te(()=>H("MessagesWrapper"))});function Cc(){var e=([r])=>r===ce.key?[ce.current.reference]:void 0;Object.keys(Xn.RawColor).forEach(r=>{Object.defineProperty(Xn.RawColor,r,{configurable:!0,enumerable:!0,get:()=>{var o=ce.current?.raw[r];return o||ce.origRaw[r]}})});var t=[So("isThemeDark",wp,e),So("isThemeLight",wp,e),So("updateTheme",eu,e),wo("resolveSemanticColor",Xn.default.meta??Xn.default.internal,(r,o)=>{if(!ce.current)return o(...r);if(r[0]!==ce.key)return o(...r);r[0]=ce.current.reference;var[n,i]=Tp(ce.current.reference,r[1]),l=ce.current.semantic[n];if(!l&&ce.current.spec===2&&n in Ep&&(l=ce.current.semantic[Ep[n]]),l?.value)return(0,Tc.default)(l.value).alpha(l.opacity).hex();var c=ce.current.raw[i.raw];return c?i.opacity===1?c:(0,Tc.default)(c).alpha(i.opacity).hex():o(...r)}),()=>{Object.defineProperty(Xn,"RawColor",{configurable:!0,writable:!0,value:ce.origRaw})}];return()=>t.forEach(r=>r())}function Tp(e,t){var r=t[Tp._sym??=Object.getOwnPropertySymbols(t)[0]],o=Xn.SemanticColor[r];return[r,o[e]]}var Tc,Xn,wp,Ep,Cp=h(()=>{"use strict";a();s();vn();lr();Xe();ht();$i();Wi();Tc=U(qn()),Xn=H("SemanticColor"),wp=Mr(zi("isThemeDark")),Ep={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"}});function Rc(){var e=new Set(["ThemeStore","SelectivelySyncedUserSettingsStore"]),t=[ae("get",Rp,([r],o)=>{if(!(!ce.current||!e.has(r))){var n=qr(o._state,i=>typeof i.theme=="string");n&&(n.theme=ce.key)}}),So("set",Rp,([r,o])=>{if(e.has(r)){var n=JSON.stringify(o),i=ce.lastSetDiscordTheme??"darker",l=n.replace(/"theme":"bn-theme-\d+"/,`"theme":${JSON.stringify(i)}`);return[r,JSON.parse(l)]}})];return()=>t.forEach(r=>r())}var Rp,Ap=h(()=>{"use strict";a();s();vn();Xe();bt();Be();ht();Rp=ke(()=>{var e=H("impl");return typeof e?.impl=="object"?e.impl:H("storage")})});function Ac(e){var t=[Rc(),Cc(),Ec()];return e&&ko(e,{update:!1}),()=>t.forEach(r=>r())}var Op=h(()=>{"use strict";a();s();Sp();Cp();Ap();vn()});var _n={};j(_n,{fetchTheme:()=>yn,getCurrentTheme:()=>to,getThemeFromLoader:()=>Bo,initThemes:()=>Dc,installTheme:()=>Zr,removeTheme:()=>gn,selectTheme:()=>eo,themes:()=>we,updateThemes:()=>ks,writeThemeToNative:()=>Jn});function Jn(e){return Oc.apply(this,arguments)}function Oc(){return Oc=x(function*(e){if(typeof e!="object")throw new Error("Theme must be an object");yield sn(Ip()||"theme.json").set(e)}),Oc.apply(this,arguments)}function Ib(e){if(e.semanticColors){var{semanticColors:t}=e;for(var r in t)for(var o in t[r])t[r][o]&&=ma(t[r][o])||!1}if(e.rawColors){var{rawColors:n}=e;for(var i in n){var l=ma(n[i]);l&&(e.rawColors[i]=l)}Pp.Platform.OS==="android"&&Sc(n)}return e.spec??=2,e}function yn(e){return Pc.apply(this,arguments)}function Pc(){return Pc=x(function*(e,t=!1){var r;try{r=yield(yield Ge(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}we[e]={id:e,selected:t,data:Ib(r)},t&&(Jn(we[e]),ko(we[e].data,{update:!0}))}),Pc.apply(this,arguments)}function Zr(e){return Ic.apply(this,arguments)}function Ic(){return Ic=x(function*(e){if(typeof e!="string"||e in we)throw new Error("Theme already installed");yield yn(e)}),Ic.apply(this,arguments)}function eo(e,t=!0){if(e&&(e.selected=!0),Object.keys(we).forEach(r=>we[r].selected=we[r].id===e?.id),e==null&&t)return ko(null,{update:!0}),Jn({});if(e)return ko(e.data,{update:!0}),Jn(e)}function gn(e){return Lc.apply(this,arguments)}function Lc(){return Lc=x(function*(e){var t=we[e];return t.selected&&(yield eo(null)),delete we[e],t.selected}),Lc.apply(this,arguments)}function ks(){return Mc.apply(this,arguments)}function Mc(){return Mc=x(function*(){yield Po(we);var e=Bo();yield d(Object.keys(we).map(t=>yn(t,e?.id===t)))}),Mc.apply(this,arguments)}function to(){return Object.values(we).find(e=>e.selected)??null}function Bo(){return Bs()}function Dc(){return Nc.apply(this,arguments)}function Nc(){return Nc=x(function*(){if(_r())try{ze()&&zr("../vendetta_theme.json","null"),yield Wn(Nt);var e=Bo();Ac(e?.data??null),ks().catch(t=>console.error("Failed to update themes",t))}catch(t){console.error("Failed to initialize themes",t)}}),Nc.apply(this,arguments)}var Pp,we,Dt=h(()=>{"use strict";a();s();ye();De();cn();ro();Dr();bt();Pp=U(se());Op();wc();ta();vn();we=cr(Mt(fr("VENDETTA_THEMES")))});function xt(){return kr!=null}function ze(){return oo!=null}function Lb(){if(!ze()||xt())return null;var e={name:oo.loaderName,features:{}};return Bc()&&(e.features.loaderConfig=!0),Dp()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:()=>Mb(),configurable:!0})),_r()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:()=>{var t=Bs()?.id;if(!t)return null;var{themes:r}=(Dt(),dt(_n));return r[t]??Bs()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:()=>e,configurable:!0}),e}function Fc(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:Lb()}function kc(){return ze()?oo.loaderName:xt()?kr.name:"Unknown"}function Lp(){return ze()?oo.loaderVersion:null}function Bc(){return ze()?!0:xt()?kr.features.loaderConfig:!1}function _r(){return ze()?oo.hasThemeSupport:xt()?kr.features.themes!=null:!1}function Bs(){if(ze())return oo.storedTheme;if(xt()){var e=kr.features.themes?.prop;return e&&globalThis[e]||null}return null}function Ip(){return ze()?"pyoncord/current-theme.json":xt()?"vendetta_theme.json":null}function da(){return ze()?!!window.__reactDevTools:xt()?kr.features.devtools!=null:!1}function Mp(){return da()?ze()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):xt()?kr.features.devtools.prop:null:null}function Np(){return da()?ze()?window.__reactDevTools.version||null:xt()?kr.features.devtools.version:null:null}function Dp(){return ze()?oo.isSysColorsSupported:xt()?kr.features.syscolors!=null:!1}function Mb(){return Dp()?ze()?oo.sysColors:xt()?kr.features.syscolors.prop:null:null}function Fp(){return ze()?"pyoncord/loader.json":xt()?"vendetta_loader.json":"loader.json"}function kp(){return ze()?oo.fontPatch===2:!1}var oo,kr,ro=h(()=>{"use strict";a();s();oo=globalThis.__PYON_LOADER__,kr=globalThis.__vendetta_loader;Fc()});var js={};j(js,{loaderConfig:()=>Zt,settings:()=>D});var D,Zt,je=h(()=>{"use strict";a();s();De();ro();D=cr(Mt(fr("VENDETTA_SETTINGS"))),Zt=cr(Mt(sn(Fp(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var Vc={};j(Vc,{default:()=>Nb});var Bp,Up,jc,Hc,Zn,Uc,no,jp,pa,Nb,Gc=h(()=>{"use strict";a();s();an();Bp=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),Up={},jc={},Hc=zc("redesign_module");for([jp,pa]of Hc.getModules())for(no of Bp){if(Zn=void 0,pa[no])Zn=pa;else if(pa.default?.[no])Zn=pa.default;else continue;Uc=Reflect.ownKeys(Zn).length,!(jc[no]&&Uc>=jc[no])&&(Up[no]=Zn[no],jc[no]=Reflect.ownKeys(Zn).length,Hc.cacheId(jp),Uc===1&&Bp.delete(no))}Hc.finish();Nb=Up});var Qc={};j(Qc,{getCachedPolyfillModules:()=>Ub,getImportingModuleId:()=>au,getModules:()=>_s,metroModules:()=>at,requireModule:()=>Wt,subscribeModule:()=>yu});function Hs(e){Object.defineProperty(at,e,{enumerable:!1}),$p.add(e),qc(Number(e))}function ha(e){return!e||e===window||e["<!@ pylix was here :fuyusquish: !@>"]===null||e.__proto__===Object.prototype&&Reflect.ownKeys(e).length===0}function jb(e,t){if(Kc(t,e),e.initSentry&&=()=>{},e.default?.track&&e.default.trackMaker&&(e.default.track=()=>Promise.resolve()),e.registerAsset&&(ge(),dt(Ui)).patchAssets(e),!Gp&&["customBubblingEventTypes","customDirectEventTypes","register","get"].every(l=>e[l])&&(Wc("register",e,(l,c)=>{try{return c(...l)}catch{}}),Gp=!0),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(l,c,f){if(c==="isDeveloper"){var{settings:y}=(je(),dt(js));return y.enableDiscordDeveloperSettings??!1}return Reflect.get(l,c,f)}})),!Vp&&e.fileFinishedImporting&&(Fb("fileFinishedImporting",e,([l])=>{ei===-1||!l||(at[ei].__filePath=l)}),Vp=!0),!Hp&&window["__core-js_shared__"]){var r=l=>typeof l=="function"&&Bb.apply(l,[]);window["__core-js_shared__"].inspectSource=r,Hp=!0}if(e.findHostInstance_DEPRECATED){var o=at[t-1]?.publicModule.exports,n=o.default?.reactProfilingEnabled?1:-1;at[t+n]?.isInitialized||Hs(t+n)}e.isMoment&&Wc("defineLocale",e,(l,c)=>{var f=e.locale();c(...l),e.locale(f)});var i=Us.get(Number(t));i&&(i.forEach(l=>l()),Us.delete(Number(t)))}function au(){return ei}function yu(e,t){var r=Us.get(e)??new Set;return r.add(t),Us.set(e,r),()=>r.delete(t)}function Wt(e){if(at[0]?.isInitialized||$c(0),!$p.has(e)){if(Number(e)===-1)return Gc(),dt(Vc);if(at[e]?.isInitialized&&!at[e]?.hasError)return $c(e);var t=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(kb);var r;try{r=$c(e)}catch{Hs(e),r=void 0}return ErrorUtils.setGlobalHandler(t),r}}function*_s(e,t=!1){yield[-1,(Gc(),dt(Vc))];var r=Lr().findIndex[e];if(t&&!r?.[`_${Ir.FULL_LOOKUP}`]&&(r=void 0),!r?.[`_${Ir.NOT_FOUND}`]){for(var o in r)if(o[0]!=="_"){var n=Wt(Number(o));ha(n)||(yield[o,n])}for(var i in at){var l=Wt(Number(i));ha(l)||(yield[i,l])}}}function*Ub(e){var t=Lr().polyfillIndex[e];for(var r in t){var o=Wt(Number(r));ha(o)||(yield[r,o])}if(!t[`_${Ir.FULL_LOOKUP}`])for(var n in at){var i=Wt(Number(n));ha(i)||(yield[n,i])}}var Db,Fb,Wc,at,$c,Us,$p,kb,Bb,Hp,Vp,Gp,ei,zp,nn=h(()=>{"use strict";a();s();an();nu();Db=function(e){var t=Number(e),r=at[t],o=Lr().exportsIndex[t];if(o&xo.BLACKLISTED)return Hs(t),"continue";r.factory&&Wc("factory",r,(n,i)=>{var l=ei;ei=t;var{1:c,4:f}=n;n[2]=y=>{var v=c(y);return v&&v.__esModule?v.default:v},n[3]=y=>{var v=c(y);if(v&&v.__esModule)return v;var w={};return v&&Object.assign(w,v),w.default=v,w},i(...n),ha(f.exports)?Hs(t):jb(f.exports,t),ei=l})},{before:Fb,instead:Wc}=ms(),at=window.modules,$c=window.__r,Us=new Map,$p=new Set,kb=()=>{},Bb=Function.prototype.toString,Hp=!1,Vp=!1,Gp=!1,ei=-1;for(zp in at)Db(zp)});var Yp={};j(Yp,{getCacherForUniq:()=>bs,getMetroCache:()=>Lr,getPolyfillModuleCacher:()=>zc,indexAssetName:()=>su,indexBlacklistFlag:()=>qc,indexExportsFlags:()=>Kc,initMetroCache:()=>Hb});function Wp(){var e={_v:Qp,_buildNumber:en.Build,_modulesCount:Object.keys(window.modules).length,exportsIndex:{},findIndex:{},polyfillIndex:{},assetsIndex:{}};return setTimeout(()=>{for(var t in window.modules)(nn(),dt(Qc)).requireModule(t)},100),vt=e,e}function Hb(){return Yc.apply(this,arguments)}function Yc(){return Yc=x(function*(){var e=yield Pr.getItem(Kp);if(e==null)return void Wp();try{if(vt=JSON.parse(e),vt._v!==Qp)throw vt=null,"cache invalidated; cache version outdated";if(vt._buildNumber!==en.Build)throw vt=null,"cache invalidated; version mismatch";if(vt._modulesCount!==Object.keys(window.modules).length)throw vt=null,"cache invalidated; modules count mismatch"}catch{Wp()}}),Yc.apply(this,arguments)}function qp(e){if(e){var t=xo.EXISTS;return t}}function Kc(e,t){var r=qp(t);r&&r!==xo.EXISTS&&(vt.exportsIndex[e]=r)}function qc(e){vt.exportsIndex[e]|=xo.BLACKLISTED}function bs(e,t){var r=vt.findIndex[e]??={};return{cacheId(o,n){r[o]??=qp(n),va()},finish(o){t&&(r[`_${Ir.FULL_LOOKUP}`]=1),o&&(r[`_${Ir.NOT_FOUND}`]=1),va()}}}function zc(e){var t=vt.polyfillIndex[e]??={};return{getModules(){return(nn(),dt(Qc)).getCachedPolyfillModules(e)},cacheId(r){t[r]=1,va()},finish(){t[`_${Ir.FULL_LOOKUP}`]=1,va()}}}function su(e,t){isNaN(t)||((vt.assetsIndex[e]??={})[t]=1,va())}var Qp,Kp,vt,Lr,va,an=h(()=>{"use strict";a();s();ye();lr();rn();nu();Qp=52,Kp="__bunny_metro_cache_key__",vt=null,Lr=window.__getMetroCache=()=>vt;va=Ni(()=>{Pr.setItem(Kp,JSON.stringify(vt))},1e3)});function Vs(e){return"componentStack"in e&&typeof e.componentStack=="string"}function Gs(e){return!!e.stack}var Xc=h(()=>{"use strict";a();s()});var Jp,Xp=h(()=>{Jp={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",CONTINUE:"Continue",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DESC_EXTRACT_FONTS_FROM_THEME:'Looks out for "fonts" field in your currently applied theme and install it.',DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",DONE:"Done",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",EXTRACT:"Extract",FONT_NAME:"Font Name",FONTS:"Fonts",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install an add-on",INSTALL_FONT:"Install a font",INSTALL_PLUGIN:"Install a plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LABEL_EXTRACT_FONTS_FROM_THEME:"Extract font from theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",REMOVE:"Remove",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart is required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_FONTS:"You are in Safe Mode, meaning fonts have been temporarily disabled. {enabled, select, true {If a font appears to be causing the issue, you can press below to disable it persistently.} other {}}",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SEPARATOR:", ",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_EXTRACTOR_DESC:"This pack overrides the following: {fonts}",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function th(){var e=({locale:t})=>{var r={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},o=Zp=r[t]??t;if(o.startsWith("en-")){ti=null;return}eh.has(o)?ti=o:(eh.add(o),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${o}/bunny.json`).then(n=>n.json()).then(n=>Jc[o]=n).then(()=>o===Zp&&(ti=o)).catch(n=>console.error(`An error occured while fetching strings for ${o}: ${n}`)))};return gr.subscribe("I18N_LOAD_SUCCESS",e),()=>gr.unsubscribe("I18N_LOAD_SUCCESS",e)}function Ft(e,t){var r=g[e];return new Gb(r).format(t)}var Gb,ti,Zp,eh,Jc,g,Me=h(()=>{"use strict";a();s();J();Re();Xp();Gb=st("MessageFormat"),ti=null,Zp=null,eh=new Set,Jc={},g=new Proxy({},{get:(e,t)=>ti&&Jc[ti]?.[t]?Jc[ti]?.[t]:Jp[t]})});var zs={};j(zs,{showToast:()=>X});var zb,X,er=h(()=>{"use strict";a();s();Me();ge();Be();J();Re();({uuid4:zb}=te(()=>H("uuid4"))),X=(e,t)=>ca.open({key:`vd-toast-${zb()}`,content:e,source:t,icon:t});X.showCopyToClipboard=(e=g.COPIED_TO_CLIPBOARD)=>{X(e,b("toast_copy_link"))}});var Ws={};j(Ws,{connectToDebugger:()=>ga,getDebugInfo:()=>xr,patchLogHook:()=>tf,toggleSafeMode:()=>ef,versionHash:()=>ya});function ef(){return Zc.apply(this,arguments)}function Zc(){return Zc=x(function*(){D.safeMode={...D.safeMode,enabled:!D.safeMode?.enabled},_r()&&(Bo()?.id&&(D.safeMode.currentThemeId=Bo().id),D.safeMode?.enabled?yield eo(null):D.safeMode?.currentThemeId&&(yield eo(we[D.safeMode?.currentThemeId]))),setTimeout($t.reload,400)}),Zc.apply(this,arguments)}function ga(e){if(br!==void 0&&br.readyState!==WebSocket.CLOSED&&br.close(),!e){X("Invalid debugger URL!",b("Small"));return}br=new WebSocket(`ws://${e}`),br.addEventListener("open",()=>X("Connected to debugger.",b("Check"))),br.addEventListener("message",t=>{try{(0,eval)(t.data)}catch(r){console.error(r)}}),br.addEventListener("error",t=>{console.log(`Debugger error: ${t.message}`),X("An error occurred with the debugger connection!",b("Small"))})}function tf(){var e=ae("nativeLoggingHook",globalThis,t=>{br?.readyState===WebSocket.OPEN&&br.send(JSON.stringify({message:t[0],level:t[1]})),lt.log(t[0])});return()=>{br&&br.close(),e()}}function xr(){var e=window.HermesInternal.getRuntimeProperties(),t=e["OSS Release Version"],r="for RN ",o=$s.Platform.constants,n=o.reactNativeVersion;return{vendetta:{version:ya.split("-")[0],loader:kc()},bunny:{version:ya,loader:{name:kc(),version:Lp()}},discord:{version:en.Version,build:en.Build},react:{version:React.version,nativeVersion:t.startsWith(r)?t.substring(r.length):`${n.major}.${n.minor}.${n.patch}`},hermes:{version:t,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...$s.Platform.select({android:{os:{name:"Android",version:o.Release,sdk:o.Version}},ios:{os:{name:o.systemName,version:o.osVersion}}}),...$s.Platform.select({android:{device:{manufacturer:o.Manufacturer,brand:o.Brand,model:o.Model,codename:tn.device}},ios:{device:{manufacturer:tn.deviceManufacturer,brand:tn.deviceBrand,model:tn.deviceModel,codename:tn.device}}})}}var $s,br,ya,io=h(()=>{"use strict";a();s();ye();Dt();ge();ro();lr();Xe();je();Yr();er();$s=U(se());ya="b37ff5b-dev"});function of(e){var t=Cu("modules/forwarding/native/ForwardFailedAlertModal.tsx");return!t&&"extraContent"in e&&(e.content=S(rf.View,{style:{gap:16},children:[u(P,{variant:"text-md/medium",color:"text-muted",children:e.content}),u(rf.View,{children:e.extraContent})]}),delete e.extraContent),u($b,{...e})}var rf,$b,Wb,rh,oh=h(()=>{"use strict";a();s();q();Be();ht();ue();rf=U(se()),{AlertModal:$b,AlertActionButton:Wb}=te(()=>H("AlertModal","AlertActions")),rh=Wb});var nf={};j(nf,{AlertActionButton:()=>rh,AlertModal:()=>of});var nh=h(()=>{"use strict";a();s();oh()});function sh(e){return ah.isSemanticColor(e)}function lh(e,t=Qb.theme){return ah.resolveSemanticColor(t,e)}var Qs,St,ih,Qb,ah,ri=h(()=>{"use strict";a();s();J();Re();Qs=H("SemanticColor"),St=Qs?.default?.colors??yr?.ThemeColorMap,ih=Qs?.default?.unsafe_rawColors??yr?.Colors,Qb=Qi("ThemeStore"),ah=Qs.default.meta??=Qs.default.internal});var lf={};j(lf,{TextStyleSheet:()=>ao,ThemeContext:()=>af,createLegacyClassComponentStyles:()=>qb,createStyles:()=>Sr,createThemedStyleSheet:()=>sf});function Sr(e){return ke(()=>ch.createStyles(e))}function qb(e){return ke(()=>ch.createLegacyClassComponentStyles(e))}function sf(e){for(var t in e)e[t]=new Proxy(uh.StyleSheet.flatten(e[t]),{get(r,o,n){var i=Reflect.get(r,o,n);return sh(i)?lh(i):i}});return e}var uh,ch,af,ao,Br=h(()=>{"use strict";a();s();Be();Re();ri();uh=U(se()),ch=N("createStyles"),{ThemeContext:af}=te(()=>H("ThemeContext"),{hint:"object"}),{TextStyleSheet:ao}=te(()=>H("TextStyleSheet"))});function wr({selectable:e,style:t,children:r}){return e?oi.Platform.select({ios:u(Yb,{style:t,children:r}),default:u(fh,{style:t,children:r,selectable:!0})}):u(fh,{style:t,children:r})}var oi,mh,Yb,fh,dh=h(()=>{"use strict";a();s();q();J();ri();Br();oi=U(se()),mh=Sr({codeBlock:{fontFamily:yr.Fonts.CODE_NORMAL,fontSize:12,textAlignVertical:"center",backgroundColor:St.BACKGROUND_SECONDARY,color:St.TEXT_NORMAL,borderWidth:1,borderRadius:12,borderColor:St.BACKGROUND_TERTIARY,padding:10}}),Yb=({style:e,children:t})=>u(oi.TextInput,{editable:!1,multiline:!0,style:[mh().codeBlock,e&&e],value:t}),fh=({selectable:e,style:t,children:r})=>u(oi.Text,{selectable:e,style:[mh().codeBlock,t&&t],children:r})});var uf={};j(uf,{hideSheet:()=>jo,showSheet:()=>bn});function bn(e,t,r){"then"in t||(t=Promise.resolve({default:t})),ph.openLazy(t,e,r??{})}function jo(e){ph.hideActionSheet(e)}var ph,xn=h(()=>{"use strict";a();s();Re();ph=N("openLazy","hideActionSheet")});function hh(e){return e.split(/[\s|\n]+?in /).filter(Boolean)}var vh=h(()=>{"use strict";a();s()});var rt=Ar((LO,yh)=>{a();s();yh.exports=Oo().react});function _a(e){var[t,r]=(0,gh.useState)(!0),o;try{o=hh(e.componentStack),o=t?o.slice(0,4):o}catch{return}return u(Oe,{children:S(Sn.View,{style:{gap:8},children:[u(P,{variant:"heading-lg/bold",children:"Component Stack"}),u(Sn.View,{style:{gap:4},children:o.map(n=>S(Sn.View,{style:{flexDirection:"row"},children:[u(P,{variant:"text-md/bold",color:"text-muted",children:"<"}),u(P,{variant:"text-md/bold",children:n}),u(P,{variant:"text-md/bold",color:"text-muted",children:"/>"})]}))}),t&&u(P,{children:"..."}),S(Sn.View,{style:{gap:8,flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[u(Q,{variant:"secondary",text:`Show ${t?"more":"less"}`,icon:t?b("down_arrow"):u(Sn.Image,{style:{transform:[{rotate:`${t?0:180}deg`}]},source:b("down_arrow")}),onPress:()=>r(n=>!n)}),u(Q,{variant:"secondary",text:"Copy",icon:b("CopyIcon"),onPress:()=>tt.setString(e.componentStack)})]})]})})}var gh,Sn,cf=h(()=>{"use strict";a();s();q();vh();ge();J();ue();gh=U(rt()),Sn=U(se())});function ex(e){return e==="InternalBytecode.js"}function tx(e){var t=e.match(Xb);if(t)return{type:"FRAME",functionName:t[1],location:t[2]==="native"?{type:"NATIVE"}:t[3]==="address at "?ex(t[4])?{type:"INTERNAL_BYTECODE",sourceUrl:t[4],line1Based:Number.parseInt(t[5],10),virtualOffset0Based:Number.parseInt(t[6],10)}:{type:"BYTECODE",sourceUrl:t[4],line1Based:Number.parseInt(t[5],10),virtualOffset0Based:Number.parseInt(t[6],10)}:{type:"SOURCE",sourceUrl:t[4],line1Based:Number.parseInt(t[5],10),column1Based:Number.parseInt(t[6],10)}};var r=e.match(Jb);if(r)return{type:"SKIPPED",count:Number.parseInt(r[1],10)}}function rx(e){for(var t=e.split(/\n/),r=[],o=-1,n=0;n<t.length;++n){var i=t[n];if(i){var l=tx(i);if(l){r.push(l);continue}Zb.test(i)||(o=n,r=[])}}var c=t.slice(0,o+1).join(`
`);return{message:c,entries:r}}function ox(e){var t=[];for(var r of e.entries)if(r.type==="FRAME"){var{location:o,functionName:n}=r;o.type==="NATIVE"||o.type==="INTERNAL_BYTECODE"||t.push({methodName:n,file:o.sourceUrl,lineNumber:o.line1Based,column:o.type==="SOURCE"?o.column1Based-1:o.virtualOffset0Based})}return t}function ff(e){if(e==null)return[];var t=Array.isArray(e)?e:ox(rx(e));return t}var Xb,Jb,Zb,_h=h(()=>{"use strict";a();s();Xb=/^ {4}at (.+?)(?: \((native)\)?| \((address at )?(.*?):(\d+):(\d+)\))$/,Jb=/^ {4}... skipping (\d+) frames$/,Zb=/^ {4}at .*$/});function ba(e){var[t,r]=(0,mf.useState)(!0),o;try{var n=ff(e.error.stack);o=t?n.slice(0,4):n}catch{return null}return u(Oe,{children:S(Uo.View,{style:{gap:12},children:[u(P,{variant:"heading-lg/bold",children:"Call Stack"}),u(Uo.View,{style:{gap:4},children:o.map((i,l)=>u(nx,{id:l,frame:i}))}),t&&u(P,{children:"..."}),S(Uo.View,{style:{gap:8,flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[u(Q,{variant:"secondary",text:`Show ${t?"more":"less"}`,icon:t?b("down_arrow"):u(Uo.Image,{style:{transform:[{rotate:`${t?0:180}deg`}]},source:b("down_arrow")}),onPress:()=>r(i=>!i)}),u(Q,{variant:"secondary",text:"Copy",icon:b("CopyIcon"),onPress:()=>tt.setString(e.error.stack)})]})]})})}function nx(e){var[t,r]=(0,mf.useState)(!0);return S(Uo.Pressable,{onPress:()=>r(o=>!o),children:[u(P,{style:{fontFamily:yr.Fonts.CODE_BOLD},children:e.frame.methodName}),u(P,{style:{fontFamily:yr.Fonts.CODE_NORMAL},ellipsizeMode:"middle",numberOfLines:t?1:void 0,children:S(P,{color:"text-muted",children:[e.frame.file===bh?"jsbundle":e.frame.file,":",e.frame.lineNumber,":",e.frame.column]})})]},e.id)}var mf,Uo,df=h(()=>{"use strict";a();s();q();_h();ge();J();ue();mf=U(rt()),Uo=U(se());pf()});function hf(e){return u(vr,{children:S(xh.View,{style:{gap:12,paddingVertical:12},children:[u(P,{variant:"heading-lg/extrabold",children:"Error"}),u(wr,{selectable:!0,children:e.error.message}),Gs(e.error)&&u(ba,{error:e.error}),Vs(e.error)?u(_a,{componentStack:e.error.componentStack}):null]})})}var xh,Sh=h(()=>{"use strict";a();s();q();Xc();tr();ue();xh=U(se());cf();df()});function vf(e){return u(Oe,{children:S(Se,{children:[e.header&&typeof e.header!="string"?e.header:u(P,{variant:"heading-lg/bold",children:e.header??g.UH_OH}),u(wr,{selectable:!0,children:String(e.error)}),S(uc,{children:[e.onRetryRender&&u(Q,{variant:"destructive",text:g.RETRY_RENDER,onPress:e.onRetryRender}),e.error instanceof Error?u(Q,{text:"Details",onPress:()=>bn("BunnyErrorDetailsActionSheet",hf,{error:e.error})}):null]})]})})}var bh,pf=h(()=>{"use strict";a();s();q();Me();tr();xn();ue();Sh();bh=window.HermesInternal.getFunctionLocation(window.__r).fileName});var ix,Ie,yf=h(()=>{"use strict";a();s();It();Ye();it();lu();Lt();q();pf();J();Br();Ie=function(e){"use strict";xe(t,e);function t(r){Y(this,t);var o;return o=be(this,t,[r]),o.state={hasErr:!1},o}return ee(t,[{key:"render",value:function(){return this.state.hasErr?u(vf,{error:this.state.error,onRetryRender:()=>this.setState({hasErr:!1})}):this.props.children}}]),t}(ix=fa.Component);Hi(Ie,"contextType",af);Hi(Ie,"getDerivedStateFromError",e=>({hasErr:!0,error:e}))});function ax(){return u(Ks.Image,{style:{width:16,height:16},source:b("search")})}var Ks,Ho,wh=h(()=>{"use strict";a();s();q();Me();ge();ue();yf();Ks=U(se());Ho=({onChangeText:e,placeholder:t,style:r,isRound:o})=>{var[n,i]=React.useState(""),l=c=>{i(c),e?.(c)};return u(Ie,{children:u(Ks.View,{style:r,children:u(pt,{grow:!0,isClearable:!0,leadingIcon:ax,placeholder:t??g.SEARCH,onChange:l,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,isRound:o,value:n})})})}});function Sa({label:e,icon:t,noPadding:r=!1,noAnimation:o=!1,children:n}){var[i,l]=React.useState(!0);return S(Yt,{children:[u(L,{label:e,icon:t&&u(L.Icon,{source:b(t)}),trailing:u(Fr.Arrow,{style:{transform:[{rotate:`${i?180:90}deg`}]}}),onPress:()=>{l(!i),o||xa.LayoutAnimation.configureNext(xa.LayoutAnimation.Presets.easeInEaseOut)}}),!i&&u(Yt,{children:u(xa.View,{style:!r&&{paddingHorizontal:15},children:n})})]})}var xa,Eh=h(()=>{"use strict";a();s();q();ge();ue();xa=U(se())});var qs={};j(qs,{Codeblock:()=>wr,ErrorBoundary:()=>Ie,Search:()=>Ho,Summary:()=>Sa,wrappers:()=>nf});var tr=h(()=>{"use strict";a();s();nh();dh();yf();wh();Eh()});function gf(e){var t=sx(),r=xr();return u(Ie,{children:S(na,{style:t.container,children:[S(Ys.View,{style:{gap:4},children:[u(P,{variant:"display-lg",children:"Uh oh."}),u(P,{variant:"text-md/normal",children:"A crash occured while rendering a component. This could be caused by a plugin, Bunny or Discord itself."}),S(P,{variant:"text-sm/normal",color:"text-muted",children:[r.os.name,"; ",r.discord.build," (",r.discord.version,"); ",r.bunny.version]})]}),S(Ys.ScrollView,{fadingEdgeLength:64,contentContainerStyle:{gap:12},children:[u(wr,{selectable:!0,children:e.error.message}),Gs(e.error)&&u(ba,{error:e.error}),Vs(e.error)?u(_a,{componentStack:e.error.componentStack}):null]}),S(Oe,{style:{gap:6},children:[u(Q,{text:"Reload Discord",onPress:()=>$t.reload()}),!D.safeMode?.enabled&&u(Q,{text:"Reload in Safe Mode",onPress:()=>ef()}),u(Q,{variant:"destructive",text:"Retry Render",onPress:()=>e.rerender()})]})]})})}var Ys,sx,Th=h(()=>{"use strict";a();s();q();Xc();io();lr();je();tr();Br();J();ue();Ys=U(se());cf();df();sx=Sr({container:{flex:1,backgroundColor:Jr.colors.BG_BASE_SECONDARY,paddingHorizontal:16,height:"100%",padding:8,gap:12}})});function lx(){var e=st("ErrorBoundary")[xs];return new Promise(t=>e.getExports(r=>t(r.prototype)))}function _f(){return ae.await("render",lx(),function(){if(this.state.error)return u(gf,{error:this.state.error,rerender:()=>this.setState({info:null,error:null})})})}var Ch=h(()=>{"use strict";a();s();q();Th();Xe();Wi();Re()});var bf=Ar((_I,Rh)=>{a();s();Rh.exports=Oo().moment});function Oh({locale:e}){try{Ah.default.locale(e.toLowerCase())}catch(t){lt.error("Failed to fix timestamps...",t)}gr.unsubscribe("I18N_LOAD_SUCCESS",Oh)}var Ah,Ph,Ih=h(()=>{"use strict";a();s();Yr();J();Ah=U(bf());Ph=()=>{gr.subscribe("I18N_LOAD_SUCCESS",Oh)}});var Xs,Lh=h(()=>{Xs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABoBJREFUeF7lW1nIVlUUXasom80kijJKaVQzGtTUjCJteNBmeqigssnIpDIqwmw0GqhQi4iw8SEaHtKgMpNKM7SiyUZpLppoTi0rd2f9nCu36/2+79zxv/5t8MV/n333WWefffb0EQ0iM+sH4AEAowG8CGAqycVVqsgqhWeVbWavAtg/tu4vABNIPphVVih/YwAws2EAlrRQfChJgVM6NQmARwGc0GKHX5PcofTdA2gSAJ8A2KXNJueQPLpsEJoEwI8A+rTZ4GrnIAeQ/KpMEJoEwCoAm3TY3DKSezcKADPbCMDWADYEIK/9B4CVJC2LomYWwv8PgC1JCqxSqJAFmNlOAF6PAfA3ACn3MYBLSD4bqmUgABI3l+T4ULmd+IoCcDeAs9p8RI5NPDNJrminTAYAZAVbkJSlFaaiALwJYEiAFh8CuJHk7Fa8ZqaNbRAgSyzjSc4N5G3LVhQAmfiYDIosBXAGyXeSa8xMJ9orUNb7AAZm9TNpsosCMNnd/9sDlY7Y/gRwAYDZJOUzusjMfvK+JFRcX5J6OgtRUQB2B/BBDg3k8ZeQHBED4AsASoZCaTTJRaHMrfiKAqD1jwM4NqcinwE4mOTnZiYgBWgozSN5RChzJQB40x0A4KMCivwO4GQAFwI4JIMcRYa9i74GhSwgZr5XuWs8LYPyaazPAMh6ojvLeop8tywA5L0V/FSSsbXZ4Eh3DV7udgD8VdgMwK8+JC6iU5a115GcmmVBkrcUC4hdhYPcPX6+RhAWkDysMQB4SzgXwB0Zoroi+q8iKcvLTaVaQMwSZgGYWBMIfUj+nBeBSgDwljADwHk1XIdCL0FlAMRAOL/i0tsgku82zgI8AMruLgNwfV4FA9btQ/KtAL5UlkotIOYTjgdwr6o5eRVts244SWWZuagWALw1DFUGCGBwLk1bLxpG8pW8MmsDwIPQ25W+7wNwTF6FU9bJ2U7L+xLUCkDsSij5keLblASEagmjSL6XVV63AOCtQSVw3d2yytxr3JN7LUklZsHUnQAMcnUE1RRVTi+TXgIwjqSsoiN1CwBmtqvzA28A2LyjhvkYlCKr9vhcp+W1A2BmewB4AcB2nZQr+Hc1aaaQlK9pSbUC4E9eLfCynF8IRoo/JpJUMXYdqgUAM9N3RgFYGKJxDh71FK5WAwbAvgAeShRnPgWwZxoIdQFwEwCV0DfOsbmQJWPi993MZGGqMsdT5e9VdE3GC5UCYGY69ehUQjaSh0dv/5B4j0FCXJ8hrWexHMAIkj9EH6oEADNTZUjNj+MqeOaSIM0nOTb5n2amStH8FEQVNh8eWcJaAHybe7gfU9kLgEzmbd/91VCCujArXdd3hdA2M73fKobKzDTYIK+uRsel7tT75jnKnGvUUtuWpMrra8nMNG12aguZatjKMa7pAsDMtnK9tkdylKVz6lz6snsATFKPwB+M+gtppx//sBoyCyMAkuNppWtYg0CVxeT4tvfPbKcI8zHXpD2RZnaOW3RXDQo27ROrSfYSAGowylv/30iR4qYCQBFSVe9zk0Fd5GKH0QJAPfpO96XJG8mjmyJHOcHFAuA1APvlkbIerzmN5P3SXwBc7IaOblmPN5NVdaXK/RUDRACoTqcOq4KfptA37l1XuKpma0QKrlQ/2LEEJY8i+XQXAD4Q6u+uwZwKKrbtdNWYjMboNDClf0qTl+ktb5W6RsLMbDc/naZK80Cvt/YQSvruYJIr46GwanQTAJzph5Y1/Vk2aVZQCck8xR4kpUgpZGYCQDHNOK9/p6bpRSRvS02GzEx1tZGlaAbopH8DcDnJO0uS2VaMmWnzk1xz9hrXldIob9o+ldf0W+cPZiafkLvbmtDsSY3MytQ7mXUVwJiZrFozTKoK6QcZSVrXAszsSABPFVRIs4MzyjTxgvoo4TsAwCm+Yy2rEC1PswC9CAfm+KBMSsWPW0l+l2N9LUt8UfYKf8Vn/gcAM9MT82VGTeTYngBwdqeB6Ixya2FPAnCSKx4+HPhlBRJ6vsaS/DZwTePYkgCozx7SqpJXl69YmqzFNW6HHRSKxwGhc79XApgV2npqOiBxAE73/ftWOquRqbJT7mGEJoIRhcIaZVGjMm14QT+BucHVDKa7oUSlkT2KIgAUT6/zIwbXYFTmpLxZU909kiIAprhM6+bEDqf7Hy93pY09lSIAFriO7aF+k7/4aYs0i+hxOEQAqIGgNrJ+iDS5p3j4kNP6F9f7+CyBdXonAAAAAElFTkSuQmCC"});function Js(e,t,r,o,n){return x(function*(){if(e)return void e();var i=yield r().then(l=>l.default);typeof o=="string"&&(o={title:o}),t??=cx.getRootNavigationRef(),t.navigate("BUNNY_CUSTOM_PAGE",{...o,render:()=>u(i,{...n})})})}var cx,ni,xf=h(()=>{"use strict";a();s();ye();q();J();Re();tr();cx=N("getRootNavigationRef"),ni=React.memo(()=>{var e=Ae.useNavigation(),t=Ae.useRoute(),{render:r,...o}=t.params;return React.useEffect(()=>void e.setOptions({...o}),[]),u(Ie,{children:u(r,{})})})});function fx(){var e=Ae.useNavigation();return u(Yt,{children:Object.keys(Er).map(t=>Er[t].length>0&&u(Is,{title:t,children:Er[t].filter(r=>r.usePredicate?.()??!0).map((r,o,n)=>S(Yt,{children:[u(Fr,{label:r.title(),leading:u(hc,{source:r.icon}),trailing:u(Fr.Arrow,{label:r.useTrailing?.()||void 0}),onPress:Js(r.onPress,e,r.render,r.title())}),o!==n.length-1&&u(sa,{})]}))},t))})}function Mh(e){e.push(ae("default",st("getScreens",!1),(r,o)=>({...o,VendettaCustomPage:{title:"Bunny",render:()=>u(ni,{})},BUNNY_CUSTOM_PAGE:{title:"Bunny",render:()=>u(ni,{})}})));var t=ae("default",st("UserSettingsOverviewWrapper",!1),(r,o)=>{var n=qt(o.props.children,i=>i.type?.name==="UserSettingsOverview");e.push(ae("renderSupportAndAcknowledgements",n.type.prototype,(i,{props:{children:l}})=>{var c=l.findIndex(f=>f?.type?.name==="UploadLogsButton");c!==-1&&l.splice(c,1)})),e.push(ae("render",n.type.prototype,(i,l)=>{var c=[No.Messages.BILLING_SETTINGS,No.Messages.PREMIUM_SETTINGS],f=qt(l.props.children,v=>v?.children?.[1]?.type===Is)?.children||l.props.children;if(f){var y=f.findIndex(v=>c.includes(v?.props.label));f.splice(-~y||4,0,u(fx,{}))}}))},!0);e.push(t)}var Nh=h(()=>{"use strict";a();s();q();Xe();bt();J();ue();Re();ii();xf()});function dx(){var e=!1;return React.useEffect(()=>void(e=!0),[]),e}function Dh(e){var t=()=>Object.values(Er).flatMap(n=>n.map(i=>({[i.key]:{type:"pressable",title:i.title,icon:i.icon,usePredicate:i.usePredicate,useTrailing:i.useTrailing,onPress:Js(i.onPress,null,i.render,i.title()),withArrow:!0,...i.rawTabsConfig}}))).reduce((n,i)=>Object.assign(n,i)),r=Zs.SETTING_RENDERER_CONFIG,o=Zs.SETTING_RENDERER_CONFIG;Object.defineProperty(Zs,"SETTING_RENDERER_CONFIG",{enumerable:!0,configurable:!0,get:()=>({...o,VendettaCustomPage:{type:"route",title:()=>"Bunny",screen:{route:"VendettaCustomPage",getComponent:()=>ni}},BUNNY_CUSTOM_PAGE:{type:"route",title:()=>"Bunny",screen:{route:"BUNNY_CUSTOM_PAGE",getComponent:()=>ni}},...t()}),set:n=>o=n}),e.push(()=>{Object.defineProperty(Zs,"SETTING_RENDERER_CONFIG",{value:r,writable:!0,get:void 0,set:void 0})}),e.push(ae("default",mx,(n,i)=>{if(!dx()){var{sections:l}=qt(i,f=>f.props?.sections).props,c=-~l.findIndex(f=>f.label===No.Messages.ACCOUNT_SETTINGS)||1;Object.keys(Er).forEach(f=>{l.splice(c++,0,{label:f,title:f,settings:Er[f].map(y=>y.key)})})}}))}var Zs,mx,Fh=h(()=>{"use strict";a();s();Xe();bt();J();Re();ii();xf();Zs=N("SETTING_RENDERER_CONFIG"),mx=st("SettingsOverviewScreen",!1)});var wf={};j(wf,{patchSettings:()=>Sf,registerSection:()=>el,registeredSections:()=>Er});function el(e){return Er[e.name]=e.items,()=>delete Er[e.name]}function Sf(){var e=new Array;return Mh(e),Dh(e),()=>e.forEach(t=>t())}var Er,ii=h(()=>{"use strict";a();s();Nh();Fh();Er={}});function Tf(){return D.safeMode?.enabled===!0}function kh(){return Ef.apply(this,arguments)}function Ef(){return Ef=x(function*({to:e=!Tf(),reload:t=!0}={}){var r=(D.safeMode??={enabled:e}).enabled=e,o=to();yield Jn(r?{}:o?.data??{}),t&&setTimeout(()=>$t.reload(),500)}),Ef.apply(this,arguments)}var Bh=h(()=>{"use strict";a();s();ye();Dt();lr();je()});function tl({label:e,version:t,icon:r}){return u(L,{label:e,icon:u(L.Icon,{source:b(r)}),trailing:u(la,{children:t}),onPress:()=>{tt.setString(`${e} - ${t}`),X.showCopyToClipboard()}})}var jh=h(()=>{"use strict";a();s();q();ge();J();ue();er()});function Cf(){var e=xr();le(D);var t=[{label:g.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:g.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],r=[{label:g.LOADER,version:`${e.bunny.loader.name} (${e.bunny.loader.version})`,icon:"ic_download_24px"},{label:g.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:g.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:g.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:g.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:rl.Platform.select({android:g.CODENAME,ios:g.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return u(rl.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:S(Se,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[u(et,{title:g.VERSIONS,children:t.map(o=>u(tl,{label:o.label,version:o.version,icon:o.icon}))}),u(et,{title:g.PLATFORM,children:r.map(o=>u(tl,{label:o.label,version:o.version,icon:o.icon}))})]})})}var rl,Uh=h(()=>{"use strict";a();s();q();Me();jh();De();io();je();ue();rl=U(se())});var Af={};j(Af,{dismissAlert:()=>Rf,openAlert:()=>wa});var wa,Rf,ol=h(()=>{"use strict";a();s();Be();ht();({openAlert:wa,dismissAlert:Rf}=te(()=>H("openAlert","dismissAlert")))});var Gh={};j(Gh,{default:()=>Vh});function Vh(){le(D);var e=xr(),t=Ae.useNavigation();return u(Hh.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:S(Se,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[S(et,{title:g.INFO,children:[u(L,{label:g.BUNNY,icon:u(L.Icon,{source:{uri:Xs}}),trailing:u(L.TrailingText,{text:e.bunny.version})}),u(L,{label:"Discord",icon:u(L.Icon,{source:b("Discord")}),trailing:u(L.TrailingText,{text:`${e.discord.version} (${e.discord.build})`})}),u(L,{arrow:!0,label:g.ABOUT,icon:u(L.Icon,{source:b("CircleInformationIcon-primary")}),onPress:()=>t.push("BUNNY_CUSTOM_PAGE",{title:g.ABOUT,render:()=>u(Cf,{})})})]}),S(et,{title:g.LINKS,children:[u(L,{arrow:!0,label:g.DISCORD_SERVER,icon:u(L.Icon,{source:b("Discord")}),onPress:()=>Do.openDeeplink(qu)}),u(L,{arrow:!0,label:g.GITHUB,icon:u(L.Icon,{source:b("img_account_sync_github_white")}),onPress:()=>Do.openURL(Yu)})]}),S(et,{title:g.ACTIONS,children:[u(L,{label:g.RELOAD_DISCORD,icon:u(L.Icon,{source:b("RetryIcon")}),onPress:()=>$t.reload()}),u(Xr,{label:"Safe Mode",subLabel:"Load Bunny without loading add-ons",icon:u(L.Icon,{source:b("ShieldIcon")}),value:Tf(),onValueChange:r=>{kh({to:r,reload:!1}),wa("bunny-reload-safe-mode",u(ia,{title:"Reload now?",content:r?"All add-ons will be temporarily disabled upon reload.":"All add-ons will load normally.",actions:S(dc,{children:[u(Qn,{text:"Reload Now",variant:"destructive",onPress:()=>$t.reload()}),u(Qn,{text:"Later",variant:"secondary"})]})}))}}),u(Xr,{label:g.DEVELOPER_SETTINGS,icon:u(L.Icon,{source:b("WrenchIcon")}),value:D.developerSettings,onValueChange:r=>{D.developerSettings=r}})]}),u(et,{title:g.MISCELLANEOUS,children:u(Xr,{label:g.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:g.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:u(L.Icon,{source:b("WrenchIcon")}),value:D.enableDiscordDeveloperSettings,onValueChange:r=>{D.enableDiscordDeveloperSettings=r}})})]})})}var Hh,zh=h(()=>{"use strict";a();s();q();Bh();Me();Of();Uh();De();ge();io();lr();je();ol();Kr();J();ue();Hh=U(se())});function Pf(e){var t;try{t=new URL(e)}catch{return!1}return t.protocol==="http:"||t.protocol==="https:"}var $h=h(()=>{"use strict";a();s()});var Qh=Ar((Wh,nl)=>{a();s();It();Ye();it();Lt();ou();((e,t)=>{typeof define=="function"&&define.amd?define([],t):typeof nl=="object"&&nl.exports?nl.exports=t():e.fuzzysort=t()})(Wh,e=>{"use strict";var t=(E,_)=>{if(!E||!_)return Ve;var C=A(E);qo(_)||(_=T(_));var I=C.bitflags;return(I&_._bitflags)!==I?Ve:$(C,_)},r=(E,_,C)=>{if(!E)return C?.all?K(_,C):Xl;var I=A(E),k=I.bitflags,M=I.containsSpace,O=v(C?.threshold||0),G=C?.limit||Yl,B=0,ne=0,re=_.length;function _t(Jo){B<G?(cs.add(Jo),++B):(++ne,Jo._score>cs.peek()._score&&cs.replaceTop(Jo))}if(C?.key)for(var nt=C.key,ie=0;ie<re;++ie){var mt=_[ie],fe=_o(mt,nt);if(fe&&(qo(fe)||(fe=T(fe)),(k&fe._bitflags)===k)){var ve=$(I,fe);ve!==Ve&&(ve._score<O||(ve.obj=mt,_t(ve)))}}else if(C?.keys){var Gr=C.keys,sr=Gr.length;e:for(var ie=0;ie<re;++ie){var mt=_[ie];{for(var qe=0,Pe=0;Pe<sr;++Pe){var nt=Gr[Pe],fe=_o(mt,nt);if(!fe){Vr[Pe]=Oi;continue}qo(fe)||(fe=T(fe)),Vr[Pe]=fe,qe|=fe._bitflags}if((k&qe)!==k)continue}if(M)for(var Rt=0;Rt<I.spaceSearches.length;Rt++)Ke[Rt]=Ct;for(var Pe=0;Pe<sr;++Pe){if(fe=Vr[Pe],fe===Oi){ar[Pe]=Oi;continue}if(ar[Pe]=$(I,fe,!1,M),ar[Pe]===Ve){ar[Pe]=Oi;continue}if(M)for(var V=0;V<I.spaceSearches.length;V++){if(Vt[V]>-1e3&&Ke[V]>Ct){var At=(Ke[V]+Vt[V])/4;At>Ke[V]&&(Ke[V]=At)}Vt[V]>Ke[V]&&(Ke[V]=Vt[V])}}if(M){for(var Gt=0;Gt<I.spaceSearches.length;Gt++)if(Ke[Gt]===Ct)continue e}else{for(var Yo=!1,Xo=0;Xo<sr;Xo++)if(ar[Xo]._score!==Ct){Yo=!0;break}if(!Yo)continue}for(var zt=new c(sr),Ot=0;Ot<sr;Ot++)zt[Ot]=ar[Ot];if(M)for(var _e=0,Un=0;Un<I.spaceSearches.length;Un++)_e+=Ke[Un];else for(var _e=Ct,Pt=0;Pt<sr;Pt++){var ve=zt[Pt];if(ve._score>-1e3&&_e>Ct){var At=(_e+ve._score)/4;At>_e&&(_e=At)}ve._score>_e&&(_e=ve._score)}if(zt.obj=mt,zt._score=_e,C?.scoreFn){if(_e=C.scoreFn(zt),!_e)continue;_e=v(_e),zt._score=_e}_e<O||_t(zt)}}else for(var ie=0;ie<re;++ie){var fe=_[ie];if(fe&&(qo(fe)||(fe=T(fe)),(k&fe._bitflags)===k)){var ve=$(I,fe);ve!==Ve&&(ve._score<O||_t(ve))}}if(B===0)return Xl;for(var Pi=new Array(B),ie=B-1;ie>=0;--ie)Pi[ie]=cs.poll();return Pi.total=B+ne,Pi},o=(E,_="<b>",C="</b>")=>{for(var I=typeof _=="function"?_:void 0,k=E.target,M=k.length,O=E.indexes,G="",B=0,ne=0,re=!1,_t=[],nt=0;nt<M;++nt){var ie=k[nt];if(O[ne]===nt){if(++ne,re||(re=!0,I?(_t.push(G),G=""):G+=_),ne===O.length){I?(G+=ie,_t.push(I(G,B++)),G="",_t.push(k.substr(nt+1))):G+=ie+C+k.substr(nt+1);break}}else re&&(re=!1,I?(_t.push(I(G,B++)),G=""):G+=C);G+=ie}return I?_t:G},n=E=>{typeof E=="number"?E=""+E:typeof E!="string"&&(E="");var _=oe(E);return f(E,{_targetLower:_._lower,_targetLowerCodes:_.lowerCodes,_bitflags:_.bitflags})},i=()=>{ct.clear(),Fe.clear()},l=function(){function E(){Y(this,E)}return ee(E,[{key:"indexes",get:function(){return this._indexes.slice(0,this._indexes.len).sort((C,I)=>C-I)}},{key:"indexes",set:function(C){return this._indexes=C}},{key:"highlight",value:function(C,I){return o(this,C,I)}},{key:"score",get:function(){return y(this._score)}},{key:"score",set:function(C){this._score=v(C)}}]),E}(),c=function(E){xe(_,E);function _(){return Y(this,_),be(this,_,arguments)}return ee(_,[{key:"score",get:function(){return y(this._score)}},{key:"score",set:function(I){this._score=v(I)}}]),_}(Hn(Array)),f=(E,_)=>{var C=new l;return C.target=E,C.obj=_.obj??Ve,C._score=_._score??Ct,C._indexes=_._indexes??[],C._targetLower=_._targetLower??"",C._targetLowerCodes=_._targetLowerCodes??Ve,C._nextBeginningIndexes=_._nextBeginningIndexes??Ve,C._bitflags=_._bitflags??0,C},y=E=>E===Ct?0:E>1?E:Math.E**(((-E+1)**.04307-1)*-2),v=E=>E===0?Ct:E>1?E:1-Math.pow(Math.log(E)/-2+1,1/.04307),w=E=>{typeof E=="number"?E=""+E:typeof E!="string"&&(E=""),E=E.trim();var _=oe(E),C=[];if(_.containsSpace){var I=E.split(/\s+/);I=[...new Set(I)];for(var k=0;k<I.length;k++)if(I[k]!==""){var M=oe(I[k]);C.push({lowerCodes:M.lowerCodes,_lower:I[k].toLowerCase(),containsSpace:!1})}}return{lowerCodes:_.lowerCodes,_lower:_._lower,containsSpace:_.containsSpace,bitflags:_.bitflags,spaceSearches:C}},T=E=>{if(E.length>999)return n(E);var _=ct.get(E);return _!==void 0||(_=n(E),ct.set(E,_)),_},A=E=>{if(E.length>999)return w(E);var _=Fe.get(E);return _!==void 0||(_=w(E),Fe.set(E,_)),_},K=(E,_)=>{var C=[];C.total=E.length;var I=_?.limit||Yl;if(_?.key)for(var k=0;k<E.length;k++){var M=E[k],O=_o(M,_.key);if(O!=Ve){qo(O)||(O=T(O));var G=f(O.target,{_score:O._score,obj:M});if(C.push(G),C.length>=I)return C}}else if(_?.keys)for(var k=0;k<E.length;k++){for(var M=E[k],B=new c(_.keys.length),ne=_.keys.length-1;ne>=0;--ne){var O=_o(M,_.keys[ne]);if(!O){B[ne]=Oi;continue}qo(O)||(O=T(O)),O._score=Ct,O._indexes.len=0,B[ne]=O}if(B.obj=M,B._score=Ct,C.push(B),C.length>=I)return C}else for(var k=0;k<E.length;k++){var O=E[k];if(O!=Ve&&(qo(O)||(O=T(O)),O._score=Ct,O._indexes.len=0,C.push(O),C.length>=I))return C}return C},$=(E,_,C=!1,I=!1)=>{if(C===!1&&E.containsSpace)return gt(E,_,I);for(var k=E._lower,M=E.lowerCodes,O=M[0],G=_._targetLowerCodes,B=M.length,ne=G.length,ie=0,re=0,_t=0;;){var nt=O===G[re];if(nt){if(Ee[_t++]=re,++ie,ie===B)break;O=M[ie]}if(++re,re>=ne)return Ve}var ie=0,mt=!1,fe=0,ve=_._nextBeginningIndexes;ve===Ve&&(ve=_._nextBeginningIndexes=he(_.target)),re=Ee[0]===0?0:ve[Ee[0]-1];var Gr=0;if(re!==ne)for(;;)if(re>=ne){if(ie<=0||(++Gr,Gr>200))break;--ie;var sr=ft[--fe];re=ve[sr]}else{var nt=M[ie]===G[re];if(nt){if(ft[fe++]=re,++ie,ie===B){mt=!0;break}++re}else re=ve[re]}var qe=B<=1?-1:_._targetLower.indexOf(k,Ee[0]),Pe=!!~qe,Rt=Pe?qe===0||_._nextBeginningIndexes[qe-1]===qe:!1;if(Pe&&!Rt){for(var V=0;V<ve.length;V=ve[V])if(!(V<=qe)){for(var At=0;At<B&&M[At]===_._targetLowerCodes[V+At];At++);if(At===B){qe=V,Rt=!0;break}}}var Gt=Ot=>{for(var _e=0,Un=0,Pt=1;Pt<B;++Pt)Ot[Pt]-Ot[Pt-1]!==1&&(_e-=Ot[Pt],++Un);var Pi=Ot[B-1]-Ot[0]-(B-1);if(_e-=(12+Pi)*Un,Ot[0]!==0&&(_e-=Ot[0]*Ot[0]*.2),!mt)_e*=1e3;else{for(var Jo=1,Pt=ve[0];Pt<ne;Pt=ve[Pt])++Jo;Jo>24&&(_e*=(Jo-24)*10)}return _e-=(ne-B)/2,Pe&&(_e/=1+B*B*1),Rt&&(_e/=1+B*B*1),_e-=(ne-B)/2,_e};if(mt)if(Rt){for(var V=0;V<B;++V)Ee[V]=qe+V;var Yo=Ee,Xo=Gt(Ee)}else var Yo=ft,Xo=Gt(ft);else{if(Pe)for(var V=0;V<B;++V)Ee[V]=qe+V;var Yo=Ee,Xo=Gt(Yo)}_._score=Xo;for(var V=0;V<B;++V)_._indexes[V]=Yo[V];_._indexes.len=B;var zt=new l;return zt.target=_.target,zt._score=_._score,zt._indexes=_._indexes,zt},gt=(E,_,C)=>{for(var I=new Set,k=0,M=Ve,O=0,G=E.spaceSearches,B=G.length,ne=0,re=()=>{for(var Gt=ne-1;Gt>=0;Gt--)_._nextBeginningIndexes[Ht[Gt*2+0]]=Ht[Gt*2+1]},_t=!1,V=0;V<B;++V){Vt[V]=Ct;var nt=G[V];if(M=$(nt,_),C){if(M===Ve)continue;_t=!0}else if(M===Ve)return re(),Ve;var ie=V===B-1;if(!ie){for(var mt=M._indexes,fe=!0,ve=0;ve<mt.len-1;ve++)if(mt[ve+1]-mt[ve]!==1){fe=!1;break}if(fe)for(var Gr=mt[mt.len-1]+1,sr=_._nextBeginningIndexes[Gr-1],qe=Gr-1;qe>=0&&sr===_._nextBeginningIndexes[qe];qe--)_._nextBeginningIndexes[qe]=Gr,Ht[ne*2+0]=qe,Ht[ne*2+1]=sr,ne++}k+=M._score/B,Vt[V]=M._score/B,M._indexes[0]<O&&(k-=(O-M._indexes[0])*2),O=M._indexes[0];for(var Pe=0;Pe<M._indexes.len;++Pe)I.add(M._indexes[Pe])}if(C&&!_t)return Ve;re();var Rt=$(E,_,!0);if(Rt!==Ve&&Rt._score>k){if(C)for(var V=0;V<B;++V)Vt[V]=Rt._score/B;return Rt}C&&(M=_),M._score=k;var V=0;for(var At of I)M._indexes[V++]=At;return M._indexes.len=V,M},oe=E=>{for(var _=E.length,C=E.toLowerCase(),I=[],k=0,M=!1,O=0;O<_;++O){var G=I[O]=C.charCodeAt(O);if(G===32){M=!0;continue}var B=G>=97&&G<=122?G-97:G>=48&&G<=57?26:G<=127?30:31;k|=1<<B}return{lowerCodes:I,bitflags:k,containsSpace:M,_lower:C}},He=E=>{for(var _=E.length,C=[],I=0,k=!1,M=!1,O=0;O<_;++O){var G=E.charCodeAt(O),B=G>=65&&G<=90,ne=B||G>=97&&G<=122||G>=48&&G<=57,re=B&&!k||!M||!ne;k=B,M=ne,re&&(C[I++]=O)}return C},he=E=>{for(var _=E.length,C=He(E),I=[],k=C[0],M=0,O=0;O<_;++O)k>O?I[O]=k:(k=C[++M],I[O]=k===void 0?_:k);return I},ct=new Map,Fe=new Map,Ee=[],ft=[],Ht=[],Ke=[],Vt=[],Vr=[],ar=[],_o=(E,_)=>{var C=E[_];if(C!==void 0)return C;if(typeof _=="function")return _(E);var I=_;Array.isArray(_)||(I=_.split("."));for(var k=I.length,M=-1;E&&++M<k;)E=E[I[M]];return E},qo=E=>typeof E=="object"&&typeof E._bitflags=="number",Yl=1/0,Ct=-Yl,Xl=[];Xl.total=0;var Ve=null,Oi=n(""),Qg=E=>{var _=[],C=0,I={},k=M=>{for(var O=0,G=_[O],B=1;B<C;){var ne=B+1;O=B,ne<C&&_[ne]._score<_[B]._score&&(O=ne),_[O-1>>1]=_[O],B=1+(O<<1)}for(var re=O-1>>1;O>0&&G._score<_[re]._score;re=(O=re)-1>>1)_[O]=_[re];_[O]=G};return I.add=M=>{var O=C;_[C++]=M;for(var G=O-1>>1;O>0&&M._score<_[G]._score;G=(O=G)-1>>1)_[O]=_[G];_[O]=M},I.poll=M=>{if(C!==0){var O=_[0];return _[0]=_[--C],k(),O}},I.peek=M=>{if(C!==0)return _[0]},I.replaceTop=M=>{_[0]=M,k()},I},cs=Qg();return{single:t,go:r,prepare:n,cleanup:i}})});function vx(e){var[t,r]=React.useState(""),[o,n]=React.useState(""),[i,l]=React.useState(!1);function c(){l(!0),e.fetchFn(t).then(()=>Rf("AddonInputAlert")).catch(f=>f instanceof Error?n(f.message):String(f)).finally(()=>l(!1))}return u(ia,{title:e.label,content:"Type in the source URL you want to install from:",extraContent:S(Se,{style:{marginTop:-12},children:[u(pt,{autoFocus:!0,isClearable:!0,value:t,onChange:f=>{r(f),o&&n("")},returnKeyType:"done",onSubmitEditing:c,state:o?"error":void 0,errorMessage:o||void 0}),u(kt.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{gap:8},children:u(Q,{size:"sm",variant:"tertiary",text:"Import from clipboard",icon:b("ClipboardListIcon"),onPress:()=>tt.getString().then(f=>r(f))})})]}),actions:S(Se,{children:[u(Q,{loading:i,text:"Install",variant:"primary",disabled:!t||!Pf(t),onPress:c}),u(Qn,{disabled:i,text:"Cancel",variant:"secondary"})]})})}function wn({CardComponent:e,...t}){var[r,o]=React.useState(""),[n,i]=React.useState(()=>null),l=Ae.useNavigation();(0,ai.useEffect)(()=>{t.OptionsActionSheetComponent&&l.setOptions({headerRight:()=>u(Le,{size:"sm",variant:"secondary",icon:b("MoreHorizontalIcon"),onPress:()=>bn("AddonMoreSheet",t.OptionsActionSheetComponent)})})},[l]);var c=(0,ai.useMemo)(()=>{var v=t.items;t.resolveItem&&(v=v.map(t.resolveItem).filter(ps));var w=v.filter(T=>ps(T)&&typeof T=="object");return!r&&n&&w.sort(n),Kh.default.go(r,w,{keys:t.searchKeywords,all:!0})},[t.items,n,r]),f=(0,ai.useCallback)(()=>{if(!t.installAction)return()=>{};var{label:v,onPress:w,fetchFn:T}=t.installAction;T?wa("AddonInputAlert",u(vx,{label:v??"Install",fetchFn:T})):w?.()},[]);if(c.length===0&&!r)return S(kt.View,{style:{gap:32,flexGrow:1,justifyContent:"center",alignItems:"center"},children:[S(kt.View,{style:{gap:8,alignItems:"center"},children:[u(kt.Image,{source:b("empty_quick_switcher")}),u(P,{variant:"text-lg/semibold",color:"text-normal",children:"Oops! Nothing to see here\u2026 yet!"})]}),u(Q,{size:"lg",icon:b("DownloadIcon"),text:t.installAction?.label??"Install",onPress:f})]});var y=S(kt.View,{style:{paddingBottom:8},children:[D.safeMode?.enabled&&S(kt.View,{style:{marginBottom:10},children:[u(oa,{messageType:0,children:t.safeModeHint?.message}),t.safeModeHint?.footer]}),S(kt.View,{style:{flexDirection:"row",gap:8},children:[u(Ho,{style:{flexGrow:1},isRound:!!t.sortOptions,onChangeText:v=>o(v)}),t.sortOptions&&u(Le,{icon:b("ic_forum_channel_sort_order_24px"),variant:"tertiary",disabled:!!r,onPress:()=>px({key:"AddonListSortOptions",header:{title:"Sort Options",onClose:()=>hx("AddonListSortOptions")},options:Object.entries(t.sortOptions).map(([v,w])=>({label:v,onPress:()=>i(()=>w)}))})})]}),t.ListHeaderComponent&&u(t.ListHeaderComponent,{})]});return S(Ie,{children:[u(pn,{data:c,extraData:r,estimatedItemSize:136,ListHeaderComponent:y,ListEmptyComponent:()=>S(kt.View,{style:{gap:12,padding:12,alignItems:"center"},children:[u(kt.Image,{source:b("devices_not_found")}),u(P,{variant:"text-lg/semibold",color:"text-normal",children:"Hmmm... could not find that!"})]}),contentContainerStyle:{padding:8,paddingHorizontal:12,paddingBottom:90},ItemSeparatorComponent:()=>u(kt.View,{style:{height:8}}),ListFooterComponent:t.ListFooterComponent,renderItem:({item:v})=>u(e,{item:v.obj,result:v})}),t.installAction&&u(pc,{icon:b("PlusLargeIcon"),onPress:f})]})}var Kh,ai,kt,px,hx,il=h(()=>{"use strict";a();s();q();ge();je();ol();xn();$h();Be();ht();J();ue();tr();rn();Kh=U(Qh()),ai=U(rt()),kt=U(se()),{showSimpleActionSheet:px,hideActionSheet:hx}=te(()=>H("showSimpleActionSheet"))});var qh,Yh=h(()=>{"use strict";a();s();J();Br();qh=Sr({smallIcon:{tintColor:Jr.colors.LOGO_PRIMARY,height:18,width:18}})});function If(){return(0,Xh.default)(Jr.unsafe_rawColors.YELLOW_300).alpha(.3).hex()}function yx(){var e=qh(),{plugin:t,result:r}=al(),o=r[0].highlight((l,c)=>u(P,{style:{backgroundColor:If()},children:l},c)),n=t.icon&&b(t.icon),i=u(P,{numberOfLines:1,variant:"heading-lg/semibold",children:o.length?o:t.name});return S(Vo.View,{style:{flexDirection:"row",alignItems:"center",gap:6},children:[n&&u(Vo.Image,{style:e.smallIcon,source:n}),i]})}function gx(){var{plugin:e,result:t}=al();if(!e.authors)return null;var r=t[2].highlight((i,l)=>u(P,{style:{backgroundColor:If()},children:i},l));if(r.length>0)return S(P,{variant:"text-md/semibold",color:"text-muted",children:["by ",r]});var o=["by "];for(var n of e.authors)o.push(typeof n=="string"?n:n.name),o.push(", ");return o.pop(),u(P,{variant:"text-md/semibold",color:"text-muted",children:o})}function _x(){var{plugin:e,result:t}=al(),r=t[1].highlight((o,n)=>u(P,{style:{backgroundColor:If()},children:o},n));return u(P,{variant:"text-md/medium",children:r.length?r:e.description})}function Lf({result:e,item:t}){t.usePluginState();var[,r]=React.useReducer(()=>({}),0),o=(0,si.useMemo)(()=>({plugin:t,result:e}),[t,e]);return u(Jh.Provider,{value:o,children:u(Oe,{children:S(Se,{spacing:16,children:[S(Vo.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[S(Vo.View,{style:{flexShrink:1},children:[u(yx,{}),u(gx,{})]}),u(Vo.View,{children:S(Se,{spacing:12,direction:"horizontal",children:[u(bx,{}),u(cc,{value:t.isEnabled(),onValueChange:n=>{t.toggle(n),r()}})]})})]}),u(_x,{})]})})})}var Xh,si,Vo,Jh,al,bx,Zh=h(()=>{"use strict";a();s();q();Yh();ge();J();ue();xn();Xh=U(qn()),si=U(rt()),Vo=U(se()),Jh=(0,si.createContext)(null),al=()=>(0,si.useContext)(Jh);bx=()=>{var{plugin:e}=al(),t=Ae.useNavigation();return S(Vo.View,{style:{flexDirection:"row",gap:6},children:[u(Le,{size:"sm",variant:"secondary",icon:b("WrenchIcon"),disabled:!e.getPluginSettingsComponent(),onPress:()=>t.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}),u(Le,{size:"sm",variant:"secondary",icon:b("CircleInformationIcon-primary"),onPress:()=>void bn("PluginInfoActionSheet",e.resolveSheetComponent(),{plugin:e,navigation:t})})]})}});var wt,En,W,so=h(()=>{"use strict";a();s();ye();De();je();bt();Kr();Yr();wt=cr(Mt(fr("VENDETTA_PLUGINS"))),En={},W={plugins:wt,pluginFetch(e){return x(function*(){return e.startsWith(hr)&&(e=e.replace("https://bunny-mod.github.io/plugins-proxy",fn).replace(hr,fn)),yield Ge(e,{cache:"no-store"})})()},fetchPlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var t=wt[e],r;try{r=yield(yield this.pluginFetch(e+"manifest.json")).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var o;if(t?.manifest.hash!==r.hash)try{o=yield(yield this.pluginFetch(e+(r.main||"index.js"))).text()}catch{}if(!o&&!t)throw new Error(`Failed to fetch JS for ${e}`);wt[e]={id:e,manifest:r,enabled:t?.enabled??!1,update:t?.update??!0,js:o??t.js}}).apply(this)},installPlugin(e,t=!0){return x(function*(){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in wt)throw new Error("Plugin already installed");yield this.fetchPlugin(e),t&&(yield this.startPlugin(e))}).apply(this)},evalPlugin(e){return x(function*(){var t={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:yield Mt(fr(e.id))},logger:new ea(`Bunny \xBB ${e.manifest.name}`)},r=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,o=(0,eval)(r)(t),n=typeof o=="function"?o():o;return n?.default??n??{}})()},startPlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var t=wt[e];if(!t)throw new Error("Attempted to start non-existent plugin");try{if(!D.safeMode?.enabled){var r=yield this.evalPlugin(t);En[e]=r,r.onLoad?.()}t.enabled=!0}catch(o){lt.error(`Plugin ${t.id} errored whilst loading, and will be unloaded`,o);try{En[t.id]?.onUnload?.()}catch(n){lt.error(`Plugin ${t.id} errored whilst unloading`,n)}delete En[e],t.enabled=!1}}).apply(this)},stopPlugin(e,t=!0){e.endsWith("/")||(e+="/");var r=wt[e],o=En[e];if(!r)throw new Error("Attempted to stop non-existent plugin");if(!D.safeMode?.enabled){try{o?.onUnload?.()}catch(n){lt.error(`Plugin ${r.id} errored whilst unloading`,n)}delete En[e]}t&&(r.enabled=!1)},removePlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var t=wt[e];t.enabled&&this.stopPlugin(e),delete wt[e],yield Ss(e)}).apply(this)},initPlugins(){return x(function*(){yield Po(D,wt);var e=Object.keys(wt);if(!D.safeMode?.enabled){var t=this;yield d(e.filter(r=>wt[r].enabled).map(function(){var r=x(function*(o){return wt[o].update&&(yield t.fetchPlugin(o).catch(n=>lt.error(n.message))),yield t.startPlugin(o)});return function(o){return r.apply(this,arguments)}}())),e.filter(r=>!wt[r].enabled&&wt[r].update).forEach(r=>this.fetchPlugin(r))}return()=>this.stopAllPlugins()}).apply(this)},stopAllPlugins(){return Object.keys(En).forEach(e=>this.stopPlugin(e,!1))},getSettings:e=>En[e]?.settings}});function wx(e,t=null,r=!1){if(e.guild_id===Ju){var o;if(e.parent_id===Zu)o="Plugin";else if(e.parent_id===Zi&&_r())o="Theme";else return;var{firstMessage:n}=r?xx(e):{firstMessage:t},i=n?.content?.match(Xu)?.filter(Ea[o].urlsFilter);if(!(!i||!i[0]))return o==="Plugin"&&!i[0].endsWith("/")&&(i[0]+="/"),[o,i[0]]}}function Ex(e,t=null,r=!1){var[o,n]=wx(e,t,r)??[];le(W.plugins),le(we);var[i,l]=React.useState(!1);if(!o||!n)return[!0];var c=!!Ea[o].storage[n],f=function(){var y=x(function*(){l(!0);try{yield Ea[o].installOrRemove(n)}catch(v){X(v.message,b("Small"))}finally{l(!1)}});return function(){return y.apply(this,arguments)}}();return[!1,o,c,i,f]}var xx,Sx,Ea,Tx,ev,tv=h(()=>{"use strict";a();s();ye();q();Me();so();De();Dt();ge();ro();Xe();Kr();Be();ue();Re();tr();er();({useFirstForumPostMessage:xx}=te(()=>H("useFirstForumPostMessage"))),Sx=N("MostCommonForumPostReaction"),Ea={Plugin:{storage:W.plugins,urlsFilter:e=>e.startsWith(hr),installOrRemove:e=>{var t=Ea.Plugin.storage[e];return t?W.removePlugin(e):W.installPlugin(e)}},Theme:{storage:we,urlsFilter:e=>e.endsWith(".json"),installOrRemove:e=>{var t=Ea.Theme.storage[e];return t?gn(e):Zr(e)}}};Tx=()=>ae("MostCommonForumPostReaction",Sx,([{thread:e,firstMessage:t}],r)=>{var[o,n,i,l,c]=Ex(e,t,!0);if(!o)return S(Yt,{children:[r,u(Ie,{children:u(Q,{size:"sm",loading:l,disabled:l,variant:i?"secondary":"primary",text:i?g.UNINSTALL:g.INSTALL,onPress:c,icon:b(i?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})})]})}),ev=()=>{var e=[Tx()];return()=>e.map(t=>t())}});function Mf({title:e,confirmText:t,confirmColor:r,onConfirm:o,cancelText:n,placeholder:i,initialValue:l="",secureTextEntry:c}){var[f,y]=React.useState(l),[v,w]=React.useState("");function T(){var A=Promise.resolve(o(f));A.then(()=>{rv.close()}).catch(K=>{w(K.message)})}return u(ra,{title:e,confirmText:t,confirmColor:r,isConfirmButtonDisabled:v.length!==0,onConfirm:T,cancelText:n,onCancel:()=>rv.close(),children:u(vc,{placeholder:i,value:f,onChange:A=>{y(typeof A=="string"?A:A.text),v&&w("")},returnKeyType:"done",onSubmitEditing:T,error:v||void 0,secureTextEntry:c,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}})})}var rv,ov=h(()=>{"use strict";a();s();q();ue();Re();rv=N("openLazy","close")});function Tr(e){var t=e;return t.body=e.content,delete t.content,t.isDismissable??=!0,nv.show(t)}var nv,Nf,iv,li=h(()=>{"use strict";a();s();ye();Re();ov();nv=N("openLazy","close");Nf=(e,t)=>nv.openLazy({importer:x(function*(){return()=>React.createElement(e,t)})}),iv=e=>Nf(Mf,e)});function av(e){if(e.startsWith(hr))return"plugin";if(e.endsWith(".json")&&_r())return"theme"}function sv(e,t){(e==="plugin"?W.installPlugin.bind(W):Zr)(t).then(()=>{X(g.SUCCESSFULLY_INSTALLED,b("Check"))}).catch(r=>{X(r.message,b("Small"))})}var Rx,Ax,Ox,Px,Ix,lv,uv=h(()=>{"use strict";a();s();ye();Me();li();so();Dt();ge();ro();Xe();Kr();Be();J();$i();Vn();Re();er();Rx=Je(zi("showSimpleActionSheet")),Ax=N("handleClick"),{openURL:Ox}=te(()=>Do),{getChannelId:Px}=te(()=>ua),{getChannel:Ix}=te(()=>H("getChannel"));lv=()=>{var e=new Array;return e.push(ae("showSimpleActionSheet",Rx,t=>{if(t[0].key==="LongPressUrl"){var{header:{title:r},options:o}=t[0],n=av(r);n&&o.push({label:g.INSTALL_ADDON,onPress:()=>sv(n,r)})}})),e.push(wo("handleClick",Ax,function(){var t=x(function*(r,o){var{href:n}=r[0],i=av(n);if(!i)return o.apply(this,r);if(i==="theme"&&Ix(Px())?.parent_id!==Zi)return o.apply(this,r);Tr({title:g.HOLD_UP,content:Ft("CONFIRMATION_LINK_IS_A_TYPE",{urlType:i}),onConfirm:()=>sv(i,n),confirmText:g.INSTALL,cancelText:g.CANCEL,secondaryConfirmText:g.OPEN_IN_BROWSER,onConfirmSecondary:()=>Ox(n)})});return function(r,o){return t.apply(this,arguments)}}())),()=>e.forEach(t=>t())}});var fv={};j(fv,{default:()=>Lx});var cv,Lx,mv=h(()=>{"use strict";a();s();ll();tv();uv();cv=[],Lx=sl({manifest:{id:"bunny.quickinstall",name:"QuickInstall",version:"1.0.0",description:"Quickly install Vendetta plugins and themes",authors:[{name:"Vendetta Team"}]},start(){cv=[ev(),lv()]},stop(){cv.forEach(e=>e())}})});var kf={};j(kf,{deleteJsxCreate:()=>Mx,onJsxCreate:()=>Df,patchJsx:()=>Ff});function Df(e,t){Go.has(e)||Go.set(e,[]),Go.get(e).push(t)}function Mx(e,t){if(Go.has(e)){var r=Go.get(e);r.splice(r.indexOf(t),1),r.length===0&&Go.delete(e)}}function Ff(){var e=([r],o)=>{if(typeof r=="function"&&Go.has(r.name)){var n=Go.get(r.name);for(var i of n){var l=i(r,o);l!==void 0&&(o=l)}return o}},t=[ae("jsx",dv,e),ae("jsxs",dv,e)];return()=>t.forEach(r=>r())}var Go,dv,ul=h(()=>{"use strict";a();s();Xe();ht();Go=new Map,dv=N("jsx","jsxs")});var pv={};j(pv,{default:()=>Dx});var cl,Nx,Dx,hv=h(()=>{"use strict";a();s();Xe();ul();ht();cl=U(rt());ll();Nx=zn("useBadges",!1),Dx=sl({manifest:{id:"bunny.badges",name:"Badges",version:"1.0.0",description:"Adds badges to user's profile",authors:[{name:"pylixonly"}]},start(){var e={},t={};Df("RenderedBadge",(r,o)=>{o.props.id.match(/bunny-\d+-\d+/)&&Object.assign(o.props,e[o.props.id])}),ae("default",Nx,([r],o)=>{var[n,i]=(0,cl.useState)(r?t[r.userId]??=[]:[]);(0,cl.useEffect)(()=>{r&&fetch(`https://raw.githubusercontent.com/pyoncord/badges/refs/heads/main/${r.userId}.json`).then(l=>l.json()).then(l=>i(t[r.userId]=l))},[r]),r&&n.forEach((l,c)=>{e[`bunny-${r.userId}-${c}`]={source:{uri:l.url},id:`bunny-${c}`,label:l.label},o.push({id:`bunny-${r.userId}-${c}`,description:l.label,icon:"_"})})})}})});function sl(e){return e[Symbol.for("bunny.core.plugin")]=!0,e}var vv,ll=h(()=>{"use strict";a();s();vv=()=>({"bunny.quickinstall":(mv(),dt(fv)),"bunny.badges":(hv(),dt(pv))})});var fl,lo,ui,Ta=h(()=>{"use strict";a();s();(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(fl||(fl={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(lo||(lo={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(ui||(ui={}))});var gv={};j(gv,{default:()=>jx});function yv(e){return"```js\n"+e.replaceAll("`","`"+Bx)+"\n```"}var Fx,kx,Bx,jx,_v=h(()=>{"use strict";a();s();ye();Me();Ta();je();J();Re();Fx=N("inspect"),kx=x(function*(){}).constructor,Bx="\u200B";jx=()=>({name:"eval",description:g.COMMAND_EVAL_DESC,shouldHide:()=>D.enableEvalCommand===!0,options:[{name:"code",type:lo.STRING,description:g.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:lo.BOOLEAN,description:g.COMMAND_EVAL_OPT_ASYNC}],execute([e,t],r){return x(function*(){try{var o=Fx.inspect(t?.value?yield kx(e.value)():eval?.(e.value)),n=o.length>2e3?o.slice(0,2e3)+"...":o;Jt.sendBotMessage(r.channel.id,yv(n))}catch(i){Jt.sendBotMessage(r.channel.id,yv(i?.stack??i))}})()}})});var bv={};j(bv,{default:()=>Ux});var Ux,xv=h(()=>{"use strict";a();s();Me();Ta();io();J();Ux=()=>({name:"debug",description:g.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:lo.BOOLEAN,description:g.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var r=xr(),o=["**Bunny Debug Info**",`> Bunny: ${r.bunny.version} (${r.bunny.loader.name} ${r.bunny.loader.version})`,`> Discord: ${r.discord.version} (${r.discord.build})`,`> React: ${r.react.version} (RN ${r.react.nativeVersion})`,`> Hermes: ${r.hermes.version} (bcv${r.hermes.bytecodeVersion})`,`> System: ${r.os.name} ${r.os.version} ${r.os.sdk?`(SDK ${r.os.sdk})`:""}`.trimEnd(),`> Device: ${r.device.model} (${r.device.codename})`].join(`
`);e?.value?Jt.sendBotMessage(t.channel.id,o):Jt.sendMessage(t.channel.id,{content:o})}})});var Sv={};j(Sv,{default:()=>Hx});var Hx,wv=h(()=>{"use strict";a();s();Me();so();Ta();J();Hx=()=>({name:"plugins",description:g.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:lo.BOOLEAN,description:g.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var r=Object.values(W.plugins).filter(Boolean);r.sort((l,c)=>l.manifest.name.localeCompare(c.manifest.name));var o=r.filter(l=>l.enabled).map(l=>l.manifest.name),n=r.filter(l=>!l.enabled).map(l=>l.manifest.name),i=[`**Installed Plugins (${r.length}):**`,...o.length>0?[`Enabled (${o.length}):`,"> "+o.join(", ")]:[],...n.length>0?[`Disabled (${n.length}):`,"> "+n.join(", ")]:[]].join(`
`);e?.value?Jt.sendBotMessage(t.channel.id,i):Jt.sendMessage(t.channel.id,{content:i})}})});var ml={};j(ml,{patchCommands:()=>Bf,registerCommand:()=>ci});function Bf(){var e=ae("getBuiltInCommands",hn,([t],r)=>[...r,...Ca.filter(o=>(t instanceof Array?t.includes(o.type):t===o.type)&&o.__bunny?.shouldHide?.()!==!1)]);return[(_v(),dt(gv)),(xv(),dt(bv)),(wv(),dt(Sv))].forEach(t=>ci(t.default())),()=>{Ca=[],e()}}function ci(e){var t;try{t=hn.getBuiltInCommands(ui.CHAT,!0,!1)}catch{t=hn.getBuiltInCommands(Object.values(ui),!0,!1)}t.sort((n,i)=>parseInt(i.id)-parseInt(n.id));var r=t[t.length-1];if(e.id=(parseInt(r.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},e.applicationId??="-1",e.type??=ui.CHAT,e.inputType=fl.BUILT_IN,e.displayName??=e.name,e.untranslatedName??=e.name,e.displayDescription??=e.description,e.untranslatedDescription??=e.description,e.options)for(var o of e.options)o.displayName??=o.name,o.displayDescription??=o.description;return wo("execute",e,(n,i)=>{Promise.resolve(i.apply(e,n)).then(l=>{l&&typeof l=="object"&&Jt.sendMessage(n[1].channel.id,l)}).catch(l=>{lt.error("Failed to execute command",l)})}),Ca.push(e),()=>Ca=Ca.filter(({id:n})=>n!==e.id)}var Ca,Ra=h(()=>{"use strict";a();s();Ta();Xe();Yr();J();Ca=[]});var Uf={};j(Uf,{dispatcher:()=>dl,injectFluxInterceptor:()=>jf,intercept:()=>Gx});function jf(){var e=t=>{for(var r of pl){var o=r(t);o!=null&&(o?typeof o=="object"&&(Object.assign(t,o),t[Vx]=!0):t[Ev]=!0)}return Ev in t};return(dl._interceptors??=[]).unshift(e),()=>dl._interceptors&&=dl._interceptors.filter(t=>t!==e)}function Gx(e){return pl.push(e),()=>{pl=pl.filter(t=>t!==e)}}var Ev,Vx,dl,pl,Hf=h(()=>{"use strict";a();s();J();Ev=Symbol.for("bunny.flux.blocked"),Vx=Symbol.for("bunny.flux.modified"),dl=gr,pl=[]});var Vf={};j(Vf,{fs:()=>Yi});var Tv=h(()=>{"use strict";a();s();cn()});var Gf={};j(Gf,{jsx:()=>kf});var Cv=h(()=>{"use strict";a();s();ul()});var zf={};j(zf,{assets:()=>Ui,commands:()=>ml,debug:()=>Ws,flux:()=>Uf,native:()=>Vf,patcher:()=>on,react:()=>Gf,settings:()=>js,storage:()=>Ku});var $f=h(()=>{"use strict";a();s();ge();Ra();io();Hf();Tv();Xe();Cv();je();Dr()});function Aa(e,t){return(...r)=>{var o=t(...r);return e.push(o),o}}function Rv(e){var t=new Array,r={...window.bunny,api:{...window.bunny.api,patcher:{before:Aa(t,on.before),after:Aa(t,on.after),instead:Aa(t,on.instead)},commands:{...window.bunny.api.commands,registerCommand:Aa(t,ci)},flux:{...window.bunny.api.flux,intercept:Aa(t,window.bunny.api.flux.intercept)}},plugin:{createStorage:()=>Lo(`plugins/storage/${e}.json`),manifest:Ue.get(e),logger:lt}};return{object:r,disposers:t}}var Av=h(()=>{"use strict";a();s();$f();Ra();Dr();Yr();zo()});var Ma={};j(Ma,{apiObjects:()=>nm,corePluginInstances:()=>Pa,deleteRepository:()=>Wx,disablePlugin:()=>lm,enablePlugin:()=>sm,getPluginSettingsComponent:()=>am,initPlugins:()=>fm,installPlugin:()=>um,isCorePlugin:()=>im,isPluginEnabled:()=>hl,isPluginInstalled:()=>rr,pluginInstances:()=>jr,pluginRepositories:()=>uo,pluginSettings:()=>We,refreshPlugin:()=>$x,registeredPlugins:()=>Ue,startPlugin:()=>La,stopPlugin:()=>yl,uninstallPlugin:()=>vl,updateAndWritePlugin:()=>Oa,updatePlugins:()=>cm,updateRepository:()=>Kf});function $e(e,t,r){if(!e)throw new Error(`[${t}] Attempted to ${r}`)}function Ov(e,t){if(Kn.gt(e,t))return!0;var r=Kn.coerce(e);return r==null?!1:Kn.prerelease(e)?.includes("dev")&&Kn.eq(r,t)}function Ia(e){return"parentRepository"in e}function im(e){return Pa.has(e)}function am(e){var t=jr.get(e);return t&&t.SettingsComponent?t.SettingsComponent:null}function rr(e){return We[e]!=null}function hl(e){return!!We[e]?.enabled}function Oa(e,t,r){return Wf.apply(this,arguments)}function Wf(){return Wf=x(function*(e,t,r){var o=yield Iv(e,`builds/${t}/manifest.json`);if(o.parentRepository=e,r){o.jsPath=`plugins/scripts/${t}.js`;var n=yield zx(e,`builds/${t}/index.js`);yield zr(o.jsPath,n)}if(yield $u(`plugins/manifests/${t}.json`,o),Ue.has(t)){var i=Ue.get(t);return Object.assign(i,o)}return o}),Wf.apply(this,arguments)}function $x(e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=x(function*(e,t){var r=Ue.get(e);$e(r,e,"refresh a non-registered plugin"),$e(jr.get(e),e,"refresh a non-started plugin"),yl(e),Ia(r)&&(r=yield Oa(t??r.parentRepository,e,!0)),Ue.delete(e),Ue.set(e,r),yield La(e)}),Qf.apply(this,arguments)}function Kf(e){return qf.apply(this,arguments)}function qf(){return qf=x(function*(e){var t=yield Iv(e,"repo.json"),r=uo[e],o=!1;if(r)for(var i in r)t[i]||delete r[i];else{for(var n in t)if(Pa.has(n))throw new Error(`Plugins can't have the same ID as any of Bunny core plugin '${n}'`);o=!0,uo[e]=t}yield Promise.all(Object.keys(t).map(function(){var y=x(function*(v){if(!r||!r[v]||t[v].alwaysFetch||Ov(t[v].version,r[v].version))o=!0,uo[e][v]=t[v],yield Oa(e,v,!!(r&&We[v]));else{var w=yield Cs(`plugins/manifests/${v}.json`);w===void 0&&(yield Oa(e,v,!!(r&&We[v])))}});return function(v){return y.apply(this,arguments)}}()));for(var l in t){var c=Qu(`plugins/manifests/${l}.json`);if(c!==void 0){var f=Ue.get(l);f&&!Ov(c.version,f.version)||Ue.set(l,c)}}return o}),qf.apply(this,arguments)}function Wx(e){return Yf.apply(this,arguments)}function Yf(){return Yf=x(function*(e){$e(e!==Qr,e,"delete the official repository"),$e(uo[e],e,"delete a non-registered repository");var t=[];for(var[r,o]of Ue)!Ia(o)||o.parentRepository!==e||(rr(r)&&t.push(vl(r)),Ue.delete(r));delete uo[e],yield Promise.all(t)}),Yf.apply(this,arguments)}function sm(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=x(function*(e,t){$e(rr(e),e,"enable a non-installed plugin"),We[e].enabled=!0,t&&(yield La(e))}),Xf.apply(this,arguments)}function lm(e){$e(rr(e),e,"disable a non-installed plugin"),jr.has(e)&&yl(e),We[e].enabled=!1}function um(e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=x(function*(e,t){var r=Ue.get(e);$e(r,e,"install an non-registered plugin"),$e(!rr(e),e,"install an already installed plugin"),$e(Ia(r),e,"install a core plugin"),yield Oa(r.parentRepository,e,!0),We[e]={enabled:!0},t&&La(e)}),Jf.apply(this,arguments)}function vl(e){return Zf.apply(this,arguments)}function Zf(){return Zf=x(function*(e){var t=Ue.get(e);$e(t,e,"uninstall an unregistered plugin"),$e(rr(e),e,"uninstall a non-installed plugin"),$e(Ia(t),e,"uninstall a core plugin"),jr.has(e)&&yl(e),delete We[e],yield ln(`plugins/scripts/${e}.js`)}),Zf.apply(this,arguments)}function La(e){return em.apply(this,arguments)}function em(){return em=x(function*(e){var t=Ue.get(e);$e(t,e,"start a non-registered plugin"),$e(rr(e),e,"start a non-installed plugin"),$e(We[e]?.enabled,e,"start a disabled plugin"),$e(!jr.has(e),e,"start an already started plugin"),yield Cs(`plugins/storage/${e}.json`);var r;if(Ia(t)){try{var o=yield qi(t.jsPath),n=globalEvalWithSourceUrl(`(bunny,definePlugin)=>{${o};return plugin?.default ?? plugin;}`,`bunny-plugin/${e}-${t.version}`)}catch(l){throw new Error("An error occured while parsing plugin's code, possibly a syntax error?",{cause:l})}try{var i=Rv(e);if(r=n(i.object,l=>Object.assign(l,{manifest:t})),!r)throw new Error(`Plugin '${e}' does not export a valid plugin instance`);nm.set(e,i),jr.set(e,r)}catch(l){throw new Error("An error occured while instantiating plugin's code",{cause:l})}}else r=Pa.get(e),$e(r,e,"start a non-existent core plugin"),jr.set(e,r);try{r.start?.()}catch(l){throw new Error("An error occured while starting the plugin",{cause:l})}}),em.apply(this,arguments)}function yl(e){var t=jr.get(e);$e(t,e,"stop a non-started plugin"),t.stop?.();var r=nm.get(e);r?.disposers.forEach(o=>o()),jr.delete(e)}function Qx(){return tm.apply(this,arguments)}function tm(){return tm=x(function*(){try{yield Kf(Qr)}catch(e){console.error("Failed to update official plugins repository",e)}yield d(Object.keys(uo).map(function(){var e=x(function*(t){t!==Qr&&(yield Kf(t))});return function(t){return e.apply(this,arguments)}}()))}),tm.apply(this,arguments)}function cm(){return rm.apply(this,arguments)}function rm(){return rm=x(function*(){yield Wn(uo,We);var e=vv();for(var t in e){var{default:r,preenabled:o}=e[t];We[t]??={enabled:o??!0},Ue.set(t,r.manifest),Pa.set(t,r)}yield Qx()}),rm.apply(this,arguments)}function fm(){return om.apply(this,arguments)}function om(){return om=x(function*(){yield Wn(uo,We),yield d([...Ue.keys()].map(function(){var e=x(function*(t){hl(t)&&(yield La(t))});return function(t){return e.apply(this,arguments)}}()))}),om.apply(this,arguments)}var Pa,Ue,jr,nm,uo,We,Pv,zx,Iv,zo=h(()=>{"use strict";a();s();ye();ll();cn();Dr();bt();Kr();J();Av();Pa=new Map,Ue=new Map,jr=new Map,nm=new Map,uo=Lo("plugins/repositories.json"),We=Lo("plugins/settings.json"),Pv=(e,t)=>Ge(new URL(t,e),{cache:"no-store"}),zx=(e,t)=>Pv(e,t).then(r=>r.text()),Iv=(e,t)=>Pv(e,t).then(r=>r.json())});var Mv={};j(Mv,{default:()=>Lv});function Lv({plugin:e,navigation:t}){return e.usePluginState(),u(vr,{children:S(Tn.ScrollView,{contentContainerStyle:{gap:8,marginBottom:12},children:[S(Tn.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[S(Tn.View,{style:{gap:4},children:[u(P,{variant:"heading-xl/semibold",children:e.name}),u(P,{variant:"text-md/medium",color:"text-muted",children:e.description})]}),u(Tn.View,{style:{marginLeft:"auto"},children:e.getPluginSettingsComponent()&&u(Q,{size:"md",text:"Configure",variant:"secondary",icon:b("WrenchIcon"),onPress:()=>{jo("PluginInfoActionSheet"),t.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}})})]}),u(Tn.View,{style:{flexDirection:"row",justifyContent:"center",alignContent:"center"}})]})})}var Tn,Nv=h(()=>{"use strict";a();s();q();ge();xn();ue();Tn=U(se())});function mm(e){return{id:e.id,name:e.display.name,description:e.display.description,authors:e.display.authors,isEnabled:()=>hl(e.id),isInstalled:()=>e.id in We,usePluginState(){Wr([We])},toggle(t){t?sm(e.id,!0):lm(e.id)},resolveSheetComponent(){return Promise.resolve().then(()=>(Nv(),Mv))},getPluginSettingsComponent(){return am(e.id)}}}var Dv=h(()=>{"use strict";a();s();zo();Dr()});var kv={};j(kv,{default:()=>Fv});function Fv({plugin:e,navigation:t}){e.usePluginState();var r=W.plugins[e.id],o=e.getPluginSettingsComponent();return u(vr,{children:S(Na.ScrollView,{children:[S(Na.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[u(P,{variant:"heading-xl/semibold",children:e.name}),u(Na.View,{style:{marginLeft:"auto"},children:o&&u(Q,{size:"md",text:"Configure",variant:"secondary",icon:b("WrenchIcon"),onPress:()=>{jo("PluginInfoActionSheet"),t.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:o})}})})]}),S(Mo.Group,{children:[u(Mo,{label:g.REFETCH,icon:u(L.Icon,{source:b("RetryIcon")}),onPress:x(function*(){r.enabled&&W.stopPlugin(e.id,!1);try{yield W.fetchPlugin(e.id),X(g.PLUGIN_REFETCH_SUCCESSFUL,b("toast_image_saved"))}catch{X(g.PLUGIN_REFETCH_FAILED,b("Small"))}r.enabled&&(yield W.startPlugin(e.id)),jo("PluginInfoActionSheet")})}),u(Mo,{label:g.COPY_URL,icon:u(L.Icon,{source:b("copy")}),onPress:()=>{tt.setString(e.id),X.showCopyToClipboard()}}),u(Mo,{label:r.update?g.DISABLE_UPDATES:g.ENABLE_UPDATES,icon:u(L.Icon,{source:b("ic_download_24px")}),onPress:()=>{r.update=!r.update,X(Ft("TOASTS_PLUGIN_UPDATE",{update:r.update,name:e.name}),b("toast_image_saved"))}}),u(Mo,{label:g.CLEAR_DATA,icon:u(L.Icon,{source:b("ic_duplicate")}),onPress:()=>Tr({title:g.HOLD_UP,content:Ft("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.name}),confirmText:g.CLEAR,cancelText:g.CANCEL,confirmColor:"red",onConfirm:x(function*(){r.enabled&&W.stopPlugin(e.id,!1);try{yield W.fetchPlugin(e.id),X(g.PLUGIN_REFETCH_SUCCESSFUL,b("toast_image_saved"))}catch{X(g.PLUGIN_REFETCH_FAILED,b("Small"))}var n;try{Ss(e.id),n=["CLEAR_DATA_SUCCESSFUL","trash"]}catch{n=["CLEAR_DATA_FAILED","Small"]}X(Ft(n[0],{name:e.name}),b(n[1])),r.enabled&&(yield W.startPlugin(e.id)),jo("PluginInfoActionSheet")})})}),u(Mo,{label:g.DELETE,icon:u(L.Icon,{source:b("ic_message_delete")}),onPress:()=>Tr({title:g.HOLD_UP,content:Ft("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.name}),confirmText:g.DELETE,cancelText:g.CANCEL,confirmColor:"red",onConfirm:()=>{try{W.removePlugin(e.id)}catch(n){X(String(n),b("Small"))}jo("PluginInfoActionSheet")}})})]})]})})}var Na,Bv=h(()=>{"use strict";a();s();ye();q();Me();li();so();De();ge();J();ue();xn();er();Na=U(se())});function dm(e){return{id:e.id,name:e.manifest.name,description:e.manifest.description,authors:e.manifest.authors,icon:e.manifest.vendetta?.icon,isEnabled:()=>e.enabled,isInstalled:()=>!!(e&&W.plugins[e.id]),usePluginState(){le(W.plugins[e.id])},toggle(t){t?W.startPlugin(e.id):W.stopPlugin(e.id)},resolveSheetComponent(){return Promise.resolve().then(()=>(Bv(),kv))},getPluginSettingsComponent(){return W.getSettings(e.id)}}}var jv=h(()=>{"use strict";a();s();so();De()});function Uv(e){var t,r,o,n=2;for(typeof Symbol<"u"&&(r=p,o=Symbol.iterator);n--;){if(r&&(t=e[r])!=null)return t.call(e);if(o&&(t=e[o])!=null)return new gl(t.call(e));r="@@asyncIterator",o="@@iterator"}throw new TypeError("Object is not async iterable")}function gl(e){function t(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var o=r.done;return Promise.resolve(r.value).then(function(n){return{value:n,done:o}})}return gl=function(o){this.s=o,this.n=o.next},gl.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(o){var n=this.s.return;return n===void 0?Promise.resolve({value:o,done:!0}):t(n.apply(this.s,arguments))},throw:function(o){var n=this.s.return;return n===void 0?Promise.reject(o):t(n.apply(this.s,arguments))}},new gl(e)}var Hv=h(()=>{a();s()});function _l(e){this.wrapped=e}var pm=h(()=>{a();s()});function bl(e){return new _l(e)}var Vv=h(()=>{a();s();pm()});function fi(e){var t,r;function o(l,c){return new Promise(function(f,y){var v={key:l,arg:c,resolve:f,reject:y,next:null};r?r=r.next=v:(t=r=v,n(l,c))})}function n(l,c){try{var f=e[l](c),y=f.value,v=y instanceof _l;Promise.resolve(v?y.wrapped:y).then(function(w){if(v){n("next",w);return}i(f.done?"return":"normal",w)},function(w){n("throw",w)})}catch(w){i("throw",w)}}function i(l,c){switch(l){case"return":t.resolve({value:c,done:!0});break;case"throw":t.reject(c);break;default:t.resolve({value:c,done:!1});break}t=t.next,t?n(t.key,t.arg):r=null}this._invoke=o,typeof e.return!="function"&&(this.return=void 0)}var Gv=h(()=>{a();s();pm();typeof Symbol=="function"&&p&&(fi.prototype[p]=function(){return this});fi.prototype.next=function(e){return this._invoke("next",e)};fi.prototype.throw=function(e){return this._invoke("throw",e)};fi.prototype.return=function(e){return this._invoke("return",e)}});function zv(e){return function(){return new fi(e.apply(this,arguments))}}var $v=h(()=>{a();s();Gv()});var or,Cn=h(()=>{a();s();Ye();it();or=function(){"use strict";function e(){Y(this,e),this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}return ee(e,[{key:"subscribe",value:function(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}},{key:"hasListeners",value:function(){return this.listeners.size>0}},{key:"onSubscribe",value:function(){}},{key:"onUnsubscribe",value:function(){}}]),e}()});function ut(){}function Kv(e,t){return typeof e=="function"?e(t):e}function Da(e){return typeof e=="number"&&e>=0&&e!==1/0}function xl(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $o(e,t){return typeof e=="function"?e(t):e}function Bt(e,t){return typeof e=="function"?e(t):e}function vm(e,t){var{type:r="all",exact:o,fetchStatus:n,predicate:i,queryKey:l,stale:c}=e;if(l){if(o){if(t.queryHash!==Fa(l,t.options))return!1}else if(!mi(t.queryKey,l))return!1}if(r!=="all"){var f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||n&&n!==t.state.fetchStatus||i&&!i(t))}function ym(e,t){var{exact:r,status:o,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(co(t.options.mutationKey)!==co(i))return!1}else if(!mi(t.options.mutationKey,i))return!1}return!(o&&t.state.status!==o||n&&!n(t))}function Fa(e,t){var r=t?.queryKeyHashFn||co;return r(e)}function co(e){return JSON.stringify(e,(t,r)=>hm(r)?Object.keys(r).sort().reduce((o,n)=>(o[n]=r[n],o),{}):r)}function mi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!mi(e[r],t[r])):!1}function qv(e,t){if(e===t)return e;var r=Wv(e)&&Wv(t);if(r||hm(e)&&hm(t)){for(var o=r?e:Object.keys(e),n=o.length,i=r?t:Object.keys(t),l=i.length,c=r?[]:{},f=0,y=0;y<l;y++){var v=r?y:i[y];(!r&&o.includes(v)||r)&&e[v]===void 0&&t[v]===void 0?(c[v]=void 0,f++):(c[v]=qv(e[v],t[v]),c[v]===e[v]&&e[v]!==void 0&&f++)}return n===l&&f===n?e:c}return t}function di(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function Wv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hm(e){if(!Qv(e))return!1;var t=e.constructor;if(t===void 0)return!0;var r=t.prototype;return!(!Qv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Qv(e){return Object.prototype.toString.call(e)==="[object Object]"}function Yv(e){return new Promise(t=>{setTimeout(t,e)})}function ka(e,t,r){if(typeof r.structuralSharing=="function")return r.structuralSharing(e,t);if(r.structuralSharing!==!1){if(0)try{}catch(o){}return qv(e,t)}return t}function Xv(e,t,r=0){var o=[...e,t];return r&&o.length>r?o.slice(1):o}function Jv(e,t,r=0){var o=[t,...e];return r&&o.length>r?o.slice(0,-1):o}function Sl(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===gm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Cr,gm,nr=h(()=>{a();s();Cr=typeof window>"u"||"Deno"in globalThis;gm=Symbol()});var pi,Rn,Ba,Kx,hi,wl=h(()=>{a();s();It();Ye();mr();dr();pr();it();Lt();Cn();nr();Kx=(pi=new WeakMap,Rn=new WeakMap,Ba=new WeakMap,function(e){"use strict";xe(t,e);function t(){Y(this,t);var r;return r=be(this,t),F(r,pi,{writable:!0,value:void 0}),F(r,Rn,{writable:!0,value:void 0}),F(r,Ba,{writable:!0,value:void 0}),R(r,Ba,o=>{if(!Cr&&window.addEventListener){var n=()=>o();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}),r}return ee(t,[{key:"onSubscribe",value:function(){m(this,Rn)||this.setEventListener(m(this,Ba))}},{key:"onUnsubscribe",value:function(){var o,n,i;this.hasListeners()||((o=m(i=n=this,Rn))===null||o===void 0||o.call(n),R(this,Rn,void 0))}},{key:"setEventListener",value:function(o){var n,i,l;R(this,Ba,o),(n=m(l=i=this,Rn))===null||n===void 0||n.call(i),R(this,Rn,o(c=>{typeof c=="boolean"?this.setFocused(c):this.onFocus()}))}},{key:"setFocused",value:function(o){var n=m(this,pi)!==o;n&&(R(this,pi,o),this.onFocus())}},{key:"onFocus",value:function(){var o=this.isFocused();this.listeners.forEach(n=>{n(o)})}},{key:"isFocused",value:function(){return typeof m(this,pi)=="boolean"?m(this,pi):globalThis.document?.visibilityState!=="hidden"}}]),t}(or)),hi=new Kx});var ja,An,Ua,qx,vi,_m=h(()=>{a();s();It();Ye();mr();dr();pr();it();Lt();Cn();nr();qx=(ja=new WeakMap,An=new WeakMap,Ua=new WeakMap,function(e){"use strict";xe(t,e);function t(){Y(this,t);var r;return r=be(this,t),F(r,ja,{writable:!0,value:!0}),F(r,An,{writable:!0,value:void 0}),F(r,Ua,{writable:!0,value:void 0}),R(r,Ua,o=>{if(!Cr&&window.addEventListener){var n=()=>o(!0),i=()=>o(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}}),r}return ee(t,[{key:"onSubscribe",value:function(){m(this,An)||this.setEventListener(m(this,Ua))}},{key:"onUnsubscribe",value:function(){var o,n,i;this.hasListeners()||((o=m(i=n=this,An))===null||o===void 0||o.call(n),R(this,An,void 0))}},{key:"setEventListener",value:function(o){var n,i,l;R(this,Ua,o),(n=m(l=i=this,An))===null||n===void 0||n.call(i),R(this,An,o(this.setOnline.bind(this)))}},{key:"setOnline",value:function(o){var n=m(this,ja)!==o;n&&(R(this,ja,o),this.listeners.forEach(i=>{i(o)}))}},{key:"isOnline",value:function(){return m(this,ja)}}]),t}(or)),vi=new qx});function Yx(e){return Math.min(1e3*2**e,3e4)}function bm(e){return(e??"online")==="online"?vi.isOnline():!0}function El(e){return e instanceof Zv}function Tl(e){var t=!1,r=0,o=!1,n,i,l,c=new Promise((oe,He)=>{i=oe,l=He}),f=oe=>{o||(K(new Zv(oe)),e.abort?.())},y=()=>{t=!0},v=()=>{t=!1},w=()=>hi.isFocused()&&(e.networkMode==="always"||vi.isOnline())&&e.canRun(),T=()=>bm(e.networkMode)&&e.canRun(),A=oe=>{o||(o=!0,e.onSuccess?.(oe),n?.(),i(oe))},K=oe=>{o||(o=!0,e.onError?.(oe),n?.(),l(oe))},$=()=>new Promise(oe=>{n=He=>{(o||w())&&oe(He)},e.onPause?.()}).then(()=>{n=void 0,o||e.onContinue?.()}),gt=()=>{if(!o){var oe,He=r===0?e.initialPromise:void 0;try{oe=He??e.fn()}catch(he){oe=Promise.reject(he)}Promise.resolve(oe).then(A).catch(he=>{if(!o){var ct=e.retry??(Cr?0:3),Fe=e.retryDelay??Yx,Ee=typeof Fe=="function"?Fe(r,he):Fe,ft=ct===!0||typeof ct=="number"&&r<ct||typeof ct=="function"&&ct(r,he);if(t||!ft){K(he);return}r++,e.onFail?.(r,he),Yv(Ee).then(()=>w()?void 0:$()).then(()=>{t?K(he):gt()})}})}};return{promise:c,cancel:f,continue:()=>(n?.(),c),cancelRetry:y,continueRetry:v,canStart:T,start:()=>(T()?gt():$().then(gt),c)}}var Zv,xm=h(()=>{a();s();It();Ye();Lt();ou();wl();_m();nr();Zv=function(e){"use strict";xe(t,e);function t(r){Y(this,t);var o;return o=be(this,t,["CancelledError"]),o.revert=r?.revert,o.silent=r?.silent,o}return t}(Hn(Error))});function z(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}var Ha=h(()=>{a();s()});function ot(e,t){Es(e,t),t.add(e)}var Va=h(()=>{a();s();Bu()});function ey(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ur(e),e!==null););return e}var ty=h(()=>{a();s();Ii()});function Ga(e,t,r){return typeof Reflect<"u"&&Reflect.get?Ga=Reflect.get:Ga=function(n,i,l){var c=ey(n,i);if(c){var f=Object.getOwnPropertyDescriptor(c,i);return f.get?f.get.call(l||n):f.value}},Ga(e,t,r||e)}var ry=h(()=>{a();s();ty()});function Xx(){var e=[],t=0,r=c=>{c()},o=c=>{c()},n=c=>setTimeout(c,0),i=c=>{t?e.push(c):n(()=>{r(c)})},l=()=>{var c=e;e=[],c.length&&n(()=>{o(()=>{c.forEach(f=>{r(f)})})})};return{batch:c=>{var f;t++;try{f=c()}finally{t--,t||l()}return f},batchCalls:c=>(...f)=>{i(()=>{c(...f)})},schedule:i,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{o=c},setScheduler:c=>{n=c}}}var pe,fo=h(()=>{a();s();pe=Xx()});var yi,Cl,Sm=h(()=>{a();s();Ye();mr();dr();pr();it();nr();Cl=(yi=new WeakMap,function(){"use strict";function e(){Y(this,e),F(this,yi,{writable:!0,value:void 0})}return ee(e,[{key:"destroy",value:function(){this.clearGcTimeout()}},{key:"scheduleGc",value:function(){this.clearGcTimeout(),Da(this.gcTime)&&R(this,yi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}},{key:"updateGcTime",value:function(r){this.gcTime=Math.max(this.gcTime||0,r??(Cr?1/0:5*60*1e3))}},{key:"clearGcTimeout",value:function(){m(this,yi)&&(clearTimeout(m(this,yi)),R(this,yi,void 0))}}]),e}())});function wm(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bm(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Jx(e){var t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,o=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Wo(e){var t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...wm(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":var o=e.error;return El(o)&&o.revert&&m(this,$a)?{...m(this,$a),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),pe.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),m(this,Rr).notify({query:this,type:"updated",action:e})})}var za,$a,Rr,yt,Rl,gi,Ur,oy,ny,Em=h(()=>{a();s();It();Ye();mr();dr();pr();Ha();Va();it();ry();Ii();Lt();nr();fo();xm();Sm();ny=(za=new WeakMap,$a=new WeakMap,Rr=new WeakMap,yt=new WeakMap,Rl=new WeakMap,gi=new WeakMap,Ur=new WeakSet,oy=function(e){"use strict";xe(t,e);function t(r){Y(this,t);var o;return o=be(this,t),ot(o,Ur),F(o,za,{writable:!0,value:void 0}),F(o,$a,{writable:!0,value:void 0}),F(o,Rr,{writable:!0,value:void 0}),F(o,yt,{writable:!0,value:void 0}),F(o,Rl,{writable:!0,value:void 0}),F(o,gi,{writable:!0,value:void 0}),R(o,gi,!1),R(o,Rl,r.defaultOptions),o.setOptions(r.options),o.observers=[],R(o,Rr,r.cache),o.queryKey=r.queryKey,o.queryHash=r.queryHash,R(o,za,Jx(o.options)),o.state=r.state??m(o,za),o.scheduleGc(),o}return ee(t,[{key:"meta",get:function(){return this.options.meta}},{key:"promise",get:function(){return m(this,yt)?.promise}},{key:"setOptions",value:function(o){this.options={...m(this,Rl),...o},this.updateGcTime(this.options.gcTime)}},{key:"optionalRemove",value:function(){!this.observers.length&&this.state.fetchStatus==="idle"&&m(this,Rr).remove(this)}},{key:"setData",value:function(o,n){var i=ka(this.state.data,o,this.options);return z(this,Ur,Wo).call(this,{data:i,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),i}},{key:"setState",value:function(o,n){z(this,Ur,Wo).call(this,{type:"setState",state:o,setStateOptions:n})}},{key:"cancel",value:function(o){var n=m(this,yt)?.promise;return m(this,yt)?.cancel(o),n?n.then(ut).catch(ut):Promise.resolve()}},{key:"destroy",value:function(){Ga(ur(t.prototype),"destroy",this).call(this),this.cancel({silent:!0})}},{key:"reset",value:function(){this.destroy(),this.setState(m(this,za))}},{key:"isActive",value:function(){return this.observers.some(o=>Bt(o.options.enabled,this)!==!1)}},{key:"isDisabled",value:function(){return this.getObserversCount()>0&&!this.isActive()}},{key:"isStale",value:function(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(o=>o.getCurrentResult().isStale):this.state.data===void 0}},{key:"isStaleByTime",value:function(o=0){return this.state.isInvalidated||this.state.data===void 0||!xl(this.state.dataUpdatedAt,o)}},{key:"onFocus",value:function(){var o=this.observers.find(n=>n.shouldFetchOnWindowFocus());o?.refetch({cancelRefetch:!1}),m(this,yt)?.continue()}},{key:"onOnline",value:function(){var o=this.observers.find(n=>n.shouldFetchOnReconnect());o?.refetch({cancelRefetch:!1}),m(this,yt)?.continue()}},{key:"addObserver",value:function(o){this.observers.includes(o)||(this.observers.push(o),this.clearGcTimeout(),m(this,Rr).notify({type:"observerAdded",query:this,observer:o}))}},{key:"removeObserver",value:function(o){this.observers.includes(o)&&(this.observers=this.observers.filter(n=>n!==o),this.observers.length||(m(this,yt)&&(m(this,gi)?m(this,yt).cancel({revert:!0}):m(this,yt).cancelRetry()),this.scheduleGc()),m(this,Rr).notify({type:"observerRemoved",query:this,observer:o}))}},{key:"getObserversCount",value:function(){return this.observers.length}},{key:"invalidate",value:function(){this.state.isInvalidated||z(this,Ur,Wo).call(this,{type:"invalidate"})}},{key:"fetch",value:function(o,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(m(this,yt))return m(this,yt).continueRetry(),m(this,yt).promise}if(o&&this.setOptions(o),!this.options.queryFn){var i=this.observers.find(w=>w.options.queryFn);i&&this.setOptions(i.options)}var l=new AbortController,c=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(R(this,gi,!0),l.signal)})},f=()=>{var w=Sl(this.options,n),T={queryKey:this.queryKey,meta:this.meta};return c(T),R(this,gi,!1),this.options.persister?this.options.persister(w,T,this):w(T)},y={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:f};c(y),this.options.behavior?.onFetch(y,this),R(this,$a,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==y.fetchOptions?.meta)&&z(this,Ur,Wo).call(this,{type:"fetch",meta:y.fetchOptions?.meta});var v=w=>{El(w)&&w.silent||z(this,Ur,Wo).call(this,{type:"error",error:w}),El(w)||(m(this,Rr).config.onError?.(w,this),m(this,Rr).config.onSettled?.(this.state.data,w,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return R(this,yt,Tl({initialPromise:n?.initialPromise,fn:y.fetchFn,abort:l.abort.bind(l),onSuccess:w=>{if(w===void 0){v(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(T){v(T);return}m(this,Rr).config.onSuccess?.(w,this),m(this,Rr).config.onSettled?.(w,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:v,onFail:(w,T)=>{z(this,Ur,Wo).call(this,{type:"failed",failureCount:w,error:T})},onPause:()=>{z(this,Ur,Wo).call(this,{type:"pause"})},onContinue:()=>{z(this,Ur,Wo).call(this,{type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay,networkMode:y.options.networkMode,canRun:()=>!0})),m(this,yt).start()}}]),t}(Cl),oy)});var mo,iy,ay=h(()=>{a();s();It();Ye();mr();dr();pr();it();Lt();nr();Em();fo();Cn();iy=(mo=new WeakMap,function(e){"use strict";xe(t,e);function t(r={}){Y(this,t);var o;return o=be(this,t),F(o,mo,{writable:!0,value:void 0}),o.config=r,R(o,mo,new Map),o}return ee(t,[{key:"build",value:function(o,n,i){var l=n.queryKey,c=n.queryHash??Fa(l,n),f=this.get(c);return f||(f=new ny({cache:this,queryKey:l,queryHash:c,options:o.defaultQueryOptions(n),state:i,defaultOptions:o.getQueryDefaults(l)}),this.add(f)),f}},{key:"add",value:function(o){m(this,mo).has(o.queryHash)||(m(this,mo).set(o.queryHash,o),this.notify({type:"added",query:o}))}},{key:"remove",value:function(o){var n=m(this,mo).get(o.queryHash);n&&(o.destroy(),n===o&&m(this,mo).delete(o.queryHash),this.notify({type:"removed",query:o}))}},{key:"clear",value:function(){pe.batch(()=>{this.getAll().forEach(o=>{this.remove(o)})})}},{key:"get",value:function(o){return m(this,mo).get(o)}},{key:"getAll",value:function(){return[...m(this,mo).values()]}},{key:"find",value:function(o){var n={exact:!0,...o};return this.getAll().find(i=>vm(n,i))}},{key:"findAll",value:function(o={}){var n=this.getAll();return Object.keys(o).length>0?n.filter(i=>vm(o,i)):n}},{key:"notify",value:function(o){pe.batch(()=>{this.listeners.forEach(n=>{n(o)})})}},{key:"onFocus",value:function(){pe.batch(()=>{this.getAll().forEach(o=>{o.onFocus()})})}},{key:"onOnline",value:function(){pe.batch(()=>{this.getAll().forEach(o=>{o.onOnline()})})}}]),t}(or))});function sy(e,t){if(t.set){if(!t.get)throw new TypeError("attempted to read set only private field");return"__destrWrapper"in t||(t.__destrWrapper={set value(r){t.set.call(e,r)},get value(){return t.get.call(e)}}),t.__destrWrapper}else{if(!t.writable)throw new TypeError("attempted to set read only private field");return t}}var ly=h(()=>{a();s()});function Wa(e,t){var r=$n(e,t,"update");return sy(e,r)}var Tm=h(()=>{a();s();ly();ws()});function Cm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}function On(e){var t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),pe.batch(()=>{m(this,ho).forEach(r=>{r.onMutationUpdate(e)}),m(this,Et).notify({mutation:this,type:"updated",action:e})})}var ho,Et,_i,po,uy,cy,Rm=h(()=>{a();s();ye();It();Ye();mr();dr();pr();Ha();Va();it();Lt();fo();Sm();xm();cy=(ho=new WeakMap,Et=new WeakMap,_i=new WeakMap,po=new WeakSet,uy=function(e){"use strict";xe(t,e);function t(r){Y(this,t);var o;return o=be(this,t),ot(o,po),F(o,ho,{writable:!0,value:void 0}),F(o,Et,{writable:!0,value:void 0}),F(o,_i,{writable:!0,value:void 0}),o.mutationId=r.mutationId,R(o,Et,r.mutationCache),R(o,ho,[]),o.state=r.state||Cm(),o.setOptions(r.options),o.scheduleGc(),o}return ee(t,[{key:"setOptions",value:function(o){this.options=o,this.updateGcTime(this.options.gcTime)}},{key:"meta",get:function(){return this.options.meta}},{key:"addObserver",value:function(o){m(this,ho).includes(o)||(m(this,ho).push(o),this.clearGcTimeout(),m(this,Et).notify({type:"observerAdded",mutation:this,observer:o}))}},{key:"removeObserver",value:function(o){R(this,ho,m(this,ho).filter(n=>n!==o)),this.scheduleGc(),m(this,Et).notify({type:"observerRemoved",mutation:this,observer:o})}},{key:"optionalRemove",value:function(){m(this,ho).length||(this.state.status==="pending"?this.scheduleGc():m(this,Et).remove(this))}},{key:"continue",value:function(){return m(this,_i)?.continue()??this.execute(this.state.variables)}},{key:"execute",value:function(o){var n=this;return x(function*(){R(n,_i,Tl({fn:()=>n.options.mutationFn?n.options.mutationFn(o):Promise.reject(new Error("No mutationFn found")),onFail:(y,v)=>{z(n,po,On).call(n,{type:"failed",failureCount:y,error:v})},onPause:()=>{z(n,po,On).call(n,{type:"pause"})},onContinue:()=>{z(n,po,On).call(n,{type:"continue"})},retry:n.options.retry??0,retryDelay:n.options.retryDelay,networkMode:n.options.networkMode,canRun:()=>m(n,Et).canRun(n)}));var i=n.state.status==="pending",l=!m(n,_i).canStart();try{if(!i){z(n,po,On).call(n,{type:"pending",variables:o,isPaused:l}),yield m(n,Et).config.onMutate?.(o,n);var c=yield n.options.onMutate?.(o);c!==n.state.context&&z(n,po,On).call(n,{type:"pending",context:c,variables:o,isPaused:l})}var f=yield m(n,_i).start();return yield m(n,Et).config.onSuccess?.(f,o,n.state.context,n),yield n.options.onSuccess?.(f,o,n.state.context),yield m(n,Et).config.onSettled?.(f,null,n.state.variables,n.state.context,n),yield n.options.onSettled?.(f,null,o,n.state.context),z(n,po,On).call(n,{type:"success",data:f}),f}catch(y){try{throw yield m(n,Et).config.onError?.(y,o,n.state.context,n),yield n.options.onError?.(y,o,n.state.context),yield m(n,Et).config.onSettled?.(void 0,y,n.state.variables,n.state.context,n),yield n.options.onSettled?.(void 0,y,o,n.state.context),y}finally{z(n,po,On).call(n,{type:"error",error:y})}}finally{m(n,Et).runNext(n)}})()}}]),t}(Cl),uy)});function Ol(e){return e.options.scope?.id??String(e.mutationId)}var ir,Al,fy,my=h(()=>{a();s();It();Ye();mr();dr();pr();Tm();it();Lt();fo();Rm();nr();Cn();fy=(ir=new WeakMap,Al=new WeakMap,function(e){"use strict";xe(t,e);function t(r={}){Y(this,t);var o;return o=be(this,t),F(o,ir,{writable:!0,value:void 0}),F(o,Al,{writable:!0,value:void 0}),o.config=r,R(o,ir,new Map),R(o,Al,Date.now()),o}return ee(t,[{key:"build",value:function(o,n,i){var l=new cy({mutationCache:this,mutationId:++Wa(this,Al).value,options:o.defaultMutationOptions(n),state:i});return this.add(l),l}},{key:"add",value:function(o){var n=Ol(o),i=m(this,ir).get(n)??[];i.push(o),m(this,ir).set(n,i),this.notify({type:"added",mutation:o})}},{key:"remove",value:function(o){var n=Ol(o);if(m(this,ir).has(n)){var i=m(this,ir).get(n)?.filter(l=>l!==o);i&&(i.length===0?m(this,ir).delete(n):m(this,ir).set(n,i))}this.notify({type:"removed",mutation:o})}},{key:"canRun",value:function(o){var n=m(this,ir).get(Ol(o))?.find(i=>i.state.status==="pending");return!n||n===o}},{key:"runNext",value:function(o){var n=m(this,ir).get(Ol(o))?.find(i=>i!==o&&i.state.isPaused);return n?.continue()??Promise.resolve()}},{key:"clear",value:function(){pe.batch(()=>{this.getAll().forEach(o=>{this.remove(o)})})}},{key:"getAll",value:function(){return[...m(this,ir).values()].flat()}},{key:"find",value:function(o){var n={exact:!0,...o};return this.getAll().find(i=>ym(n,i))}},{key:"findAll",value:function(o={}){return this.getAll().filter(n=>ym(o,n))}},{key:"notify",value:function(o){pe.batch(()=>{this.listeners.forEach(n=>{n(o)})})}},{key:"resumePausedMutations",value:function(){var o=this.getAll().filter(n=>n.state.isPaused);return pe.batch(()=>Promise.all(o.map(n=>n.continue().catch(ut))))}}]),t}(or))});function Am(e){return{onFetch:(t,r)=>{var o=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[],c={pages:[],pageParams:[]},f=0,y=function(){var v=x(function*(){var w=!1,T=Fe=>{Object.defineProperty(Fe,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},A=Sl(t.options,t.fetchOptions),K=function(){var Fe=x(function*(Ee,ft,Ht){if(w)return Promise.reject();if(ft==null&&Ee.pages.length)return Promise.resolve(Ee);var Ke={queryKey:t.queryKey,pageParam:ft,direction:Ht?"backward":"forward",meta:t.options.meta};T(Ke);var Vt=yield A(Ke),{maxPages:Vr}=t.options,ar=Ht?Jv:Xv;return{pages:ar(Ee.pages,Vt,Vr),pageParams:ar(Ee.pageParams,ft,Vr)}});return function(ft,Ht,Ke){return Fe.apply(this,arguments)}}();if(n&&i.length){var $=n==="backward",gt=$?Zx:dy,oe={pages:i,pageParams:l},He=gt(o,oe);c=yield K(oe,He,$)}else{var he=e??i.length;do{var ct=f===0?l[0]??o.initialPageParam:dy(o,c);if(f>0&&ct==null)break;c=yield K(c,ct),f++}while(f<he)}return c});return function(){return v.apply(this,arguments)}}();t.options.persister?t.fetchFn=()=>t.options.persister?.(y,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=y}}}function dy(e,{pages:t,pageParams:r}){var o=t.length-1;return t.length>0?e.getNextPageParam(t[o],t,r[o],r):void 0}function Zx(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var py=h(()=>{a();s();ye();nr()});var Ne,Pn,In,Qa,Ka,Ln,qa,Ya,Om,hy=h(()=>{a();s();ye();Ye();mr();dr();pr();Tm();it();nr();ay();my();wl();_m();fo();py();Om=(Ne=new WeakMap,Pn=new WeakMap,In=new WeakMap,Qa=new WeakMap,Ka=new WeakMap,Ln=new WeakMap,qa=new WeakMap,Ya=new WeakMap,function(){"use strict";function e(t={}){Y(this,e),F(this,Ne,{writable:!0,value:void 0}),F(this,Pn,{writable:!0,value:void 0}),F(this,In,{writable:!0,value:void 0}),F(this,Qa,{writable:!0,value:void 0}),F(this,Ka,{writable:!0,value:void 0}),F(this,Ln,{writable:!0,value:void 0}),F(this,qa,{writable:!0,value:void 0}),F(this,Ya,{writable:!0,value:void 0}),R(this,Ne,t.queryCache||new iy),R(this,Pn,t.mutationCache||new fy),R(this,In,t.defaultOptions||{}),R(this,Qa,new Map),R(this,Ka,new Map),R(this,Ln,0)}return ee(e,[{key:"mount",value:function(){if(Wa(this,Ln).value++,m(this,Ln)===1){var r=this;R(this,qa,hi.subscribe(function(){var n=x(function*(i){i&&(yield r.resumePausedMutations(),m(r,Ne).onFocus())});return function(i){return n.apply(this,arguments)}}()));var o=this;R(this,Ya,vi.subscribe(function(){var n=x(function*(i){i&&(yield o.resumePausedMutations(),m(o,Ne).onOnline())});return function(i){return n.apply(this,arguments)}}()))}}},{key:"unmount",value:function(){var r,o,n,i,l,c;Wa(this,Ln).value--,m(this,Ln)===0&&((r=m(n=o=this,qa))===null||r===void 0||r.call(o),R(this,qa,void 0),(i=m(c=l=this,Ya))===null||i===void 0||i.call(l),R(this,Ya,void 0))}},{key:"isFetching",value:function(r){return m(this,Ne).findAll({...r,fetchStatus:"fetching"}).length}},{key:"isMutating",value:function(r){return m(this,Pn).findAll({...r,status:"pending"}).length}},{key:"getQueryData",value:function(r){var o=this.defaultQueryOptions({queryKey:r});return m(this,Ne).get(o.queryHash)?.state.data}},{key:"ensureQueryData",value:function(r){var o=this.getQueryData(r.queryKey);if(o===void 0)return this.fetchQuery(r);var n=this.defaultQueryOptions(r),i=m(this,Ne).build(this,n);return r.revalidateIfStale&&i.isStaleByTime($o(n.staleTime,i))&&this.prefetchQuery(n),Promise.resolve(o)}},{key:"getQueriesData",value:function(r){return m(this,Ne).findAll(r).map(({queryKey:o,state:n})=>{var i=n.data;return[o,i]})}},{key:"setQueryData",value:function(r,o,n){var i=this.defaultQueryOptions({queryKey:r}),l=m(this,Ne).get(i.queryHash),c=l?.state.data,f=Kv(o,c);if(f!==void 0)return m(this,Ne).build(this,i).setData(f,{...n,manual:!0})}},{key:"setQueriesData",value:function(r,o,n){return pe.batch(()=>m(this,Ne).findAll(r).map(({queryKey:i})=>[i,this.setQueryData(i,o,n)]))}},{key:"getQueryState",value:function(r){var o=this.defaultQueryOptions({queryKey:r});return m(this,Ne).get(o.queryHash)?.state}},{key:"removeQueries",value:function(r){var o=m(this,Ne);pe.batch(()=>{o.findAll(r).forEach(n=>{o.remove(n)})})}},{key:"resetQueries",value:function(r,o){var n=m(this,Ne),i={type:"active",...r};return pe.batch(()=>(n.findAll(r).forEach(l=>{l.reset()}),this.refetchQueries(i,o)))}},{key:"cancelQueries",value:function(r={},o={}){var n={revert:!0,...o},i=pe.batch(()=>m(this,Ne).findAll(r).map(l=>l.cancel(n)));return Promise.all(i).then(ut).catch(ut)}},{key:"invalidateQueries",value:function(r={},o={}){return pe.batch(()=>{if(m(this,Ne).findAll(r).forEach(i=>{i.invalidate()}),r.refetchType==="none")return Promise.resolve();var n={...r,type:r.refetchType??r.type??"active"};return this.refetchQueries(n,o)})}},{key:"refetchQueries",value:function(r={},o){var n={...o,cancelRefetch:o?.cancelRefetch??!0},i=pe.batch(()=>m(this,Ne).findAll(r).filter(l=>!l.isDisabled()).map(l=>{var c=l.fetch(void 0,n);return n.throwOnError||(c=c.catch(ut)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(i).then(ut)}},{key:"fetchQuery",value:function(r){var o=this.defaultQueryOptions(r);o.retry===void 0&&(o.retry=!1);var n=m(this,Ne).build(this,o);return n.isStaleByTime($o(o.staleTime,n))?n.fetch(o):Promise.resolve(n.state.data)}},{key:"prefetchQuery",value:function(r){return this.fetchQuery(r).then(ut).catch(ut)}},{key:"fetchInfiniteQuery",value:function(r){return r.behavior=Am(r.pages),this.fetchQuery(r)}},{key:"prefetchInfiniteQuery",value:function(r){return this.fetchInfiniteQuery(r).then(ut).catch(ut)}},{key:"ensureInfiniteQueryData",value:function(r){return r.behavior=Am(r.pages),this.ensureQueryData(r)}},{key:"resumePausedMutations",value:function(){return vi.isOnline()?m(this,Pn).resumePausedMutations():Promise.resolve()}},{key:"getQueryCache",value:function(){return m(this,Ne)}},{key:"getMutationCache",value:function(){return m(this,Pn)}},{key:"getDefaultOptions",value:function(){return m(this,In)}},{key:"setDefaultOptions",value:function(r){R(this,In,r)}},{key:"setQueryDefaults",value:function(r,o){m(this,Qa).set(co(r),{queryKey:r,defaultOptions:o})}},{key:"getQueryDefaults",value:function(r){var o=[...m(this,Qa).values()],n={};return o.forEach(i=>{mi(r,i.queryKey)&&(n={...n,...i.defaultOptions})}),n}},{key:"setMutationDefaults",value:function(r,o){m(this,Ka).set(co(r),{mutationKey:r,defaultOptions:o})}},{key:"getMutationDefaults",value:function(r){var o=[...m(this,Ka).values()],n={};return o.forEach(i=>{mi(r,i.mutationKey)&&(n={...n,...i.defaultOptions})}),n}},{key:"defaultQueryOptions",value:function(r){if(r._defaulted)return r;var o={...m(this,In).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return o.queryHash||(o.queryHash=Fa(o.queryKey,o)),o.refetchOnReconnect===void 0&&(o.refetchOnReconnect=o.networkMode!=="always"),o.throwOnError===void 0&&(o.throwOnError=!!o.suspense),!o.networkMode&&o.persister&&(o.networkMode="offlineFirst"),o.enabled!==!0&&o.queryFn===gm&&(o.enabled=!1),o}},{key:"defaultMutationOptions",value:function(r){return r?._defaulted?r:{...m(this,In).mutations,...r?.mutationKey&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}},{key:"clear",value:function(){m(this,Ne).clear(),m(this,Pn).clear()}}]),e}())});function eS(e,t){return Bt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function yy(e,t){return eS(e,t)||e.state.data!==void 0&&Im(e,t,t.refetchOnMount)}function Im(e,t,r){if(Bt(t.enabled,e)!==!1){var o=typeof r=="function"?r(e):r;return o==="always"||o!==!1&&Mm(e,t)}return!1}function gy(e,t,r,o){return(e!==t||Bt(o.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Mm(e,r)}function Mm(e,t){return Bt(t.enabled,e)!==!1&&e.isStaleByTime($o(t.staleTime,e))}function tS(e,t){return!di(e.getCurrentResult(),t)}function jl(e){z(this,Bl,Ty).call(this);var t=m(this,Z).fetch(this.options,e);return e?.throwOnError||(t=t.catch(ut)),t}function by(){z(this,Fl,wy).call(this);var e=$o(this.options.staleTime,m(this,Z));if(!(Cr||m(this,Tt).isStale||!Da(e))){var t=xl(m(this,Tt).dataUpdatedAt,e),r=t+1;R(this,Si,setTimeout(()=>{m(this,Tt).isStale||this.updateResult()},r))}}function xy(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(m(this,Z)):this.options.refetchInterval)??!1}function Sy(e){z(this,kl,Ey).call(this),R(this,Mn,e),!(Cr||Bt(this.options.enabled,m(this,Z))===!1||!Da(m(this,Mn))||m(this,Mn)===0)&&R(this,wi,setInterval(()=>{(this.options.refetchIntervalInBackground||hi.isFocused())&&z(this,xi,jl).call(this)},m(this,Mn)))}function _y(){z(this,Ml,by).call(this),z(this,Dl,Sy).call(this,z(this,Nl,xy).call(this))}function wy(){m(this,Si)&&(clearTimeout(m(this,Si)),R(this,Si,void 0))}function Ey(){m(this,wi)&&(clearInterval(m(this,wi)),R(this,wi,void 0))}function Ty(){var e=m(this,jt).getQueryCache().build(m(this,jt),this.options);if(e!==m(this,Z)){var t=m(this,Z);R(this,Z,e),R(this,Ll,e.state),this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}}function rS(e){pe.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(m(this,Tt))}),m(this,jt).getQueryCache().notify({query:m(this,Z),type:"observerResultsUpdated"})})}var jt,Z,Ll,Tt,bi,Xa,vo,Pl,Ja,Za,Si,wi,Mn,es,xi,Ml,Nl,Dl,Il,Fl,kl,Bl,Pm,vy,Lm,Cy=h(()=>{a();s();It();Ye();mr();dr();pr();Ha();Va();it();Lt();nr();fo();wl();Cn();Em();Lm=(jt=new WeakMap,Z=new WeakMap,Ll=new WeakMap,Tt=new WeakMap,bi=new WeakMap,Xa=new WeakMap,vo=new WeakMap,Pl=new WeakMap,Ja=new WeakMap,Za=new WeakMap,Si=new WeakMap,wi=new WeakMap,Mn=new WeakMap,es=new WeakMap,xi=new WeakSet,Ml=new WeakSet,Nl=new WeakSet,Dl=new WeakSet,Il=new WeakSet,Fl=new WeakSet,kl=new WeakSet,Bl=new WeakSet,Pm=new WeakSet,vy=function(e){"use strict";xe(t,e);function t(r,o){Y(this,t);var n;return n=be(this,t),ot(n,xi),ot(n,Ml),ot(n,Nl),ot(n,Dl),ot(n,Il),ot(n,Fl),ot(n,kl),ot(n,Bl),ot(n,Pm),F(n,jt,{writable:!0,value:void 0}),F(n,Z,{writable:!0,value:void 0}),F(n,Ll,{writable:!0,value:void 0}),F(n,Tt,{writable:!0,value:void 0}),F(n,bi,{writable:!0,value:void 0}),F(n,Xa,{writable:!0,value:void 0}),F(n,vo,{writable:!0,value:void 0}),F(n,Pl,{writable:!0,value:void 0}),F(n,Ja,{writable:!0,value:void 0}),F(n,Za,{writable:!0,value:void 0}),F(n,Si,{writable:!0,value:void 0}),F(n,wi,{writable:!0,value:void 0}),F(n,Mn,{writable:!0,value:void 0}),F(n,es,{writable:!0,value:new Set}),n.options=o,R(n,jt,r),R(n,vo,null),n.bindMethods(),n.setOptions(o),n}return ee(t,[{key:"bindMethods",value:function(){this.refetch=this.refetch.bind(this)}},{key:"onSubscribe",value:function(){this.listeners.size===1&&(m(this,Z).addObserver(this),yy(m(this,Z),this.options)?z(this,xi,jl).call(this):this.updateResult(),z(this,Il,_y).call(this))}},{key:"onUnsubscribe",value:function(){this.hasListeners()||this.destroy()}},{key:"shouldFetchOnReconnect",value:function(){return Im(m(this,Z),this.options,this.options.refetchOnReconnect)}},{key:"shouldFetchOnWindowFocus",value:function(){return Im(m(this,Z),this.options,this.options.refetchOnWindowFocus)}},{key:"destroy",value:function(){this.listeners=new Set,z(this,Fl,wy).call(this),z(this,kl,Ey).call(this),m(this,Z).removeObserver(this)}},{key:"setOptions",value:function(o,n){var i=this.options,l=m(this,Z);if(this.options=m(this,jt).defaultQueryOptions(o),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bt(this.options.enabled,m(this,Z))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");z(this,Bl,Ty).call(this),m(this,Z).setOptions(this.options),i._defaulted&&!di(this.options,i)&&m(this,jt).getQueryCache().notify({type:"observerOptionsUpdated",query:m(this,Z),observer:this});var c=this.hasListeners();c&&gy(m(this,Z),l,this.options,i)&&z(this,xi,jl).call(this),this.updateResult(n),c&&(m(this,Z)!==l||Bt(this.options.enabled,m(this,Z))!==Bt(i.enabled,m(this,Z))||$o(this.options.staleTime,m(this,Z))!==$o(i.staleTime,m(this,Z)))&&z(this,Ml,by).call(this);var f=z(this,Nl,xy).call(this);c&&(m(this,Z)!==l||Bt(this.options.enabled,m(this,Z))!==Bt(i.enabled,m(this,Z))||f!==m(this,Mn))&&z(this,Dl,Sy).call(this,f)}},{key:"getOptimisticResult",value:function(o){var n=m(this,jt).getQueryCache().build(m(this,jt),o),i=this.createResult(n,o);return tS(this,i)&&(R(this,Tt,i),R(this,Xa,this.options),R(this,bi,m(this,Z).state)),i}},{key:"getCurrentResult",value:function(){return m(this,Tt)}},{key:"trackResult",value:function(o,n){var i={};return Object.keys(o).forEach(l=>{Object.defineProperty(i,l,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(l),n?.(l),o[l])})}),i}},{key:"trackProp",value:function(o){m(this,es).add(o)}},{key:"getCurrentQuery",value:function(){return m(this,Z)}},{key:"refetch",value:function({...o}={}){return this.fetch({...o})}},{key:"fetchOptimistic",value:function(o){var n=m(this,jt).defaultQueryOptions(o),i=m(this,jt).getQueryCache().build(m(this,jt),n);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,n))}},{key:"fetch",value:function(o){return z(this,xi,jl).call(this,{...o,cancelRefetch:o.cancelRefetch??!0}).then(()=>(this.updateResult(),m(this,Tt)))}},{key:"createResult",value:function(o,n){var i=m(this,Z),l=this.options,c=m(this,Tt),f=m(this,bi),y=m(this,Xa),v=o!==i,w=v?o.state:m(this,Ll),{state:T}=o,A={...T},K=!1,$;if(n._optimisticResults){var gt=this.hasListeners(),oe=!gt&&yy(o,n),He=gt&&gy(o,i,n,l);(oe||He)&&(A={...A,...wm(T.data,o.options)}),n._optimisticResults==="isRestoring"&&(A.fetchStatus="idle")}var{error:he,errorUpdatedAt:ct,status:Fe}=A;if(n.select&&A.data!==void 0)if(c&&A.data===f?.data&&n.select===m(this,Pl))$=m(this,Ja);else try{R(this,Pl,n.select),$=n.select(A.data),$=ka(c?.data,$,n),R(this,Ja,$),R(this,vo,null)}catch(_o){R(this,vo,_o)}else $=A.data;if(n.placeholderData!==void 0&&$===void 0&&Fe==="pending"){var Ee;if(c?.isPlaceholderData&&n.placeholderData===y?.placeholderData)Ee=c.data;else if(Ee=typeof n.placeholderData=="function"?n.placeholderData(m(this,Za)?.state.data,m(this,Za)):n.placeholderData,n.select&&Ee!==void 0)try{Ee=n.select(Ee),R(this,vo,null)}catch(_o){R(this,vo,_o)}Ee!==void 0&&(Fe="success",$=ka(c?.data,Ee,n),K=!0)}m(this,vo)&&(he=m(this,vo),$=m(this,Ja),ct=Date.now(),Fe="error");var ft=A.fetchStatus==="fetching",Ht=Fe==="pending",Ke=Fe==="error",Vt=Ht&&ft,Vr=$!==void 0,ar={status:Fe,fetchStatus:A.fetchStatus,isPending:Ht,isSuccess:Fe==="success",isError:Ke,isInitialLoading:Vt,isLoading:Vt,data:$,dataUpdatedAt:A.dataUpdatedAt,error:he,errorUpdatedAt:ct,failureCount:A.fetchFailureCount,failureReason:A.fetchFailureReason,errorUpdateCount:A.errorUpdateCount,isFetched:A.dataUpdateCount>0||A.errorUpdateCount>0,isFetchedAfterMount:A.dataUpdateCount>w.dataUpdateCount||A.errorUpdateCount>w.errorUpdateCount,isFetching:ft,isRefetching:ft&&!Ht,isLoadingError:Ke&&!Vr,isPaused:A.fetchStatus==="paused",isPlaceholderData:K,isRefetchError:Ke&&Vr,isStale:Mm(o,n),refetch:this.refetch};return ar}},{key:"updateResult",value:function(o){var n=m(this,Tt),i=this.createResult(m(this,Z),this.options);if(R(this,bi,m(this,Z).state),R(this,Xa,this.options),m(this,bi).data!==void 0&&R(this,Za,m(this,Z)),!di(i,n)){R(this,Tt,i);var l={},c=()=>{if(!n)return!0;var{notifyOnChangeProps:f}=this.options,y=typeof f=="function"?f():f;if(y==="all"||!y&&!m(this,es).size)return!0;var v=new Set(y??m(this,es));return this.options.throwOnError&&v.add("error"),Object.keys(m(this,Tt)).some(w=>{var T=w,A=m(this,Tt)[T]!==n[T];return A&&v.has(T)})};o?.listeners!==!1&&c()&&(l.listeners=!0),z(this,Pm,rS).call(this,{...l,...o})}}},{key:"onQueryUpdate",value:function(){this.updateResult(),this.hasListeners()&&z(this,Il,_y).call(this)}}]),t}(or),vy)});function Nm(){var e=m(this,Ut)?.state??Cm();R(this,Dn,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})}function Ay(e){pe.batch(()=>{if(m(this,Qo)&&this.hasListeners()){var t=m(this,Dn).variables,r=m(this,Dn).context;e?.type==="success"?(m(this,Qo).onSuccess?.(e.data,t,r),m(this,Qo).onSettled?.(e.data,null,t,r)):e?.type==="error"&&(m(this,Qo).onError?.(e.error,t,r),m(this,Qo).onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(o=>{o(m(this,Dn))})})}var Nn,Dn,Ut,Qo,ts,Ul,Ry,Dm,Oy=h(()=>{a();s();It();Ye();mr();dr();pr();Ha();Va();it();Lt();Rm();fo();Cn();nr();Dm=(Nn=new WeakMap,Dn=new WeakMap,Ut=new WeakMap,Qo=new WeakMap,ts=new WeakSet,Ul=new WeakSet,Ry=function(e){"use strict";xe(t,e);function t(r,o){Y(this,t);var n;return n=be(this,t),ot(n,ts),ot(n,Ul),F(n,Nn,{writable:!0,value:void 0}),F(n,Dn,{writable:!0,value:void 0}),F(n,Ut,{writable:!0,value:void 0}),F(n,Qo,{writable:!0,value:void 0}),R(n,Nn,r),n.setOptions(o),n.bindMethods(),z(n,ts,Nm).call(n),n}return ee(t,[{key:"bindMethods",value:function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}},{key:"setOptions",value:function(o){var n=this.options;this.options=m(this,Nn).defaultMutationOptions(o),di(this.options,n)||m(this,Nn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:m(this,Ut),observer:this}),n?.mutationKey&&this.options.mutationKey&&co(n.mutationKey)!==co(this.options.mutationKey)?this.reset():m(this,Ut)?.state.status==="pending"&&m(this,Ut).setOptions(this.options)}},{key:"onUnsubscribe",value:function(){this.hasListeners()||m(this,Ut)?.removeObserver(this)}},{key:"onMutationUpdate",value:function(o){z(this,ts,Nm).call(this),z(this,Ul,Ay).call(this,o)}},{key:"getCurrentResult",value:function(){return m(this,Dn)}},{key:"reset",value:function(){m(this,Ut)?.removeObserver(this),R(this,Ut,void 0),z(this,ts,Nm).call(this),z(this,Ul,Ay).call(this)}},{key:"mutate",value:function(o,n){return R(this,Qo,n),m(this,Ut)?.removeObserver(this),R(this,Ut,m(this,Nn).getMutationCache().build(m(this,Nn),this.options)),m(this,Ut).addObserver(this),m(this,Ut).execute(o)}}]),t}(or),Ry)});var Py=h(()=>{a();s()});var rs=h(()=>{a();s();hy();Cy();Oy();fo();Py()});var Iy=h(()=>{a();s()});var Ei,Fm,os,km,Hl=h(()=>{"use client";a();s();Ei=U(rt(),1);q();Fm=Ei.createContext(void 0),os=e=>{var t=Ei.useContext(Fm);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},km=({client:e,children:t})=>(Ei.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u(Fm.Provider,{value:e,children:t}))});var Vl,Ly,My,Wj,Ny=h(()=>{"use client";a();s();Vl=U(rt(),1),Ly=Vl.createContext(!1),My=()=>Vl.useContext(Ly),Wj=Ly.Provider});function oS(){var e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ns,nS,Dy,Fy=h(()=>{"use client";a();s();ns=U(rt(),1);q();nS=ns.createContext(oS()),Dy=()=>ns.useContext(nS)});function Gl(e,t){return typeof e=="function"?e(...t):!!e}function ky(){}var Bm=h(()=>{a();s()});var By,jy,Uy,Hy,Vy=h(()=>{"use client";a();s();By=U(rt(),1);Bm();jy=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Uy=e=>{By.useEffect(()=>{e.clearReset()},[e])},Hy=({result:e,errorResetBoundary:t,throwOnError:r,query:o})=>e.isError&&!t.isReset()&&!e.isFetching&&o&&Gl(r,[e.error,o])});var Gy,zy,$y,Wy=h(()=>{a();s();Gy=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},zy=(e,t)=>e?.suspense&&t.isPending,$y=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()})});function Qy(e,t,r){var o=os(r),n=My(),i=Dy(),l=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=n?"isRestoring":"optimistic",Gy(l),jy(l,i),Uy(i);var[c]=Ko.useState(()=>new t(o,l)),f=c.getOptimisticResult(l);if(Ko.useSyncExternalStore(Ko.useCallback(y=>{var v=n?()=>{}:c.subscribe(pe.batchCalls(y));return c.updateResult(),v},[c,n]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),Ko.useEffect(()=>{c.setOptions(l,{listeners:!1})},[l,c]),zy(l,f))throw $y(l,c,i);if(Hy({result:f,errorResetBoundary:i,throwOnError:l.throwOnError,query:o.getQueryCache().get(l.queryHash)}))throw f.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(l,f),l.notifyOnChangeProps?f:c.trackResult(f)}var Ko,Ky=h(()=>{"use client";a();s();Ko=U(rt(),1);rs();Fy();Hl();Ny();Vy();Wy()});function zl(e,t){return Qy(e,Lm,t)}var qy=h(()=>{"use client";a();s();rs();Ky()});function jm(e,t){var r=os(t),[o]=yo.useState(()=>new Dm(r,e));yo.useEffect(()=>{o.setOptions(e)},[o,e]);var n=yo.useSyncExternalStore(yo.useCallback(l=>o.subscribe(pe.batchCalls(l)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),i=yo.useCallback((l,c)=>{o.mutate(l,c).catch(ky)},[o]);if(n.error&&Gl(o.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}var yo,Yy=h(()=>{"use client";a();s();yo=U(rt(),1);rs();Hl();Bm()});var Xy=h(()=>{a();s();rs();Iy();qy();Hl();Yy()});var rg={};j(rg,{default:()=>tg});function iS(e){return Um.apply(this,arguments)}function Um(){return Um=x(function*(e){var t=[];{var r=!1,o=!1,n;try{for(var i=Uv(e),l;r=!(l=yield i.next()).done;r=!1){var c=l.value,f=c;t.push(f)}}catch(y){o=!0,n=y}finally{try{r&&i.return!=null&&(yield i.return())}finally{if(o)throw n}}}return t}),Um.apply(this,arguments)}function eg(e,t){return Hm.apply(this,arguments)}function Hm(){return Hm=x(function*(e,t){var r=new URL(`builds/${t}/manifest.json`,e),o=yield Ge(r).then(n=>n.json());return Zy.setQueryData(["plugin-manifest-dist",{id:t}],o),o}),Hm.apply(this,arguments)}function aS(e){return Vm.apply(this,arguments)}function Vm(){return Vm=zv(function*(e){var t=yield bl(Ge(e)),r=Object.keys(yield bl(t.json()));for(var o of tu(r,5)){var n=o.map(l=>eg(Qr,l));for(var i of n)yield yield bl(i)}}),Vm.apply(this,arguments)}function sS(e){var[t,r]=(0,Jy.useState)(rr(e.id)),o=jm({mutationFn:function(){var n=x(function*({install:i}){yield(i?um:vl)(e.id,!0)});return function(i){return n.apply(this,arguments)}}(),onSettled(){r(rr(e.id))},onError(n){X(n instanceof Error?n.message:String(n))}});return u(Q,{size:"sm",loading:o.isPending,text:t?"Uninstall":"Install",onPress:()=>o.mutate({install:!t}),variant:t?"destructive":"primary",icon:b(t?"TrashIcon":"DownloadIcon")})}function lS(e){return S(Se,{spacing:8,direction:"horizontal",children:[u(Le,{size:"sm",onPress:()=>{},variant:"secondary",icon:b("CircleInformationIcon")}),u(sS,{id:e.id})]})}function uS(e){var{isPending:t,error:r,data:o}=zl({queryKey:["plugin-manifest-dist",{id:e.id}],queryFn:()=>eg(e.repoUrl,e.id)});return S(Oe,{children:[!o&&u(Fn.View,{style:{justifyContent:"center",alignItems:"center"},children:S(P,{color:"text-muted",variant:"heading-lg/semibold",children:[t&&"Loading...",r&&`An error has occured while fetching plugin: ${r.message}`]})}),o&&S(Se,{spacing:16,children:[S(Fn.View,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[S(Fn.View,{style:{flexShrink:1},children:[u(P,{numberOfLines:1,variant:"heading-lg/semibold",children:o.display.name}),S(P,{variant:"text-md/semibold",color:"text-muted",children:["by ",o.display.authors?.map(n=>typeof n=="string"?n:n.name).join(", ")??"Unknown"]})]}),u(Fn.View,{children:u(lS,{id:e.id})})]}),u(P,{variant:"text-md/medium",children:o.display.description})]})]})}function cS(){var{data:e,error:t,isPending:r,refetch:o}=zl({queryKey:["plugins-repo-fetch"],queryFn:()=>iS(aS(Qr))});return t?u(Fn.View,{style:{flex:1,paddingHorizontal:8,justifyContent:"center",alignItems:"center"},children:S(Oe,{style:{gap:8},children:[u(P,{style:{textAlign:"center"},variant:"heading-lg/bold",children:"An error occured while fetching the repository!"}),u(P,{style:{textAlign:"center"},variant:"text-sm/medium",color:"text-muted",children:t instanceof Error?t.message:String(t)}),u(Q,{size:"lg",text:"Refetch",onPress:o,icon:b("RetryIcon")})]})}):u(pn,{data:e,refreshing:r,onRefresh:o,estimatedItemSize:136,contentContainerStyle:{paddingBottom:90,paddingHorizontal:5},renderItem:({item:n})=>u(Fn.View,{style:{paddingVertical:6,paddingHorizontal:8},children:u(uS,{repoUrl:Qr,id:n.id,manifest:n})})})}function tg(){return u(km,{client:Zy,children:u(cS,{})})}var Jy,Fn,Zy,og=h(()=>{"use strict";a();s();Hv();ye();Vv();$v();q();zo();ge();er();bt();Kr();ue();Xy();rn();Jy=U(rt()),Fn=U(se()),Zy=new Om});var sg={};j(sg,{default:()=>ag});function mS(e){var t=e.useItems();return u(wn,{CardComponent:Lf,title:g.PLUGINS,searchKeywords:["name","description",r=>r.authors?.map(o=>typeof o=="string"?o:o.name).join()||""],sortOptions:{"Name (A-Z)":(r,o)=>r.name.localeCompare(o.name),"Name (Z-A)":(r,o)=>o.name.localeCompare(r.name)},safeModeHint:{message:g.SAFE_MODE_NOTICE_PLUGINS},items:t,...e})}function ag(){le(D);var e=Ae.useNavigation();return u(mS,{useItems:()=>{le(W.plugins),Wr([We]);var t=Object.values(W.plugins).map(dm),r=[...Ue.values()].filter(o=>rr(o.id)&&!im(o.id)).map(mm);return[...t,...r]},ListHeaderComponent:()=>{var t=Object.values(W.plugins).filter(r=>!r.id.startsWith(hr)&&!r.id.startsWith(fn));return t.length?u(kn.View,{style:{marginVertical:12,marginHorizontal:10},children:u(Oe,{border:"strong",children:S(kn.View,{style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[S(kn.View,{style:{gap:6,flexShrink:1},children:[u(P,{variant:"heading-md/bold",children:"Unproxied Plugins Found"}),u(P,{variant:"text-sm/medium",color:"text-muted",children:"Plugins installed from unproxied sources may run unverified code in this app without your awareness."})]}),u(kn.View,{style:{marginLeft:"auto"},children:u(Le,{size:"sm",variant:"secondary",icon:b("CircleInformationIcon-primary"),style:{marginLeft:8},onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Unproxied Plugins",render:()=>u(pn,{data:t,contentContainerStyle:{padding:8},ItemSeparatorComponent:()=>u(kn.View,{style:{height:8}}),renderItem:({item:r})=>u(Oe,{children:u(P,{variant:"heading-md/semibold",children:r.id})})})})}})})]})})}):null},ListFooterComponent:()=>u(kn.View,{style:{alignItems:"center",justifyContent:"center",paddingTop:16,gap:12},children:u(Q,{size:"lg",text:"Browse Plugins",icon:b("CompassIcon"),onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Plugin Browser",render:React.lazy(()=>Promise.resolve().then(()=>(og(),rg)))})}})}),installAction:{label:"Install a plugin",fetchFn:function(){var t=x(function*(r){if(!r.startsWith(hr)&&!r.startsWith(fn)&&!D.developerSettings)ng("bunny-plugin-unproxied-confirmation",u(ig,{title:"Hold On!",content:"You're trying to install a plugin from an unproxied external source. This means you're trusting the creator to run their code in this app without your knowledge. Are you sure you want to continue?",extraContent:u(Oe,{children:u(P,{variant:"text-md/bold",children:r})}),actions:S(fS,{children:[u(Gm,{text:"Continue",variant:"primary",onPress:()=>{W.installPlugin(r).then(()=>X(g.TOASTS_INSTALLED_PLUGIN,b("Check"))).catch(o=>ng("bunny-plugin-install-failed",u(ig,{title:"Install Failed",content:`Unable to install plugin from '${r}':`,extraContent:u(Oe,{children:u(P,{variant:"text-md/normal",children:o instanceof Error?o.message:String(o)})}),actions:u(Gm,{text:"Okay",variant:"primary"})})))}}),u(Gm,{text:"Cancel",variant:"secondary"})]})}));else return yield W.installPlugin(r)});return function(r){return t.apply(this,arguments)}}()}})}var kn,ng,ig,fS,Gm,lg=h(()=>{"use strict";a();s();ye();q();Me();il();Zh();so();De();zo();ge();je();Dr();er();Kr();Be();ht();J();ue();kn=U(se());Dv();jv();({openAlert:ng}=te(()=>H("openAlert","dismissAlert"))),{AlertModal:ig,AlertActions:fS,AlertActionButton:Gm}=te(()=>H("AlertModal","AlertActions"))});function zm(e){var t=hS();return u(Oe,{children:S(Se,{spacing:16,children:[S(Bn.View,{style:{flexDirection:"row",alignItems:"center"},children:[S(Bn.View,{style:t.headerLeading,children:[u(P,{style:t.headerLabel,children:e.headerLabel}),e.headerSublabel&&u(P,{style:t.headerSubtitle,children:e.headerSublabel})]}),S(Bn.View,{style:[t.headerTrailing,{marginLeft:"auto"}],children:[S(Bn.View,{style:t.actions,children:[e.overflowActions&&u(Le,{onPress:()=>pS({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&u(Fr.Icon,{style:{marginRight:8},source:b(e.headerIcon)}),onClose:()=>dS()},options:e.overflowActions?.map(r=>({...r,icon:b(r.icon)}))}),size:"sm",variant:"secondary",icon:b("CircleInformationIcon-primary")}),e.actions?.map(({icon:r,onPress:o,disabled:n})=>u(Le,{onPress:o,disabled:n,size:"sm",variant:"secondary",icon:b(r)}))]}),e.toggleType&&(e.toggleType==="switch"?u(fc,{value:e.toggleValue(),onValueChange:e.onToggleChange}):u(Bn.TouchableOpacity,{onPress:()=>{e.onToggleChange?.(!e.toggleValue())},children:u(mc,{selected:e.toggleValue()})}))]})]}),e.descriptionLabel&&u(P,{variant:"text-md/medium",children:e.descriptionLabel})]})})}var Bn,dS,pS,hS,ug=h(()=>{"use strict";a();s();q();ge();Be();ue();Re();ri();Br();Bn=U(se()),{hideActionSheet:dS}=te(()=>H("openLazy","hideActionSheet")),{showSimpleActionSheet:pS}=te(()=>H("showSimpleActionSheet")),hS=Sr({card:{backgroundColor:St?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...ao["heading-md/semibold"],color:St.TEXT_NORMAL},headerSubtitle:{...ao["text-md/semibold"],color:St.TEXT_MUTED},descriptionLabel:{...ao["text-md/semibold"],color:St.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:St.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}})});function cg(e,t){try{eo(e?t:null)}catch(r){console.error("Error while selectAndApply,",r)}}function $m({item:e}){le(e);var[t,r]=React.useState(!1);if(t)return null;var{authors:o}=e.data;return u(zm,{headerLabel:e.data.name,headerSublabel:o?`by ${o.map(n=>n.name).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:D.safeMode?.enabled?void 0:"radio",toggleValue:()=>we[e.id].selected,onToggleChange:n=>{cg(n,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:g.REFETCH,onPress:()=>{yn(e.id,e.selected).then(()=>{X(g.THEME_REFETCH_SUCCESSFUL,b("toast_image_saved"))}).catch(()=>{X(g.THEME_REFETCH_FAILED,b("Small"))})}},{icon:"copy",label:g.COPY_URL,onPress:()=>{tt.setString(e.id),X.showCopyToClipboard()}},{icon:"ic_message_delete",label:g.DELETE,isDestructive:!0,onPress:()=>Tr({title:g.HOLD_UP,content:Ft("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:g.DELETE,cancelText:g.CANCEL,confirmColor:"red",onConfirm:()=>{gn(e.id).then(n=>{r(!0),n&&cg(!1,e)}).catch(n=>{X(n.message,b("Small"))})}})}]})}var fg=h(()=>{"use strict";a();s();q();Me();ug();li();De();Dt();ge();je();J();er()});var pg={};j(pg,{default:()=>dg});function dg(){return le(D),le(we),u(wn,{title:g.THEMES,searchKeywords:["data.name","data.description",e=>e.data.authors?.map(t=>t.name).join(", ")??""],sortOptions:{"Name (A-Z)":(e,t)=>e.data.name.localeCompare(t.data.name),"Name (Z-A)":(e,t)=>t.data.name.localeCompare(e.data.name)},installAction:{label:"Install a theme",fetchFn:Zr},items:Object.values(we),safeModeHint:{message:Ft("SAFE_MODE_NOTICE_THEMES",{enabled:!!D.safeMode?.currentThemeId}),footer:D.safeMode?.currentThemeId&&u(Q,{size:"small",text:g.DISABLE_THEME,onPress:()=>delete D.safeMode?.currentThemeId,style:{marginTop:8}})},CardComponent:$m,OptionsActionSheetComponent:()=>(Wr([Nt]),S(vr,{children:[u(aa,{title:"Options"}),S(mg.View,{style:{paddingVertical:20,gap:12},children:[S(Os,{title:"Override Theme Type",value:Nt.type??"auto",hasIcons:!0,onChange:e=>{Nt.type=e!=="auto"?e:void 0,to()?.data&&ko(to().data,{update:!0})},children:[u(dn,{icon:u(mn,{source:b("RobotIcon")}),label:"Auto",value:"auto"}),u(dn,{icon:u(mn,{source:b("ThemeDarkIcon")}),label:"Dark",value:"dark"}),u(dn,{icon:u(mn,{source:b("ThemeLightIcon")}),label:"Light",value:"light"})]}),S(Os,{title:"Chat Background",value:Nt.customBackground??"shown",hasIcons:!0,onChange:e=>{Nt.customBackground=e!=="shown"?e:null},children:[u(dn,{icon:u(mn,{source:b("ImageIcon")}),label:"Show",value:"shown"}),u(dn,{icon:u(mn,{source:b("DenyIcon")}),label:"Hide",value:"hidden"})]})]})]}))})}var mg,hg=h(()=>{"use strict";a();s();q();Me();il();fg();De();Dt();ta();vn();ge();je();Dr();ue();mg=U(se())});var ss={};j(ss,{fonts:()=>Ce,installFont:()=>vS,removeFont:()=>$l,saveFont:()=>Ti,selectFont:()=>as,updateFonts:()=>Jm,validateFont:()=>is});function vg(e){return Wm.apply(this,arguments)}function Wm(){return Wm=x(function*(e){if(!e&&e!==null)throw new Error("Arg font must be a valid object or null");e?yield zr("fonts.json",JSON.stringify(e)):yield ln("fonts.json")}),Wm.apply(this,arguments)}function is(e){if(!e||typeof e!="object")throw new Error("URL returned a null/non-object JSON");if(typeof e.spec!="number")throw new Error("Invalid font 'spec' number");if(e.spec!==1)throw new Error("Only fonts which follows spec:1 are supported");var t=["name","main"];if(t.some(r=>!e[r]))throw new Error(`Font is missing one of the fields: ${t}`);if(e.name.startsWith("__"))throw new Error("Font names cannot start with __");if(e.name in Ce)throw new Error(`There is already a font named '${e.name}' installed`)}function Ti(e){return Qm.apply(this,arguments)}function Qm(){return Qm=x(function*(e,t=!1){var r;if(typeof e=="object"&&e.__source&&(e=e.__source),typeof e=="string")try{r=yield(yield Ge(e)).json(),r.__source=e}catch(o){throw new Error(`Failed to fetch fonts at ${e}`,{cause:o})}else r=e;is(r);try{yield Promise.all(Object.entries(r.main).map(function(){var o=x(function*([n,i]){var l=i.split(".").pop();l!=="ttf"&&l!=="otf"&&(l="ttf");var c=`downloads/fonts/${r.name}/${n}.${l}`;(yield un(c))||(yield ku(i,c))});return function(n){return o.apply(this,arguments)}}()))}catch(o){throw new Error("Failed to download font assets",{cause:o})}return Ce[r.name]=r,t&&vg(Ce[r.name]),r}),Qm.apply(this,arguments)}function vS(e){return Km.apply(this,arguments)}function Km(){return Km=x(function*(e,t=!1){if(typeof e!="string"||Object.values(Ce).some(o=>typeof o=="object"&&o.__source===e))throw new Error("Invalid source or font was already installed");var r=yield Ti(e);t&&(yield as(r.name))}),Km.apply(this,arguments)}function as(e){return qm.apply(this,arguments)}function qm(){return qm=x(function*(e){if(e&&!(e in Ce))throw new Error("Selected font does not exist!");e?Ce.__selected=e:delete Ce.__selected,yield vg(e==null?null:Ce[e])}),qm.apply(this,arguments)}function $l(e){return Ym.apply(this,arguments)}function Ym(){return Ym=x(function*(e){var t=Ce.__selected===e;t&&(yield as(null)),delete Ce[e];try{yield Fu(`downloads/fonts/${e}`)}catch{}}),Ym.apply(this,arguments)}function Jm(){return Xm.apply(this,arguments)}function Xm(){return Xm=x(function*(){yield Po(Ce),yield d(Object.keys(Ce).map(e=>Ti(Ce[e],Ce.__selected===e)))}),Xm.apply(this,arguments)}var Ce,jn=h(()=>{"use strict";a();s();ye();De();cn();bt();Ce=cr(Mt(fr("BUNNY_FONTS")))});function yS(e){var t=e.map(o=>{var{pathname:n}=new URL(o),i=n.replace(/\.[^/.]+$/,"");return i.split("/").pop()}).filter(Boolean),r=t.reduce((o,n)=>n.length<o.length?n:o,t[0]||"");return r?.replace(/-[A-Za-z]*$/,"")||null}function gS({fonts:e,setName:t}){var r=to().data,o=r.fonts,[n,i]=(0,Qe.useState)(yS(Object.values(o))),[l,c]=(0,Qe.useState)(void 0);return S(go.View,{style:{padding:8,paddingBottom:16,gap:12},children:[u(pt,{autoFocus:!0,size:"md",label:g.FONT_NAME,value:n,placeholder:n||"Whitney",onChange:i,errorMessage:l,state:l?"error":void 0}),u(P,{variant:"text-xs/normal",color:"text-muted",children:Ft("THEME_EXTRACTOR_DESC",{fonts:Object.keys(o).join(g.SEPARATOR)})}),u(Q,{size:"md",variant:"primary",text:g.EXTRACT,disabled:!n,onPress:()=>{if(n)try{is({spec:1,name:n,main:o}),t(n),Object.assign(e,o),ed.hideActionSheet()}catch(f){c(String(f))}}})]})}function _S({fonts:e,setName:t,setSource:r}){var[o,n]=(0,Qe.useState)(""),[i,l]=(0,Qe.useState)(!1),[c,f]=(0,Qe.useState)(void 0);return S(go.View,{style:{padding:8,paddingBottom:16,gap:12},children:[u(pt,{autoFocus:!0,size:"md",label:"Font Link",value:o,placeholder:"https://link.to/font/pack.json",onChange:n,errorMessage:c,state:c?"error":void 0}),u(Q,{size:"md",variant:"primary",text:"Import",disabled:!o||i,loading:i,onPress:()=>{l(!0),x(function*(){var y=yield Ge(o,{cache:"no-store"}),v=yield y.json();is(v),t(v.name),r(o),Object.assign(e,v.main)})().then(()=>ed.hideActionSheet()).catch(y=>f(String(y))).finally(()=>l(!1))}})]})}function bS(e){var[t,r]=(0,Qe.useState)(e.name),[o,n]=(0,Qe.useState)(e.fontEntries[e.name]);return S(go.View,{style:{padding:8,paddingBottom:16,gap:12},children:[u(pt,{autoFocus:!0,size:"md",label:"Family Name (to override)",value:t,placeholder:"ggsans-Bold",onChange:r}),u(pt,{size:"md",label:"Font URL",value:o,placeholder:"https://link.to/the/font.ttf",onChange:n}),u(Q,{size:"md",variant:"primary",text:"Apply",onPress:()=>{delete e.fontEntries[e.name],e.fontEntries[t]=o}})]})}function Zm(e,t,r){ed.openLazy(Promise.resolve({default:()=>u(Ie,{children:S(vr,{children:[u(aa,{title:"Import Font"}),u(e,{fonts:t,...r})]})})}),"FontEditorActionSheet")}function xS({fontEntry:e}){var t=(0,Qe.useRef)(),r=(0,Qe.useRef)(),[o,n]=(0,Qe.useState)(!1),[i,l]=(0,Qe.useState)();return S(go.View,{style:{flexDirection:"row",gap:8,justifyContent:"flex-start"},children:[u(go.View,{style:{flex:1},children:u(pt,{isRound:!0,size:"md",label:o?t.current:void 0,placeholder:o?"https://path.to/the/file.ttf":"PostScript name (e.g. ggsans-Bold)",leadingIcon:()=>o?null:u(L.Icon,{source:b("PlusSmallIcon")}),leadingText:o?t.current:"",onChange:c=>(o?r:t).current=c,errorMessage:i,state:i?"error":void 0})}),o&&u(Le,{size:"md",variant:"secondary",onPress:()=>{t.current="",n(!1)},icon:b("TrashIcon")}),u(Le,{size:"md",variant:"primary",onPress:()=>{if(!o&&t.current)n(!0);else if(o&&t.current&&r.current)try{var c=new URL(r.current);if(!c.protocol||!c.host)throw"Invalid URL";e[t.current]=r.current,t.current=void 0,r.current=void 0,n(!1)}catch(f){l(String(f))}},icon:b(o?"PlusSmallIcon":"ArrowLargeRightIcon")})]})}function ls(e){var[t,r]=(0,Qe.useState)(e.name),[o,n]=(0,Qe.useState)(),[i,l]=(0,Qe.useState)(!1),c=(0,Qe.useMemo)(()=>Ki(e.name?{...Ce[e.name].main}:{}).proxy,[e.name]),f=le(c),y=Ae.useNavigation();return u(go.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:S(Se,{style:{paddingVertical:24,paddingHorizontal:12},spacing:12,children:[e.name?S(et,{title:"Actions",children:[u(L,{label:"Refetch fonts from source",icon:u(L.Icon,{source:b("RetryIcon")}),onPress:x(function*(){var v={...Ce[e.name]};yield $l(e.name),yield Ti(v),y.goBack()})}),u(L,{label:"Delete font pack",icon:u(L.Icon,{source:b("TrashIcon")}),onPress:()=>$l(e.name).then(()=>y.goBack())})]}):S(et,{title:"Import",children:[to()?.data?.fonts&&u(L,{label:g.LABEL_EXTRACT_FONTS_FROM_THEME,subLabel:g.DESC_EXTRACT_FONTS_FROM_THEME,icon:u(L.Icon,{source:b("HammerIcon")}),onPress:()=>Zm(gS,f,{setName:r})}),u(L,{label:"Import font entries from a link",subLabel:"Directly import from a link with a pre-configured JSON file",icon:u(L.Icon,{source:b("LinkIcon")}),onPress:()=>Zm(_S,f,{setName:r,setSource:n})})]}),u(pt,{size:"lg",value:t,label:g.FONT_NAME,placeholder:"Whitney",onChange:r}),S(et,{title:"Font Entries",children:[Object.entries(f).map(([v,w])=>u(L,{label:v,subLabel:w,trailing:S(Se,{spacing:2,direction:"horizontal",children:[u(Le,{size:"sm",variant:"secondary",icon:b("PencilIcon"),onPress:()=>Zm(bS,f,{name:v,fontEntries:f})}),u(Le,{size:"sm",variant:"secondary",icon:b("TrashIcon"),onPress:()=>delete f[v]})]})})),u(L,{label:u(xS,{fontEntry:f})})]}),u(go.View,{style:{flexDirection:"row",justifyContent:"flex-end",bottom:0,left:0},children:u(Q,{size:"lg",loading:i,disabled:i||!t||Object.keys(f).length===0,variant:"primary",text:e.name?"Save":"Import",onPress:x(function*(){t&&(l(!0),e.name?(Object.assign(Ce[e.name],{name:t,main:f,__edited:!0}),l(!1),y.goBack()):Ti({spec:1,name:t,main:f,__source:o}).then(()=>y.goBack()).finally(()=>l(!1)))}),icon:b(e.name?"toast_image_saved":"DownloadIcon"),style:{marginLeft:8}})})]})})}var Qe,go,ed,td=h(()=>{"use strict";a();s();ye();q();Me();De();jn();Dt();ge();bt();J();ue();Re();tr();Qe=U(rt()),go=U(se()),ed=N("hideActionSheet")});var gg=Ar((EH,yg)=>{a();s();yg.exports=Oo()["@shopify/react-native-skia"]});function wS({font:e}){var t=SS(Jr.colors.TEXT_NORMAL),{fontFamily:r,fontSize:o}=ao["text-md/medium"],n=r.split(/,/g)[0],i=Ri.useFont(e.main[n])?.getTypeface(),l=(0,_g.useMemo)(()=>{if(!i)return null;var c=SkiaApi.TypefaceFontProvider.Make();return c.registerFont(i,n),SkiaApi.ParagraphBuilder.Make({},c).pushStyle({color:SkiaApi.Color(t),fontFamilies:[n],fontSize:o}).addText("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.").pop().build()},[i]);return u(Ci.View,{style:{height:64},children:i?u(Ri.Canvas,{style:{height:64},children:u(Ri.Paragraph,{paragraph:l,x:0,y:0,width:300})}):u(Ci.View,{style:{justifyContent:"center",alignItems:"center"},children:u(P,{color:"text-muted",variant:"heading-lg/semibold",children:"Loading..."})})})}function rd({item:e}){le(Ce);var t=Ae.useNavigation(),r=Ce.__selected===e.name;return u(Oe,{children:S(Se,{spacing:16,children:[S(Ci.View,{style:{flexDirection:"row",alignItems:"center"},children:[u(Ci.View,{children:u(P,{variant:"heading-lg/semibold",children:e.name})}),u(Ci.View,{style:{marginLeft:"auto"},children:S(Se,{spacing:12,direction:"horizontal",children:[u(Le,{onPress:()=>{t.push("BUNNY_CUSTOM_PAGE",{title:"Edit Font",render:()=>u(ls,{name:e.name})})},size:"sm",variant:"secondary",disabled:r,icon:b("PencilIcon")}),u(Q,{size:"sm",variant:r?"secondary":"primary",text:r?"Unapply":"Apply",onPress:x(function*(){yield as(r?null:e.name),Tr({title:g.HOLD_UP,content:"Reload Discord to apply changes?",confirmText:g.RELOAD,cancelText:g.CANCEL,confirmColor:"red",onConfirm:$t.reload})})})]})})]}),u(wS,{font:e})]})})}var Ri,_g,Ci,SS,bg=h(()=>{"use strict";a();s();ye();q();Me();li();De();jn();ge();lr();Be();ht();J();ue();Ri=U(gg());Br();_g=U(rt()),Ci=U(se());td();({useToken:SS}=te(()=>H("useToken")))});var Sg={};j(Sg,{default:()=>xg});function xg(){le(D),le(Ce);var e=Ae.useNavigation();return u(wn,{title:g.FONTS,searchKeywords:["name","description"],sortOptions:{"Name (A-Z)":(t,r)=>t.name.localeCompare(r.name),"Name (Z-A)":(t,r)=>r.name.localeCompare(t.name)},items:Object.values(Ce),safeModeHint:{message:g.SAFE_MODE_NOTICE_FONTS},CardComponent:rd,installAction:{label:"Install a font",onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Import Font",render:()=>u(ls,{})})}}})}var wg=h(()=>{"use strict";a();s();q();Me();il();td();De();jn();je();J();bg()});function Eg(e,t){var[r,o]=(0,Ai.useState)(2),n=()=>un(e,t).then(l=>o(l?1:0)).catch(()=>o(3)),i=(0,Ai.useMemo)(()=>new Proxy(Yi,{get(l,c,f){var y=Reflect.get(l,c,f);if(typeof y=="function")return(...v)=>{var w=(n(),y(...v));return w?.constructor?.name==="Promise"&&(o(2),w.finally(n)),w}}}),[]);return(0,Ai.useEffect)(()=>void n(),[]),[r,i]}var Ai,Hr,Tg=h(()=>{"use strict";a();s();cn();Ai=U(rt());(function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"})(Hr||(Hr={}))});function od({asset:e}){return u(Fr,{label:`${e.name} - ${e.id}`,trailing:u(Cg.Image,{source:e.id,style:{width:32,height:32}}),onPress:()=>{tt.setString(e.name),X.showCopyToClipboard()}})}var Cg,Rg=h(()=>{"use strict";a();s();q();J();ue();er();Cg=U(se())});function nd(){var[e,t]=React.useState("");return u(Ie,{children:S(Wl.View,{style:{flex:1},children:[u(Ho,{style:{margin:10},onChangeText:r=>t(r)}),u(Wl.FlatList,{data:Object.values(Eo).filter(r=>r.name.includes(e)||r.id.toString()===e),renderItem:({item:r})=>u(od,{asset:r}),ItemSeparatorComponent:sa,keyExtractor:r=>r.name})]})})}var Wl,Ag=h(()=>{"use strict";a();s();q();Rg();ge();ue();tr();Wl=U(se())});var Pg={};j(Pg,{default:()=>Og});function Og(){var[e,t]=Eg("preloads/reactDevtools.js"),r=RS(),o=Ae.useNavigation();return le(D),le(Zt),u(Ie,{children:u(Ql.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:S(Se,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[u(pt,{label:g.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:()=>u(la,{style:r.leadingText,children:"ws://"}),defaultValue:D.debuggerUrl,onChange:n=>D.debuggerUrl=n}),S(et,{title:g.DEBUG,children:[u(L,{label:g.CONNECT_TO_DEBUG_WEBSOCKET,icon:u(L.Icon,{source:b("copy")}),onPress:()=>ga(D.debuggerUrl)}),da()&&u(Yt,{children:u(L,{label:g.CONNECT_TO_REACT_DEVTOOLS,icon:u(L.Icon,{source:b("ic_badge_staff")}),onPress:()=>window[Mp()||"__vendetta_rdc"]?.connectToDevTools({host:D.debuggerUrl.split(":")?.[0],resolveRNStyle:Ql.StyleSheet.flatten})})})]}),Bc()&&u(Yt,{children:S(et,{title:"Loader config",children:[u(Xr,{label:g.LOAD_FROM_CUSTOM_URL,subLabel:g.LOAD_FROM_CUSTOM_URL_DEC,icon:u(L.Icon,{source:b("copy")}),value:Zt.customLoadUrl.enabled,onValueChange:n=>{Zt.customLoadUrl.enabled=n}}),Zt.customLoadUrl.enabled&&u(L,{label:u(pt,{defaultValue:Zt.customLoadUrl.url,size:"md",onChange:n=>Zt.customLoadUrl.url=n,placeholder:"http://localhost:4040/vendetta.js",label:g.BUNNY_URL})}),da()&&xt()&&u(Xr,{label:g.LOAD_REACT_DEVTOOLS,subLabel:`${g.VERSION}: ${Np()}`,icon:u(L.Icon,{source:b("ic_badge_staff")}),value:Zt.loadReactDevTools,onValueChange:n=>{Zt.loadReactDevTools=n}})]})}),S(et,{title:"Other",children:[u(L,{arrow:!0,label:g.ASSET_BROWSER,icon:u(L.Icon,{source:b("ic_image")}),trailing:L.Arrow,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{title:g.ASSET_BROWSER,render:nd})}),u(L,{arrow:!0,label:g.ERROR_BOUNDARY_TOOLS_LABEL,icon:u(L.Icon,{source:b("ic_warning_24px")}),onPress:()=>TS({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:u(L.Icon,{style:{marginRight:8},source:b("ic_warning_24px")}),onClose:()=>ES()},options:[{label:g.BUNNY,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{render:()=>u("undefined",{})})},{label:"Discord",isDestructive:!0,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{noErrorBoundary:!0})}]})}),u(L,{label:g.INSTALL_REACT_DEVTOOLS,subLabel:g.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:u(L.Icon,{source:b("DownloadIcon")}),trailing:u(Q,{size:"sm",loading:e===Hr.LOADING,disabled:e===Hr.LOADING,variant:e===Hr.TRUE?"secondary":"primary",text:e===Hr.TRUE?g.UNINSTALL:g.INSTALL,onPress:x(function*(){e===Hr.FALSE?t.downloadFile(CS,"preloads/reactDevtools.js"):e===Hr.TRUE&&t.removeFile("preloads/reactDevtools.js")}),icon:b(e===Hr.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),u(Xr,{label:g.ENABLE_EVAL_COMMAND,subLabel:g.ENABLE_EVAL_COMMAND_DESC,icon:u(L.Icon,{source:b("PencilIcon")}),value:D.enableEvalCommand,onValueChange:n=>{D.enableEvalCommand=n}})]})]})})})}var Ql,ES,TS,CS,RS,Ig=h(()=>{"use strict";a();s();ye();q();Me();Tg();Ag();De();ge();io();ro();je();Be();J();ue();Re();ri();tr();Br();Ql=U(se()),{hideActionSheet:ES}=te(()=>H("openLazy","hideActionSheet")),{showSimpleActionSheet:TS}=te(()=>H("showSimpleActionSheet")),CS="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",RS=Sr({leadingText:{...ao["heading-md/semibold"],color:St.TEXT_MUTED,marginRight:-4}})});function id(){el({name:"Bunny",items:[{key:"BUNNY",title:()=>g.BUNNY,icon:{uri:Xs},render:()=>Promise.resolve().then(()=>(zh(),Gh)),useTrailing:()=>"(b37ff5b-dev)"},{key:"BUNNY_PLUGINS",title:()=>g.PLUGINS,icon:b("ActivitiesIcon"),render:()=>Promise.resolve().then(()=>(lg(),sg))},{key:"BUNNY_THEMES",title:()=>g.THEMES,icon:b("PaintPaletteIcon"),render:()=>Promise.resolve().then(()=>(hg(),pg)),usePredicate:()=>_r()},{key:"BUNNY_FONTS",title:()=>g.FONTS,icon:b("ic_add_text"),render:()=>Promise.resolve().then(()=>(wg(),Sg)),usePredicate:()=>kp()},{key:"BUNNY_DEVELOPER",title:()=>g.DEVELOPER,icon:b("WrenchIcon"),render:()=>Promise.resolve().then(()=>(Ig(),Pg)),usePredicate:()=>le(D).developerSettings??!1}]}),el({name:"Vendetta",items:[]})}var Of=h(()=>{"use strict";a();s();Lh();Me();De();ge();ro();je();ii()});var Mg=Ar((KV,Lg)=>{a();s();Lg.exports=Oo().lodash});var Dg=Ar((XV,Ng)=>{a();s();Ng.exports=Oo().util});var Kl,Fg,kg,Bg=h(()=>{"use strict";a();s();q();li();De();De();Dt();ge();Ra();io();ro();Xe();je();bt();tc();Yr();ht();J();ue();ue();ri();tr();Br();er();rn();Kl=U(rt()),Fg=U(se());so();kg=()=>{var e=r=>o=>r(Vi.createSimpleFilter(o,ip(new Error().stack))),t=window.vendetta={patcher:{before:ki.before,after:ki.after,instead:ki.instead},metro:{modules:window.modules,find:e(Je),findAll:e(Ao),findByProps:(...r)=>{r.length===1&&r[0]==="KeyboardAwareScrollView"&&r.push("listenToKeyboardEvents");var o=H(...r);if(o==null&&r.includes("ActionSheetTitleHeader")){var n=H("ActionSheetRow");return{...n,ActionSheetTitleHeader:n.BottomSheetTitleHeader,ActionSheetContentContainer:({children:i})=>((0,Kl.useEffect)(()=>console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. This has been temporarily replaced with View"),[]),(0,Kl.createElement)(Fg.View,null,i))}}return o},findByPropsAll:(...r)=>gu(...r),findByName:(r,o)=>r==="create"&&typeof o>"u"?zn("create",!1).default:zn(r,o??!0),findByNameAll:(r,o=!0)=>_u(r,o),findByDisplayName:(r,o=!0)=>bu(r,o),findByDisplayNameAll:(r,o=!0)=>Su(r,o),findByTypeName:(r,o=!0)=>wu(r,o),findByTypeNameAll:(r,o=!0)=>Eu(r,o),findByStoreName:r=>Tu(r),common:{constants:yr,channels:ua,i18n:No,url:Do,toasts:ca,stylesheet:{createThemedStyleSheet:sf},clipboard:tt,assets:yc,invites:gc,commands:hn,navigation:_c,navigationStack:bc,NavigationNative:Ae,Flux:xc,FluxDispatcher:gr,React:fa,ReactNative:Ms,moment:bf(),chroma:qn(),lodash:Mg(),util:Dg()}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:(r,o)=>qt(r,o),findInTree:(r,o,n)=>qr(r,o,n),safeFetch:(r,o,n)=>Ge(r,o,n),unfreeze:r=>Object.isFrozen(r)?{...r}:r,without:(r,...o)=>Di(r,o)},debug:{connectToDebugger:r=>ga(r),getDebugInfo:()=>xr()},ui:{components:{Forms:Ps,General:Ms,Alert:ra,Button:lc,HelpMessage:(...r)=>u(oa,{...r}),SafeAreaView:(...r)=>u(na,{...r}),Summary:Sa,ErrorBoundary:Ie,Codeblock:wr,Search:Ho},toasts:{showToast:(r,o)=>X(r,o)},alerts:{showConfirmationAlert:r=>Tr(r),showCustomAlert:(r,o)=>Nf(r,o),showInputAlert:r=>iv(r)},assets:{all:Eo,find:r=>ji(r),getAssetByName:r=>ji(r),getAssetByID:r=>ji(r),getAssetIDByName:r=>b(r)},semanticColors:St,rawColors:ih},plugins:{plugins:W.plugins,fetchPlugin:r=>W.fetchPlugin(r),installPlugin:(r,o=!0)=>W.installPlugin(r,o),startPlugin:r=>W.startPlugin(r),stopPlugin:(r,o=!0)=>W.stopPlugin(r,o),removePlugin:r=>W.removePlugin(r),getSettings:r=>W.getSettings(r)},themes:{themes:we,fetchTheme:(r,o)=>yn(r,o),installTheme:r=>Zr(r),selectTheme:r=>eo(r==="default"?null:we[r]),removeTheme:r=>gn(r),getCurrentTheme:()=>Bo(),updateThemes:()=>ks()},commands:{registerCommand:ci},storage:{createProxy:r=>Ki(r),useProxy:r=>le(r),createStorage:r=>Mt(r),wrapSync:r=>cr(r),awaitSyncWrapper:r=>Po(r),createMMKVBackend:r=>fr(r),createFileBackend:r=>(ze()&&r==="vendetta_theme.json"&&(r="pyoncord/current-theme.json"),sn(r))},settings:D,loader:{identity:Fc()??void 0,config:Zt},logger:{log:(...r)=>console.log(...r),info:(...r)=>console.info(...r),warn:(...r)=>console.warn(...r),error:(...r)=>console.error(...r),time:(...r)=>console.time(...r),trace:(...r)=>console.trace(...r),verbose:(...r)=>console.log(...r)},version:ya,unload:()=>{delete window.vendetta}};return()=>t.unload()}});var jg=h(()=>{"use strict";a();s()});var Ug=h(()=>{"use strict";a();s()});var ad={};j(ad,{alerts:()=>Af,components:()=>qs,settings:()=>wf,sheets:()=>uf,styles:()=>lf,toasts:()=>zs});var Hg=h(()=>{"use strict";a();s();ol();tr();ii();xn();Br();er()});var sd={};j(sd,{_jsx:()=>sc,api:()=>zf,fonts:()=>ss,managers:()=>AS,metro:()=>Ds,plugins:()=>Ma,themes:()=>_n,ui:()=>ad,unload:()=>us,utils:()=>As});function us(){for(var e of Vg)typeof e=="function"&&e();delete window.bunny}var AS,Vg,Gg=h(()=>{"use strict";a();s();jg();Ug();jn();zo();Dt();$f();Hg();bt();ht();jn();zo();Dt();q();Be();AS=ke(()=>(console.warn("bunny.managers.* is deprecated, and moved the top level (bunny.*). bunny.managers will be eventually removed soon"),{get fonts(){return ss},get plugins(){return Ma},get themes(){return _n}}),{hint:"object"}),Vg=[];us.push=e=>{Vg.push(e)}});var zg={};j(zg,{default:()=>OS});var OS,$g=h(()=>{"use strict";a();s();ye();Ch();Ih();Me();Of();Bg();so();jn();zo();Dt();Ra();io();Hf();ul();Yr();ii();Gg();OS=x(function*(){yield Promise.all([Dc(),jf(),Sf(),tf(),Bf(),Ff(),kg(),th(),id(),Ph(),_f(),cm()]).then(e=>e.forEach(t=>t&&us.push(t))),window.bunny=sd,W.initPlugins().then(e=>us.push(e)).catch(()=>alert("Failed to initialize Vendetta plugins")),fm(),Jm(),lt.log("Bunny is ready!")})});a();s();ye();var{instead:PS}=ms();globalThis.window=globalThis;function Wg(){return ld.apply(this,arguments)}function ld(){return ld=x(function*(){try{Object.freeze=Object.seal=Object,yield(an(),dt(Yp)).initMetroCache(),yield($g(),dt(zg)).default()}catch(r){var{ClientInfoManager:e}=(lr(),dt(hd)),t=r instanceof Error?r.stack:void 0;console.log(t??r?.toString?.()??r),alert([`Failed to load Bunny!
`,`Build Number: ${e.Build}`,"Bunny: b37ff5b-dev",t||r?.toString?.()].join(`
`))}}),ld.apply(this,arguments)}if(typeof globalThis.__r<"u")Wg();else{var e=function(t){var r=window.__fbBatchedBridge,o=new Array,n=PS("callFunctionReturnFlushedQueue",r,(l,c)=>l[0]==="AppRegistry"||!r.getCallableModule(l[0])?(o.push(l),r.flushedQueue()):c.apply(r,l)),i=function(){var l=x(function*(){yield Wg(),n(),t(0),o.forEach(c=>r.getCallableModule(c[0])&&r.__callFunction(...c))});return function(){return l.apply(this,arguments)}}();i()};IS=e,Object.defineProperties(globalThis,{__r:{configurable:!0,get:()=>ql,set(t){ql=function(o){if(o===0)e(t),ql=t;else return t(o)}}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(t){this.value=t}}})}var ql,IS;})();
//# sourceURL=bunny
