"use strict";(()=>{var Jg=Object.create;var bs=Object.defineProperty;var Zg=Object.getOwnPropertyDescriptor;var e_=Object.getOwnPropertyNames;var t_=Object.getPrototypeOf,r_=Object.prototype.hasOwnProperty;var h=(e,t)=>()=>(e&&(t=e(e=0)),t);var Mr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),B=(e,t)=>{for(var r in t)bs(e,r,{get:t[r],enumerable:!0})},wd=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(var n=e_(t),i=0,u=n.length,c;i<u;i++)c=n[i],!r_.call(e,c)&&c!==r&&bs(e,c,{get:(f=>t[f]).bind(null,c),enumerable:!(o=Zg(t,c))||o.enumerable});return e};var F=(e,t,r)=>(r=e!=null?Jg(t_(e)):{},wd(t||!e||!e.__esModule?bs(r,"default",{value:e,enumerable:!0}):r,e)),pt=e=>wd(bs({},"__esModule",{value:!0}),e);var p,a=h(()=>{"use strict";p=Symbol("Symbol.asyncIterator")});var o_,n_,i_,d,s=h(()=>{"use strict";o_=e=>({status:"fulfilled",value:e}),n_=e=>({status:"rejected",reason:e}),i_=e=>Promise.resolve(e).then(o_,n_),d=Promise.allSettled??=e=>Promise.all(Array.from(e).map(i_))});function Ed(e,t,r,o,n,i,u){try{var c=e[i](u),f=c.value}catch(g){r(g);return}c.done?t(f):Promise.resolve(f).then(o,n)}function w(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var i=e.apply(t,r);function u(f){Ed(i,o,n,u,c,"next",f)}function c(f){Ed(i,o,n,u,c,"throw",f)}u(void 0)})}}var ye=h(()=>{a();s()});var xs=Mr((zS,Ad)=>{a();s();var su=Object.defineProperty,a_=Object.getOwnPropertyDescriptor,s_=Object.getOwnPropertyNames,l_=Object.prototype.hasOwnProperty,u_=(e,t)=>{for(var r in t)su(e,r,{get:t[r],enumerable:!0})},c_=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function"){var n=function(u){!l_.call(e,u)&&u!==r&&su(e,u,{get:()=>t[u],enumerable:!(o=a_(t,u))||o.enumerable})};for(var i of s_(t))n(i)}return e},f_=e=>c_(su({},"__esModule",{value:!0}),e),Td={};u_(Td,{after:()=>v_,before:()=>p_,instead:()=>h_,unpatchAll:()=>d_});Ad.exports=f_(Td);var Cd=["a","b","i"],an=new Map;function m_(e,t,r,o,n){var i=an.get(t)?.[e];if(!i)return n?Reflect.construct(t[e],r,o):t[e].apply(o,r);for(var u of i.b.values()){var c=u.call(o,r);Array.isArray(c)&&(r=c)}var f=[...i.i.values()].reduce((v,S)=>(...T)=>S.call(o,T,v),(...v)=>n?Reflect.construct(i.o,v,o):i.o.apply(o,v))(...r);for(var g of i.a.values())f=g.call(o,r,f)??f;return f}function Rd(e,t,r,o){var n=an.get(e),i=n?.[t];if(!i?.[o].has(r))return!1;if(i[o].delete(r),Cd.every(c=>i[c].size===0)){var u=Reflect.defineProperty(e,t,{value:i.o,writable:!0,configurable:!0});u||(e[t]=i.o),delete n[t]}return Object.keys(n).length==0&&an.delete(e),!0}function d_(){for(var[e,t]of an.entries())for(var r in t)for(var o of Cd)for(var n of t[r]?.[o].keys()??[])Rd(e,r,n,o)}var lu=e=>(t,r,o,n=!1)=>{if(typeof r[t]!="function")throw new Error(`${t} is not a function in ${r.constructor.name}`);an.has(r)||an.set(r,Object.create(null));var i=an.get(r);if(!i[t]){var u=r[t];i[t]={o:u,b:new Map,i:new Map,a:new Map};var c=(T,C,q)=>{var $=m_(t,r,C,T,q);return n&&S(),$},f=new Proxy(u,{apply:(T,C,q)=>c(C,q,!1),construct:(T,C)=>c(u,C,!0),get:(T,C,q)=>C=="toString"?u.toString.bind(u):Reflect.get(T,C,q)}),g=Reflect.defineProperty(r,t,{value:f,configurable:!0,writable:!0});g||(r[t]=f)}var v=Symbol(),S=()=>Rd(r,t,v,e);return i[t][e].set(v,o),S},p_=lu("b"),h_=lu("i"),v_=lu("a")});var Pd={};B(Pd,{BundleUpdaterManager:()=>Qt,NativeCacheModule:()=>sn,NativeClientInfoModule:()=>ln,NativeDeviceModule:()=>un,NativeFileModule:()=>me,NativeThemeModule:()=>uu});var ht,sn,me,ln,un,uu,Qt,fr=h(()=>{"use strict";a();s();ht=window.nativeModuleProxy,sn=ht.NativeCacheModule??ht.MMKVManager,me=ht.NativeFileModule??ht.RTNFileManager??ht.DCDFileManager,ln=ht.NativeClientInfoModule??ht.RTNClientInfoManager??ht.InfoDictionaryManager,un=ht.NativeDeviceModule??ht.RTNDeviceManager??ht.DCDDeviceManager,uu=ht.NativeThemeModule??ht.RTNThemeManager??ht.DCDTheme,{BundleUpdaterManager:Qt}=ht});var Ui={};B(Ui,{clearFolder:()=>vu,downloadFile:()=>yu,fileExists:()=>qr,readFile:()=>fn,removeFile:()=>cn,writeFile:()=>mr});function vu(e){return cu.apply(this,arguments)}function cu(){return cu=w(function*(e,{prefix:t="pyoncord/"}={}){if(typeof me.clearFolder!="function")throw new Error("'fs.clearFolder' is not supported");return void(yield me.clearFolder("documents",`${t}${e}`))}),cu.apply(this,arguments)}function cn(e){return fu.apply(this,arguments)}function fu(){return fu=w(function*(e,{prefix:t="pyoncord/"}={}){if(typeof me.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void(yield me.removeFile("documents",`${t}${e}`))}),fu.apply(this,arguments)}function qr(e){return mu.apply(this,arguments)}function mu(){return mu=w(function*(e,{prefix:t="pyoncord/"}={}){return yield me.fileExists(`${me.getConstants().DocumentsDirPath}/${t}${e}`)}),mu.apply(this,arguments)}function mr(e,t){return du.apply(this,arguments)}function du(){return du=w(function*(e,t,{prefix:r="pyoncord/"}={}){if(typeof t!="string")throw new Error("Argument 'data' must be a string");return void(yield me.writeFile("documents",`${r}${e}`,t,"utf8"))}),du.apply(this,arguments)}function fn(e){return pu.apply(this,arguments)}function pu(){return pu=w(function*(e,{prefix:t="pyoncord/"}={}){try{return yield me.readFile(`${me.getConstants().DocumentsDirPath}/${t}${e}`,"utf8")}catch(r){throw new Error(`An error occured while writing to '${e}'`,{cause:r})}}),pu.apply(this,arguments)}function yu(e,t){return hu.apply(this,arguments)}function hu(){return hu=w(function*(e,t,{prefix:r="pyoncord/"}={}){var o=yield fetch(e);if(!o.ok)throw new Error(`Failed to download file from ${e}: ${o.statusText}`);var n=yield o.arrayBuffer(),i=Buffer.from(n).toString("base64");yield me.writeFile("documents",`${r}${t}`,i,"base64")}),hu.apply(this,arguments)}var Eo=h(()=>{"use strict";a();s();ye();fr()});function dr(e){return dr=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},dr(e)}var Hi=h(()=>{a();s()});function Vi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vi=function(){return!!e})()}var gu=h(()=>{a();s()});function Id(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Od=h(()=>{a();s()});function Nd(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var Ld=h(()=>{a();s()});function Md(e,t){return t&&(Nd(t)==="object"||typeof t=="function")?t:Id(e)}var Dd=h(()=>{a();s();Od();Ld()});function Se(e,t,r){return t=dr(t),Md(e,Vi()?Reflect.construct(t,r||[],dr(e).constructor):t.apply(e,r))}var Nt=h(()=>{a();s();Hi();gu();Dd()});function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ze=h(()=>{a();s()});function To(e,t){return To=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},To(e,t)}var Ss=h(()=>{a();s()});function we(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&To(e,t)}var Lt=h(()=>{a();s();Ss()});function Gi(e,t,r){return Vi()?Gi=Reflect.construct:Gi=function(n,i,u){var c=[null];c.push.apply(c,i);var f=Function.bind.apply(n,c),g=new f;return u&&To(g,u.prototype),g},Gi.apply(null,arguments)}var Fd=h(()=>{a();s();gu();Ss()});function kd(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var Bd=h(()=>{a();s()});function Gn(e){var t=typeof Map=="function"?new Map:void 0;return Gn=function(o){if(o===null||!kd(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(o))return t.get(o);t.set(o,n)}function n(){return Gi(o,arguments,dr(this).constructor)}return n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),To(n,o)},Gn(e)}var _u=h(()=>{a();s();Fd();Hi();Bd();Ss()});function zi(e,t,{signal:r,edges:o}={}){var n=void 0,i=null,u=o!=null&&o.includes("leading"),c=o==null||o.includes("trailing"),f=()=>{i!==null&&(e.apply(n,i),n=void 0,i=null)},g=()=>{c&&f(),C()},v=null,S=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},t)},T=()=>{v!==null&&(clearTimeout(v),v=null)},C=()=>{T(),n=void 0,i=null},q=()=>{T(),f()},$=function(...ie){if(!r?.aborted){n=this,i=ie;var Ge=v==null;S(),u&&Ge&&f()}};return $.schedule=S,$.cancel=C,$.flush=q,r?.addEventListener("abort",C,{once:!0}),$}var jd=h(()=>{a();s()});function $i(e,t){for(var r={...e},o=0;o<t.length;o++){var n=t[o];delete r[n]}return r}var Ud=h(()=>{a();s()});function ws(e){return e!=null}var Hd=h(()=>{a();s()});var zn=h(()=>{a();s();jd();Ud();Hd()});var pr,Dr,Es=h(()=>{"use strict";a();s();(function(e){e[e.EXISTS=1]="EXISTS",e[e.BLACKLISTED=2]="BLACKLISTED",e[e.ASSET=4]="ASSET"})(pr||(pr={}));(function(e){e[e.FULL_LOOKUP=0]="FULL_LOOKUP",e[e.NOT_FOUND=1]="NOT_FOUND"})(Dr||(Dr={}))});var mn={};B(mn,{_patcherDelaySymbol:()=>Wi,after:()=>le,before:()=>Co,default:()=>Qi,instead:()=>Ro});function bu(e){function t(...o){if(Wi in o[1]){var n=o[1][Wi],i=!1,u=()=>i=!0;return n(c=>{i||(o[1]=c,u=e.apply(this,o))}),()=>u()}return e.apply(this,o)}function r(...o){var n=o[1];if(!n||!("then"in n))throw new Error("target is not a then-able object");var i=!1,u=()=>i=!0;return n.then(c=>{i||(o[1]=c,u=t.apply(this,o))}),()=>u()}return Object.assign(t,{await:r})}var y_,g_,__,Wi,le,Co,Ro,Qi,et=h(()=>{"use strict";a();s();({after:y_,before:g_,instead:__}=xs()),Wi=Symbol.for("bunny.api.patcher.delay");le=bu(y_),Co=bu(g_),Ro=bu(__),Qi={after:le,before:Co,instead:Ro}});var Vd={};B(Vd,{assetsModule:()=>$n,patchAssets:()=>b_});function b_(e){if(!$n){$n=e;var t=le("registerAsset",$n,()=>{var r=Su();r!==-1&&wu(r)});return t}}var $n,xu=h(()=>{"use strict";a();s();et();Po();Ao()});function Gd(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function te(e,t,r){return t&&Gd(e.prototype,t),r&&Gd(e,r),e}var at=h(()=>{a();s()});function Ki(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Eu=h(()=>{a();s()});var Tu,Ts,Cu=h(()=>{"use strict";a();s();Ze();at();Eu();(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(Tu||(Tu={}));Ts=function(){"use strict";function e(){J(this,e),Ki(this,"listeners",Object.values(Tu).reduce((t,r)=>(t[r]=new Set,t),{}))}return te(e,[{key:"on",value:function(r,o){this.listeners[r].has(o)||this.listeners[r].add(o)}},{key:"off",value:function(r,o){this.listeners[r].delete(o)}},{key:"once",value:function(r,o){var n=(i,u)=>{this.off(i,n),o(i,u)};this.on(r,n)}},{key:"emit",value:function(r,o){for(var n of this.listeners[r])n(r,o)}}]),e}()});var qi={};B(qi,{createFilterDefinition:()=>Kt,createSimpleFilter:()=>x_});function Kt(e,t){function r(n,i,u){return Object.assign(n,{filter:e,raw:u,uniq:[u&&"raw::",t(i)].filter(Boolean).join("")})}var o=n=>(...i)=>r((u,c,f)=>e(i,u,c,f),i,n);return Object.assign(o(!1),{byRaw:o(!0),uniqMaker:t})}function x_(e,t){return Kt((r,o)=>e(o),()=>`dynamic::${t}`)()}var Cs=h(()=>{"use strict";a();s()});var Ru={};B(Ru,{byDisplayName:()=>Oo,byFilePath:()=>As,byMutableProp:()=>Xi,byName:()=>Io,byProps:()=>Yi,byStoreName:()=>Rs,byTypeName:()=>No});var Yi,Io,Oo,No,Rs,As,Xi,Ji=h(()=>{"use strict";a();s();Cs();Ao();Yi=Kt((e,t)=>e.length===0?t[e[0]]:e.every(r=>t[r]),e=>`bunny.metro.byProps(${e.join(",")})`),Io=Kt(([e],t)=>t.name===e,e=>`bunny.metro.byName(${e})`),Oo=Kt(([e],t)=>t.displayName===e,e=>`bunny.metro.byDisplayName(${e})`),No=Kt(([e],t)=>t.type?.name===e,e=>`bunny.metro.byTypeName(${e})`),Rs=Kt(([e],t)=>t.getName?.length===0&&t.getName()===e,e=>`bunny.metro.byStoreName(${e})`),As=Kt(([e,t],r,o,n)=>t===n&&st[o]?.__filePath===e,([e,t])=>`bunny.metro.byFilePath(${e},${t})`),Xi=Kt(([e],t)=>t?.[e]&&!Object.getOwnPropertyDescriptor(t,e)?.get,e=>`bunny.metro.byMutableProp(${e})`)});function zd(e,t,r){return e.default&&e.__esModule&&r(e.default,t,!0)?{exports:r.raw?e:e.default,defaultExport:!r.raw}:!r.raw&&r(e,t,!1)?{exports:e,defaultExport:!1}:{}}function Au(e){var{cacheId:t,finish:r}=Is(e.uniq,!1);for(var[o,n]of Ps(e.uniq,!1)){var{exports:i,defaultExport:u}=zd(n,o,e);if(i!==void 0)return t(o,i),{id:o,defaultExport:u}}return r(!0),{}}function S_(e){return Au(e)?.id}function tt(e){var{id:t,defaultExport:r}=Au(e);if(t!=null)return r?qt(t).default:qt(t)}function Pu(e){var{cacheId:t,finish:r}=Is(e.uniq,!0),o=[];for(var[n,i]of Ps(e.uniq,!0)){var{exports:u,defaultExport:c}=zd(i,n,e);u!==void 0&&typeof c=="boolean"&&(o.push({id:n,defaultExport:c}),t(n,u))}return r(o.length===0),o}function w_(e){return Pu(e).map(t=>t.id)}function Lo(e){return Pu(e).map(t=>{if(t.id){var{id:r,defaultExport:o}=t;return o?qt(r).default:qt(r)}})}var Wn=h(()=>{"use strict";a();s();Po();Ao()});var Ou={};B(Ou,{getProxyFactory:()=>Iu,lazyDestructure:()=>Y,proxyLazy:()=>$e});function $e(e,t={}){var r,o=t.hint!=="object"?function(){}:{},n=()=>r??=e(),i=new Proxy(o,T_);return Wd.set(i,n),Qn.set(o,{factory:e,options:t}),i}function Y(e,t={}){var r=$e(e);return new Proxy({},{get(o,n){return n===Symbol.iterator?function*(){throw yield r,yield new Proxy({},{get:(i,u)=>$e(()=>r[u],t)}),new Error("This is not a real iterator, this is likely used incorrectly")}:$e(()=>r[n],t)}})}function Iu(e){return Wd.get(e)}var $d,E_,Wd,Qn,T_,Le=h(()=>{"use strict";a();s();$d=new Set(["arguments","caller","prototype"]),E_=e=>typeof e=="string"&&$d.has(e),Wd=new WeakMap,Qn=new WeakMap,T_={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(e=>[e,(t,...r)=>{var o=Qn.get(t),n=o?.factory();if(!n)throw new Error(`Trying to Reflect.${e} of ${typeof n}`);return Reflect[e](n,...r)}])),has(e,t){var r=Qn.get(e);if(r?.options){var{exemptedEntries:o}=r.options;if(o&&t in o)return!0}var n=r?.factory();if(!n)throw new Error(`Trying to Reflect.has of ${typeof n}`);return Reflect.has(n,t)},get(e,t,r){var o=Qn.get(e);if(o?.options){var{exemptedEntries:n}=o.options;if(n?.[t])return n[t]}var i=o?.factory();if(!i)throw new Error(`Trying to Reflect.get of ${typeof i}`);return Reflect.get(i,t,r)},ownKeys:e=>{var t=Qn.get(e),r=t?.factory();if(!r)throw new Error(`Trying to Reflect.ownKeys of ${typeof r}`);var o=Reflect.ownKeys(r);return $d.forEach(n=>!o.includes(n)&&o.push(n)),o},getOwnPropertyDescriptor:(e,t)=>{var r=Qn.get(e),o=r?.factory();if(!o)throw new Error(`Trying to getOwnPropertyDescriptor of ${typeof o}`);if(E_(t))return Reflect.getOwnPropertyDescriptor(e,t);var n=Reflect.getOwnPropertyDescriptor(o,t);return n&&Object.defineProperty(e,t,n),n}}});var Nu={};B(Nu,{_lazyContextSymbol:()=>Os,createLazyModule:()=>Fr,getLazyContext:()=>Kd});function C_(e){var t=Yr().findIndex[e.uniq];if(t){for(var r in t)if(r[0]!=="_")return Number(r)}}function R_(e,t){var r=Kd(e);if(!r)throw new Error("Subscribing a module for non-proxy-find");if(!r.indexed)throw new Error("Attempting to subscribe to a non-indexed find");return Lu(r.moduleId,()=>{t(tt(r.filter))})}function Kd(e){return Qd.get(e)}function Fr(e){var t=void 0,r=C_(e),o={filter:e,indexed:!!r,moduleId:r,getExports(i){return!r||st[r]?.isInitialized?(i(this.forceLoad()),()=>{}):this.subscribe(i)},subscribe(i){return R_(n,i)},get cache(){return t},forceLoad(){if(t??=tt(e),!t)throw new Error(`${e.uniq} is ${typeof t}! (id ${o.moduleId??"unknown"})`);return t}},n=$e(()=>o.forceLoad(),{exemptedEntries:{[Os]:o,[Wi]:i=>o.getExports(i)}});return Qd.set(n,o),n}var Os,Qd,Zi=h(()=>{"use strict";a();s();et();Le();Wn();Po();Ao();Os=Symbol.for("bunny.metro.lazyContext"),Qd=new WeakMap});var H,M,Mu,Kn,We,Du,Fu,ku,Bu,ju,A_,Uu,Hu,dn,Vu,Gu,Pe=h(()=>{"use strict";a();s();Ji();Wn();Zi();H=(...e)=>tt(Yi(...e)),M=(...e)=>Fr(Yi(...e)),Mu=(...e)=>Lo(Yi(...e)),Kn=(e,t=!0)=>tt(t?Io(e):Io.byRaw(e)),We=(e,t=!0)=>Fr(t?Io(e):Io.byRaw(e)),Du=(e,t=!0)=>Lo(t?Io(e):Io.byRaw(e)),Fu=(e,t=!0)=>tt(t?Oo(e):Oo.byRaw(e)),ku=(e,t=!0)=>Fr(t?Oo(e):Oo.byRaw(e)),Bu=(e,t=!0)=>Lo(t?Oo(e):Oo.byRaw(e)),ju=(e,t=!0)=>tt(t?No(e):No.byRaw(e)),A_=(e,t=!0)=>Fr(t?No(e):No.byRaw(e)),Uu=(e,t=!0)=>Lo(t?No(e):No.byRaw(e)),Hu=e=>tt(Rs(e)),dn=e=>Fr(Rs(e)),Vu=(e,t=!1)=>tt(As(e,t)),Gu=(e,t=!1)=>Fr(As(e,t))});var Mo=Mr((oT,qd)=>{"use strict";a();s();Pe();qd.exports={react:M("createElement"),"react-native":M("AppRegistry"),util:M("inspect","isNullOrUndefined"),moment:M("isMoment"),"chroma-js":M("brewer"),lodash:M("forEachRight"),"@shopify/react-native-skia":M("useFont")}});var ne=Mr((aT,Yd)=>{a();s();Yd.exports=Mo()["react-native"]});function ea(e={}){var t=new Ts,r=new WeakMap,o=new WeakSet;function n(i,u){return new Proxy(i,{get(c,f){if(f===Zd)return t;var g=[...u,f],v=c[f];if(v!=null){if(t.emit("GET",{path:g,value:v}),typeof v=="object"){if(o.has(v))return v;if(r.has(v))return r.get(v);var S=n(v,g);return r.set(v,S),S}return v}return v},set(c,f,g){if(typeof g=="object")if(r.has(g))c[f]=r.get(g);else{var v=n(g,[...u,f]);r.set(g,v),o.add(g),c[f]=v}else c[f]=g;return t.emit("SET",{path:[...u,f],value:c[f]}),!0},deleteProperty(c,f){var g=typeof c[f]=="object"?r.get(c[f]):c[f],v=delete c[f];return v&&t.emit("DEL",{value:g,path:[...u,f]}),v}})}return{proxy:n(e,[]),emitter:t}}function ue(e){var t=e?.[Zd];if(!t)throw new Error("storage?.[emitterSymbol] is undefined");var[,r]=React.useReducer(o=>~o,0);return React.useEffect(()=>{var o=(n,i)=>{n==="DEL"&&i.value===e||r()};return t.on("SET",o),t.on("DEL",o),()=>{t.off("SET",o),t.off("DEL",o)}},[]),e}function Mt(e){return zu.apply(this,arguments)}function zu(){return zu=w(function*(e){var t=yield e.get(),{proxy:r,emitter:o}=ea(t),n=()=>e.set(r);return o.on("SET",n),o.on("DEL",n),r}),zu.apply(this,arguments)}function hr(e){var t=void 0,r=[],o=n=>t?n():r.push(n);return e.then(n=>{t=n,r.forEach(i=>i())}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(n=>[n,(i,...u)=>Reflect[n](t??i,...u)])),get(n,i,u){return i===ep?o:Reflect.get(t??n,i,u)}})}function Do(...e){return Promise.all(e.map(t=>new Promise(r=>t[ep](r))))}var Jd,Zd,ep,Xd,$u,tp,Ns,vr,pn,ke=h(()=>{"use strict";a();s();ye();Cu();fr();Jd=F(ne()),Zd=Symbol.for("vendetta.storage.emitter"),ep=Symbol.for("vendetta.storage.accessor");Xd=/[<>:"/\\|?*]/g,$u=e=>Jd.Platform.select({default:e,ios:me.saveFileToGallery?e:`Documents/${e}`}),tp=e=>(Xd.test(e)&&(e=e.replace(Xd,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`),Ns=function(){var e=w(function*(t){(yield sn.getItem(t))&&sn.removeItem(t);var r=tp(t);(yield me.fileExists(`${me.getConstants().DocumentsDirPath}/${r}`))&&(yield me.removeFile?.("documents",r))});return function(r){return e.apply(this,arguments)}}(),vr=(e,t={})=>{var r=tp(e),o=JSON.stringify(t);return pn(r,t,w(function*(){var n=`${me.getConstants().DocumentsDirPath}/${r}`;if(!(yield me.fileExists(n))){var i=(yield sn.getItem(e))??o;if(i==="!!LARGE_VALUE!!"){var u=`${me.getConstants().CacheDirPath}/mmkv/${e}`;(yield me.fileExists(u))?i=yield me.readFile(u,"utf8"):(console.log(`${e}: Experienced data loss :(`),i=o)}try{JSON.parse(i)}catch{console.error(`${e} had an unparseable data while migrating`),i=o}yield me.writeFile("documents",$u(r),i,"utf8"),(yield sn.getItem(e))!==null&&(sn.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}})())},pn=(e,t={},r)=>({get:w(function*(){yield r;var o=`${me.getConstants().DocumentsDirPath}/${e}`;if(yield me.fileExists(o)){var n=yield me.readFile(o,"utf8");try{return JSON.parse(n)}catch{}}return yield me.writeFile("documents",$u(e),JSON.stringify(t),"utf8"),JSON.parse(yield me.readFile(o,"utf8"))}),set:function(){var o=w(function*(n){yield r,yield me.writeFile("documents",$u(e),JSON.stringify(n),"utf8")});return function(n){return o.apply(this,arguments)}}()})});function rp(e,t){return t.get?t.get.call(e):t.value}var op=h(()=>{a();s()});function qn(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var Ls=h(()=>{a();s()});function m(e,t){var r=qn(e,t,"get");return rp(e,r)}var yr=h(()=>{a();s();op();Ls()});function Ms(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}var Wu=h(()=>{a();s()});function k(e,t,r){Ms(e,t),t.set(e,r)}var gr=h(()=>{a();s();Wu()});function np(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}var ip=h(()=>{a();s()});function A(e,t,r){var o=qn(e,t,"set");return np(e,o,r),r}var _r=h(()=>{a();s();ip();Ls()});var ta,ra,Ds,ap,sp,de,I_,O_,N_,L_,M_,D_,lp,F_,Yt,Fo,k_,B_,j_,U_,up,cp,fp,mp,H_,V_,G_,z_,rt,Qu,dp,pp,hp,Xr,vp=h(()=>{a();s();Nt();Ze();at();Lt();ta="insert",ra="update",Ds="delete",ap="reverse",sp="shuffle",de=Symbol.for("object-observer-meta-key-0"),I_={async:1},O_=e=>{if(!e||typeof e!="object")return null;var t={},r=[];for(var[o,n]of Object.entries(e))if(o==="path"){if(typeof n!="string"||n==="")throw new Error('"path" option, if/when provided, MUST be a non-empty string');t[o]=n}else if(o==="pathsOf"){if(e.path)throw new Error('"pathsOf" option MAY NOT be specified together with "path" option');if(typeof n!="string")throw new Error('"pathsOf" option, if/when provided, MUST be a string (MAY be empty)');t[o]=e.pathsOf.split(".").filter(Boolean)}else if(o==="pathsFrom"){if(e.path||e.pathsOf)throw new Error('"pathsFrom" option MAY NOT be specified together with "path"/"pathsOf" option/s');if(typeof n!="string"||n==="")throw new Error('"pathsFrom" option, if/when provided, MUST be a non-empty string');t[o]=n}else r.push(o);if(r.length)throw new Error(`'${r.join(", ")}' is/are not a valid observer option/s`);return t},N_=(e,t,r)=>{var o={};o[de]=t;for(var n in e)o[n]=Fo(e[n],n,t,r);return o},L_=(e,t,r)=>{var o=e.length,n=new Array(o);n[de]=t;for(var i=0;i<o;i++)n[i]=Fo(e[i],i,t,r);return n},M_=(e,t)=>(e[de]=t,e),D_=(e,t)=>{if(e===null)return t;var r=t;if(e.path){var o=e.path;r=t.filter(c=>c.path.join(".")===o)}else if(e.pathsOf){var n=e.pathsOf,i=n.join(".");r=t.filter(c=>(c.path.length===n.length+1||c.path.length===n.length&&(c.type===ap||c.type===sp))&&c.path.join(".").startsWith(i))}else if(e.pathsFrom){var u=e.pathsFrom;r=t.filter(c=>c.path.join(".").startsWith(u))}return r},lp=(e,t)=>{try{e(t)}catch(r){console.error(`failed to notify listener ${e} with ${t}`,r)}},F_=function(){var t=this.batches;this.batches=[];for(var[r,o]of t)lp(r,o)},Yt=(e,t)=>{var r=e,o,n,i,u,c,f,g=t.length;do{for(o=r.options.async,n=r.observers,f=n.length;f--;)if([i,u]=n[f],c=D_(u,t),c.length)if(o){r.batches.length===0&&queueMicrotask(F_.bind(r));var v=void 0;for(var S of r.batches)if(S[0]===i){v=S;break}v||(v=[i,[]],r.batches.push(v)),Array.prototype.push.apply(v[1],c)}else lp(i,c);var T=r.parent;if(T){for(var C=0;C<g;C++){var q=t[C];t[C]=new rt(q.type,[r.ownKey,...q.path],q.value,q.oldValue,q.object)}r=T}else r=null}while(r)},Fo=(e,t,r,o)=>o!==void 0&&o.has(e)?null:typeof e!="object"||e===null?e:Array.isArray(e)?new pp({target:e,ownKey:t,parent:r,visited:o}).proxy:ArrayBuffer.isView(e)?new hp({target:e,ownKey:t,parent:r}).proxy:e instanceof Date?e:new dp({target:e,ownKey:t,parent:r,visited:o}).proxy,k_=function(){var t=this[de],r=t.target,o=r.length-1,n=r.pop();if(n&&typeof n=="object"){var i=n[de];i&&(n=i.detach())}var u=[new rt(Ds,[o],void 0,n,this)];return Yt(t,u),n},B_=function(){for(var t=this[de],r=t.target,o=arguments.length,n=new Array(o),i=r.length,u=0;u<o;u++)n[u]=Fo(arguments[u],i+u,t);for(var c=Reflect.apply(r.push,r,n),f=[],g=i,v=r.length;g<v;g++)f[g-i]=new rt(ta,[g],r[g],void 0,this);return Yt(t,f),c},j_=function(){var t=this[de],r=t.target,o,n,i,u,c;for(o=r.shift(),o&&typeof o=="object"&&(c=o[de],c&&(o=c.detach())),n=0,i=r.length;n<i;n++)u=r[n],u&&typeof u=="object"&&(c=u[de],c&&(c.ownKey=n));var f=[new rt(Ds,[0],void 0,o,this)];return Yt(t,f),o},U_=function(){for(var t=this[de],r=t.target,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=Fo(arguments[i],i,t);for(var u=Reflect.apply(r.unshift,r,n),c=0,f=r.length,g;c<f;c++)if(g=r[c],g&&typeof g=="object"){var v=g[de];v&&(v.ownKey=c)}for(var S=n.length,T=new Array(S),C=0;C<S;C++)T[C]=new rt(ta,[C],r[C],void 0,this);return Yt(t,T),u},up=function(){var t=this[de],r=t.target,o,n,i;for(r.reverse(),o=0,n=r.length;o<n;o++)if(i=r[o],i&&typeof i=="object"){var u=i[de];u&&(u.ownKey=o)}var c=[new rt(ap,[],void 0,void 0,this)];return Yt(t,c),this},cp=function(t){var r=this[de],o=r.target,n,i,u;for(o.sort(t),n=0,i=o.length;n<i;n++)if(u=o[n],u&&typeof u=="object"){var c=u[de];c&&(c.ownKey=n)}var f=[new rt(sp,[],void 0,void 0,this)];return Yt(r,f),this},fp=function(t,r,o){var n=this[de],i=n.target,u=[],c=i.length,f=i.slice(0);if(r=r===void 0?0:r<0?Math.max(c+r,0):Math.min(r,c),o=o===void 0?c:o<0?Math.max(c+o,0):Math.min(o,c),r<c&&o>r){i.fill(t,r,o);for(var g,v=r,S,T;v<o;v++)S=i[v],i[v]=Fo(S,v,n),v in f?(T=f[v],T&&typeof T=="object"&&(g=T[de],g&&(T=g.detach())),u.push(new rt(ra,[v],i[v],T,this))):u.push(new rt(ta,[v],i[v],void 0,this));Yt(n,u)}return this},mp=function(t,r,o){var n=this[de],i=n.target,u=i.length;t=t<0?Math.max(u+t,0):t,r=r===void 0?0:r<0?Math.max(u+r,0):Math.min(r,u),o=o===void 0?u:o<0?Math.max(u+o,0):Math.min(o,u);var c=Math.min(o-r,u-t);if(t<u&&t!==r&&c>0){var f=i.slice(0),g=[];i.copyWithin(t,r,o);for(var v=t,S,T,C;v<t+c;v++)S=i[v],S&&typeof S=="object"&&(S=Fo(S,v,n),i[v]=S),T=f[v],T&&typeof T=="object"&&(C=T[de],C&&(T=C.detach())),!(typeof S!="object"&&S===T)&&g.push(new rt(ra,[v],S,T,this));Yt(n,g)}return this},H_=function(){for(var t=this[de],r=t.target,o=arguments.length,n=new Array(o),i=r.length,u=0;u<o;u++)n[u]=Fo(arguments[u],u,t);for(var c=o===0?0:n[0]<0?i+n[0]:n[0],f=o<2?i-c:n[1],g=Math.max(o-2,0),v=Reflect.apply(r.splice,r,n),S=r.length,T,C=0,q;C<S;C++)q=r[C],q&&typeof q=="object"&&(T=q[de],T&&(T.ownKey=C));var $,_t,ie;for($=0,_t=v.length;$<_t;$++)ie=v[$],ie&&typeof ie=="object"&&(T=ie[de],T&&(v[$]=T.detach()));var Ge=[],he;for(he=0;he<f;he++)he<g?Ge.push(new rt(ra,[c+he],r[c+he],v[he],this)):Ge.push(new rt(Ds,[c+he],void 0,v[he],this));for(;he<g;he++)Ge.push(new rt(ta,[c+he],r[c+he],void 0,this));return Yt(t,Ge),v},V_=function(t,r){var o=this[de],n=o.target,i=t.length,u=n.slice(0);r=r||0,n.set(t,r);for(var c=new Array(i),f=r;f<i+r;f++)c[f-r]=new rt(ra,[f],n[f],u[f],this);Yt(o,c)},G_={pop:k_,push:B_,shift:j_,unshift:U_,reverse:up,sort:cp,fill:fp,copyWithin:mp,splice:H_},z_={reverse:up,sort:cp,fill:fp,copyWithin:mp,set:V_},rt=function e(t,r,o,n,i){"use strict";J(this,e),this.type=t,this.path=r,this.value=o,this.oldValue=n,this.object=i},Qu=function(){"use strict";function e(t,r){J(this,e);var{target:o,parent:n,ownKey:i,visited:u=new Set}=t;n&&i!==void 0?(this.parent=n,this.ownKey=i):(this.parent=null,this.ownKey=null),u.add(o);var c=r(o,this,u);u.delete(o),this.observers=[],this.revocable=Proxy.revocable(c,this),this.proxy=this.revocable.proxy,this.target=c,this.options=this.processOptions(t.options),this.options.async&&(this.batches=[])}return te(e,[{key:"processOptions",value:function(r){if(r){if(typeof r!="object")throw new Error(`Observable options if/when provided, MAY only be an object, got '${r}'`);var o=Object.keys(r).filter(n=>!(n in I_));if(o.length)throw new Error(`'${o.join(", ")}' is/are not a valid Observable option/s`);return Object.assign({},r)}else return{}}},{key:"detach",value:function(){return this.parent=null,this.target}},{key:"set",value:function(r,o,n){var i=r[o];if(n!==i){var u=Fo(n,o,this);if(r[o]=u,i&&typeof i=="object"){var c=i[de];c&&(i=c.detach())}var f=i===void 0?[new rt(ta,[o],u,void 0,this.proxy)]:[new rt(ra,[o],u,i,this.proxy)];Yt(this,f)}return!0}},{key:"deleteProperty",value:function(r,o){var n=r[o];if(delete r[o],n&&typeof n=="object"){var i=n[de];i&&(n=i.detach())}var u=[new rt(Ds,[o],void 0,n,this.proxy)];return Yt(this,u),!0}}]),e}(),dp=function(e){"use strict";we(t,e);function t(r){return J(this,t),Se(this,t,[r,N_])}return t}(Qu),pp=function(e){"use strict";we(t,e);function t(r){return J(this,t),Se(this,t,[r,L_])}return te(t,[{key:"get",value:function(o,n){return G_[n]||o[n]}}]),t}(Qu),hp=function(e){"use strict";we(t,e);function t(r){return J(this,t),Se(this,t,[r,M_])}return te(t,[{key:"get",value:function(o,n){return z_[n]||o[n]}}]),t}(Qu),Xr=Object.freeze({from:(e,t)=>{if(!e||typeof e!="object")throw new Error("observable MAY ONLY be created from a non-null object");if(e[de])return e;if(Array.isArray(e))return new pp({target:e,ownKey:null,parent:null,options:t}).proxy;if(ArrayBuffer.isView(e))return new hp({target:e,ownKey:null,parent:null,options:t}).proxy;if(e instanceof Date)throw new Error(`${e} found to be one of a non-observable types`);return new dp({target:e,ownKey:null,parent:null,options:t}).proxy},isObservable:e=>!!(e&&e[de]),observe:(e,t,r)=>{if(!Xr.isObservable(e))throw new Error("invalid observable parameter");if(typeof t!="function")throw new Error(`observer MUST be a function, got '${t}'`);var o=e[de].observers;o.some(n=>n[0]===t)?console.warn("observer may be bound to an observable only once; will NOT rebind"):o.push([t,O_(r)])},unobserve:(e,...t)=>{if(!Xr.isObservable(e))throw new Error("invalid observable parameter");var r=e[de].observers,o=r.length;if(o){if(!t.length){r.splice(0);return}for(;o;)t.indexOf(r[--o][0])>=0&&r.splice(o,1)}}})});var rc={};B(rc,{awaitStorage:()=>Yn,createStorage:()=>ko,createStorageAndCallback:()=>ec,createStorageAsync:()=>$_,getPreloadedStorage:()=>tc,preloadStorageIfExists:()=>Fs,purgeStorage:()=>ks,updateStorage:()=>Zu,useObservable:()=>Jr});function Ju(e){var t=zi(r=>{mr(e,JSON.stringify(r))},500);return{get:w(function*(){try{return JSON.parse(yield fn(e))}catch(r){throw new Error(`Failed to parse storage from '${e}'`,{cause:r})}}),set:function(){var r=w(function*(o){if(!o||typeof o!="object")throw new Error("data needs to be an object");t(o)});return function(o){return r.apply(this,arguments)}}(),exists:w(function*(){return yield qr(e)})}}function Jr(e,t){if(e.some(o=>o?.[yp]))throw new Error("An error occured while initializing the storage");if(e.some(o=>!Xr.isObservable(o)))throw new Error("Argument passed isn't an Observable");var[,r]=React.useReducer(o=>~o,0);React.useEffect(()=>{var o=()=>r();return e.forEach(n=>Xr.observe(n,o,t)),()=>{e.forEach(n=>Xr.unobserve(n,o))}},[])}function Zu(e,t){return Ku.apply(this,arguments)}function Ku(){return Ku=w(function*(e,t){kr[e]=t,Ju(e).set(t)}),Ku.apply(this,arguments)}function ec(e,t,{dflt:r={},nullIfEmpty:o=!1}={}){var n,i=c=>{var f=new Proxy(Xr.from(c),{get(v,S,T){return S===Symbol.for("vendetta.storage.emitter")?n||(n=new Ts,Xr.observe(v,C=>{for(var q of C)n.emit(q.type!=="delete"?"SET":"DEL",{path:q.path,value:q.value})}),n):Reflect.get(v,S,T)}}),g=()=>u.set(f);Xr.observe(f,g),t(f)},u=Ju(e);kr[e]?i(kr[e]):u.exists().then(function(){var c=w(function*(f){f?i(kr[e]=yield u.get()):o?i(kr[e]=null):(kr[e]=r,yield u.set(r),i(r))});return function(f){return c.apply(this,arguments)}}())}function $_(e){return qu.apply(this,arguments)}function qu(){return qu=w(function*(e,t={}){return new Promise(r=>ec(e,r,t))}),qu.apply(this,arguments)}function Fs(e){return Yu.apply(this,arguments)}function Yu(){return Yu=w(function*(e){if(kr[e])return!0;var t=Ju(e);return(yield t.exists())?(kr[e]=yield t.get(),!0):!1}),Yu.apply(this,arguments)}function ks(e){return Xu.apply(this,arguments)}function Xu(){return Xu=w(function*(e){yield cn(e),delete kr[e]}),Xu.apply(this,arguments)}function Yn(...e){return Promise.all(e.map(t=>t[gp]))}function tc(e){return kr[e]}var yp,gp,kr,ko,Br=h(()=>{"use strict";a();s();ye();Cu();vp();Eo();zn();yp=Symbol.for("bunny.storage.initError"),gp=Symbol.for("bunny.storage.promise"),kr={};ko=(e,t={})=>{var r=new Promise(f=>u=f),o,n,i,u;ec(e,f=>{o=f,n=!0,u()},t);var c=()=>{if(n)return!0;throw new Error(`Attempted to access storage without initializing: ${e}`)};return new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(f=>[f,(g,...v)=>c()&&Reflect[f](o,...v)])),get(f,g,v){return g===yp?i:g===gp?r:c()&&Reflect.get(o??f,g,v)}})}});var lc={};B(lc,{BUNNY_PROXY_PREFIX:()=>hn,DISCORD_SERVER:()=>oc,GITHUB:()=>nc,HTTP_REGEX:()=>W_,HTTP_REGEX_MULTI:()=>ic,OFFICIAL_PLUGINS_REPO_URL:()=>vn,VD_DISCORD_SERVER_ID:()=>ac,VD_PLUGINS_CHANNEL_ID:()=>sc,VD_PROXY_PREFIX:()=>br,VD_THEMES_CHANNEL_ID:()=>oa});var oc,nc,W_,ic,hn,vn,br,ac,sc,oa,Zr=h(()=>{"use strict";a();s();oc="https://discord.gg/XjYgWXHb9Q",nc="https://github.com/bunny-mod",W_=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,ic=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,hn="https://bn-plugins.github.io/vd-proxy",vn="https://bn-plugins.github.io/dist/repo.json",br="https://vd-plugins.github.io/proxy",ac="1015931589865246730",sc="1091880384561684561",oa="1091880434939482202"});function Bs(e,t=0){for(var r=3735928559^t,o=1103547991^t,n=0,i;n<e.length;n++)i=e.charCodeAt(n),r=Math.imul(r^i,2654435761),o=Math.imul(o^i,1597334677);return r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(r^r>>>13,3266489909),[o>>>0,r>>>0]}function _p(e,t=0){var[r,o]=Bs(e,t);return r.toString(36).padStart(7,"0")+o.toString(36).padStart(7,"0")}var uc=h(()=>{"use strict";a();s()});function Xt(e,t){return eo(e,t,{walkable:["props","children","child","sibling"]})}var bp=h(()=>{"use strict";a();s();Dt()});function cc(e,t,r,o){if(!(o>r.maxDepth)&&e){try{if(t(e))return e}catch{}if(Array.isArray(e)){for(var n of e)if(!(typeof n!="object"||n===null))try{var i=cc(n,t,r,o+1);if(i)return i}catch{}}else if(typeof e=="object"){for(var u of Object.keys(e))if(!(typeof e[u]!="object"||e[u]===null)&&!(r.walkable.length&&!r.walkable.includes(u))&&!r.ignore.includes(u))try{var c=cc(e[u],t,r,o+1);if(c)return c}catch{}}}}function eo(e,t,{walkable:r=[],ignore:o=[],maxDepth:n=100}={}){return cc(e,t,{walkable:r,ignore:o,maxDepth:n},0)}var xp=h(()=>{"use strict";a();s()});function fc(e,t,r){var o=e;if(t in e)return void r(o[t]);var n;return Object.defineProperty(o,t,{get:()=>n,set(i){n=r(i)??i},configurable:!0,enumerable:!1}),()=>{delete o[t],o[t]=n}}var Sp=h(()=>{"use strict";a();s()});function mc(e,t){if(!e){var r=typeof t=="function"?t():t,o="[Invariant Violation]",n=r?`${o}: ${r}`:o;throw new Error(n)}}var wp=h(()=>{"use strict";a();s()});var dc={};B(dc,{LoggerClass:()=>na,logger:()=>lt});var na,lt,to=h(()=>{"use strict";a();s();Pe();na=We("Logger"),lt=new na("Bunny")});function vt(e,t){return pc.apply(this,arguments)}function pc(){return pc=w(function*(e,t,r=1e4){var o=yield fetch(e,{signal:Q_(r),...t});if(!o.ok)throw new Error(`Request returned non-ok: ${o.status} ${o.statusText}`);return o}),pc.apply(this,arguments)}function Q_(e){var t=new AbortController;return setTimeout(()=>t.abort(`Timed out after ${e}ms`),e),t.signal}var Ep=h(()=>{"use strict";a();s();ye()});var js={};B(js,{constants:()=>lc,cyrb64:()=>Bs,findInReactTree:()=>Xt,findInTree:()=>eo,hookDefineProperty:()=>fc,invariant:()=>mc,lazy:()=>Ou,logger:()=>dc,safeFetch:()=>vt});var Dt=h(()=>{"use strict";a();s();Zr();uc();bp();xp();Sp();wp();Le();to();Ep()});var hc={};B(hc,{Fragment:()=>Jt,jsx:()=>l,jsxs:()=>x});function Cp(e){if(!e[0])throw new Error("The first argument (Component) is falsy. Ensure that you are passing a valid component.");var t=Iu(e[0]);return t&&(e[0]=t()),e}var Tp,Jt,l,x,W=h(()=>{"use strict";a();s();Le();Pe();Tp=M("jsx","jsxs","Fragment");Jt=Symbol.for("react.fragment"),l=(...e)=>Tp.jsx(...Cp(e)),x=(...e)=>Tp.jsxs(...Cp(e))});var Ft,ia=h(()=>{"use strict";a();s();Br();Ft=ko("themes/colors/preferences.json",{dflt:{selected:null,customBackground:null}})});var Gs={};B(Gs,{ActionSheet:()=>xt,ActionSheetRow:()=>Bo,AlertActionButton:()=>Xn,AlertActions:()=>Jn,AlertModal:()=>jo,Avatar:()=>Tc,AvatarPile:()=>wc,BottomSheetTitleHeader:()=>ua,Button:()=>X,Card:()=>Te,CompatButton:()=>vc,CompatSegmentedControl:()=>sb,ContextMenu:()=>Ec,FlashList:()=>_n,FloatingActionButton:()=>Cc,FormCheckbox:()=>tb,FormRadio:()=>Sc,FormSwitch:()=>xc,Forms:()=>Hs,HelpMessage:()=>sa,IconButton:()=>ge,LegacyAlert:()=>aa,LegacyForm:()=>ub,LegacyFormArrow:()=>cb,LegacyFormCTA:()=>fb,LegacyFormCTAButton:()=>mb,LegacyFormCardSection:()=>db,LegacyFormCheckbox:()=>pb,LegacyFormCheckboxRow:()=>hb,LegacyFormCheckmark:()=>vb,LegacyFormDivider:()=>ca,LegacyFormHint:()=>yb,LegacyFormIcon:()=>Rc,LegacyFormInput:()=>Ac,LegacyFormLabel:()=>gb,LegacyFormRadio:()=>_b,LegacyFormRadioGroup:()=>bb,LegacyFormRadioRow:()=>xb,LegacyFormRow:()=>jr,LegacyFormSection:()=>Vs,LegacyFormSelect:()=>Sb,LegacyFormSliderRow:()=>wb,LegacyFormSubLabel:()=>Eb,LegacyFormSwitch:()=>Tb,LegacyFormSwitchRow:()=>Cb,LegacyFormTernaryCheckBox:()=>Rb,LegacyFormText:()=>fa,LegacyFormTitle:()=>Ab,PressableScale:()=>Y_,RedesignCompat:()=>rb,RowButton:()=>q_,SafeAreaProvider:()=>yc,SafeAreaView:()=>la,SegmentedControl:()=>nb,SegmentedControlPages:()=>ib,Stack:()=>_e,TableCheckbox:()=>eb,TableCheckboxRow:()=>J_,TableRadio:()=>Z_,TableRadioGroup:()=>Us,TableRadioRow:()=>gn,TableRow:()=>I,TableRowGroup:()=>Be,TableRowIcon:()=>yn,TableRowTrailingText:()=>X_,TableSwitch:()=>bc,TableSwitchRow:()=>ro,Text:()=>O,TextArea:()=>ob,TextInput:()=>ot,TwinButtons:()=>_c,useSafeAreaInsets:()=>gc,useSegmentedControlState:()=>ab});var K_,Zt,Ee,aa,vc,sa,la,yc,gc,Bo,X,_c,ge,q_,Y_,I,yn,X_,Be,Us,gn,ro,J_,bc,Z_,eb,xc,Sc,tb,Te,rb,jo,Xn,Jn,wc,Ec,_e,Tc,ot,ob,nb,ib,ab,sb,Cc,xt,ua,lb,O,Hs,ub,cb,fb,mb,db,pb,hb,vb,ca,yb,Rc,Ac,gb,_b,bb,xb,jr,Vs,Sb,wb,Eb,Tb,Cb,Rb,fa,Ab,_n,re=h(()=>{"use strict";a();s();Le();Cs();Wn();Pe();K_=Kt(([e],t)=>t[e]&&Object.keys(t).length===1,e=>`bunny.metro.common.components.bySingularProp(${e})`),Zt=e=>$e(()=>tt(K_(e))?.[e]),Ee=(...e)=>$e(()=>H(...e)[e[0]]),aa=ku("FluxContainer(Alert)"),vc=M("Looks","Colors","Sizes"),sa=We("HelpMessage"),{SafeAreaView:la,SafeAreaProvider:yc,useSafeAreaInsets:gc}=Y(()=>H("useSafeAreaInsets")),Bo=Ee("ActionSheetRow"),X=Zt("Button"),_c=Ee("TwinButtons"),ge=Zt("IconButton"),q_=Ee("RowButton"),Y_=Ee("PressableScale"),I=Ee("TableRow"),yn=Ee("TableRowIcon"),X_=Ee("TableRowTrailingText"),Be=Ee("TableRowGroup"),Us=Ee("TableRadioGroup"),gn=Ee("TableRadioRow"),ro=Ee("TableSwitchRow"),J_=Ee("TableCheckboxRow"),bc=Zt("FormSwitch"),Z_=Zt("FormRadio"),eb=Zt("FormCheckbox"),xc=Zt("FormSwitch"),Sc=Zt("FormRadio"),tb=Zt("FormCheckbox"),Te=Ee("Card"),rb=$e(()=>H("RedesignCompat").RedesignCompat),jo=Ee("AlertModal"),Xn=Ee("AlertActionButton"),Jn=Ee("AlertActions"),wc=Zt("AvatarPile"),Ec=Ee("ContextMenu"),_e=Ee("Stack"),Tc=Ee("default","AvatarSizes","getStatusSize"),ot=Zt("TextInput"),ob=Zt("TextArea"),nb=Ee("SegmentedControl"),ib=Ee("SegmentedControlPages"),ab=Zt("useSegmentedControlState"),sb=Ee("CompatSegmentedControl"),Cc=Ee("FloatingActionButton"),xt=Ee("ActionSheet"),ua=Ee("BottomSheetTitleHeader"),lb=M("Text","LegacyText"),O=$e(()=>lb.Text),Hs=M("Form","FormSection"),{Form:ub,FormArrow:cb,FormCTA:fb,FormCTAButton:mb,FormCardSection:db,FormCheckbox:pb,FormCheckboxRow:hb,FormCheckmark:vb,FormDivider:ca,FormHint:yb,FormIcon:Rc,FormInput:Ac,FormLabel:gb,FormRadio:_b,FormRadioGroup:bb,FormRadioRow:xb,FormRow:jr,FormSection:Vs,FormSelect:Sb,FormSliderRow:wb,FormSubLabel:Eb,FormSwitch:Tb,FormSwitchRow:Cb,FormTernaryCheckBox:Rb,FormText:fa,FormTitle:Ab}=Y(()=>Hs),_n=Ee("FlashList")});var $s={};B($s,{Flux:()=>Lc,FluxDispatcher:()=>Sr,FluxUtils:()=>Mc,NavigationNative:()=>Ce,React:()=>pa,ReactNative:()=>zs,assets:()=>Pc,channels:()=>ma,clipboard:()=>Ue,commands:()=>bn,components:()=>Gs,constants:()=>xr,i18n:()=>Uo,invites:()=>Ic,messageUtil:()=>er,navigation:()=>Oc,navigationStack:()=>Nc,semver:()=>Zn,toasts:()=>da,tokens:()=>Ur,url:()=>Ho,useToken:()=>Pb});var xr,ma,Uo,Ho,Ue,Pc,Ic,bn,Oc,da,er,Nc,Ce,Zn,Ur,Pb,Lc,Sr,Mc,pa,zs,Z=h(()=>{"use strict";a();s();Le();Pe();re();xr=M("Fonts","Permissions"),ma=M("getVoiceChannelId"),Uo=M("Messages"),Ho=M("openURL","openDeeplink"),Ue=M("setString","getString","hasString"),Pc=M("registerAsset"),Ic=M("acceptInviteAndTransitionToInviteChannel"),bn=M("getBuiltInCommands"),Oc=M("pushLazy"),da=Gu("modules/toast/native/ToastActionCreators.tsx",!0),er=M("sendBotMessage"),Nc=M("createStackNavigator"),Ce=M("NavigationContainer"),Zn=M("parse","clean"),Ur=M("unsafe_rawColors","colors"),{useToken:Pb}=Y(()=>H("useToken")),Lc=M("connectStores"),Sr=H("_interceptors"),Mc=H("useStateFromStores"),pa=window.React=M("createElement"),zs=window.ReactNative=M("AppRegistry")});var Ws={};B(Ws,{common:()=>$s,factories:()=>qi,filters:()=>Ru,findAllExports:()=>Lo,findAllModule:()=>Pu,findAllModuleId:()=>w_,findByDisplayName:()=>Fu,findByDisplayNameAll:()=>Bu,findByDisplayNameLazy:()=>ku,findByFilePath:()=>Vu,findByFilePathLazy:()=>Gu,findByName:()=>Kn,findByNameAll:()=>Du,findByNameLazy:()=>We,findByProps:()=>H,findByPropsAll:()=>Mu,findByPropsLazy:()=>M,findByStoreName:()=>Hu,findByStoreNameLazy:()=>dn,findByTypeName:()=>ju,findByTypeNameAll:()=>Uu,findByTypeNameLazy:()=>A_,findExports:()=>tt,findModule:()=>Au,findModuleId:()=>S_,lazy:()=>Nu});var ut=h(()=>{"use strict";a();s();Z();Cs();Ji();Wn();Zi();Pe()});var ei=Mr((tR,Rp)=>{a();s();Rp.exports=Mo()["chroma-js"]});function Pp(e){var t=($="dark")=>(Ft.type??$)==="dark"?"darker":"light";if(e.spec===3){var r={};for(var[o,n]of Object.entries(e.main.semantic??{}))if(typeof n=="object"){var{type:i,value:u,opacity:c}=n;if(i==="raw")r[o]={value:u,opacity:c??1};else{var f=Ap.RawColor[u];r[o]={value:f,opacity:c??1}}}else if(typeof n=="string")n.startsWith("#")?r[o]={value:ti.default.hex(n).hex(),opacity:1}:r[o]={value:Ap.RawColor[n],opacity:1};else throw new Error(`Invalid semantic definitions: ${n}`);return ha.Platform.OS==="android"&&Qs(e.main.raw),{spec:3,reference:t(e.type),semantic:r,raw:e.main.raw??{},background:e.main.background}}else if(e.spec===2){var g={},v=e.background?{...$i(e.background,["alpha"]),opacity:e.background.alpha}:void 0;if(e.semanticColors)for(var S in e.semanticColors){var T=e.semanticColors[S].map($=>$||void 0).slice(0,2);T[0]&&(g[S]={value:va(T[t()==="light"?1:0]),opacity:1})}if(e.rawColors){for(var C in e.rawColors){var q=e.rawColors[C];q&&(e.rawColors[C]=va(q))}ha.Platform.OS==="android"&&Qs(e.rawColors)}return{spec:2,reference:t(),semantic:g,raw:e.rawColors??{},background:v}}throw new Error("Invalid theme spec")}function Qs(e){if(e){var t={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var r in t){var[o,n]=t[r];e[o]&&(e[r]=(0,ti.default)(e[o]).alpha(n).hex())}return e}}function va(e){if(e!==void 0){if(ti.default.valid(e))return(0,ti.default)(e).hex();var t=Number((0,ha.processColor)(e));return ti.default.rgb(t>>16&255,t>>8&255,t&255,t>>24&255).hex()}}var ti,ha,Ap,Dc=h(()=>{"use strict";a();s();ut();ti=F(ei());zn();ha=F(ne());ia();Ap=H("SemanticColor")});function Go(e,{update:t=!0}){if(!D.safeMode?.enabled){var r=e?Pp(e):null,o=Object.assign(ce,{current:r,key:`bn-theme-${++Lp}`,lastSetDiscordTheme:Op.theme.startsWith("bn-theme-")?ce.lastSetDiscordTheme:Op.theme});r!=null&&(Vo.Theme[o.key.toUpperCase()]=o.key,Np.DIVIDER_COLORS[o.key]=Np.DIVIDER_COLORS[o.current.reference],Object.keys(Vo.Shadow).forEach(n=>Vo.Shadow[n][o.key]=Vo.Shadow[n][o.current.reference]),Object.keys(Vo.SemanticColor).forEach(n=>{Vo.SemanticColor[n][o.key]={...Vo.SemanticColor[n][o.current.reference]}})),t&&(Ip.setShouldSyncAppearanceSettings(!1),Ip.updateTheme(r!=null?o.key:o.lastSetDiscordTheme))}}var Vo,Ib,Ip,Op,Np,Lp,ce,xn=h(()=>{"use strict";a();s();He();ut();Dc();Vo=H("SemanticColor"),Ib={...Vo.RawColor},Ip=M("updateTheme"),Op=dn("ThemeStore"),Np=M("DIVIDER_COLORS"),Lp=1,ce={current:null,key:`bn-theme-${Lp}`,origRaw:Ib,lastSetDiscordTheme:"darker"}});function Fc(){var e=[le("default",Ob,(t,r)=>(Jr([Ft]),!ce.current||!ce.current.background?.url||Ft.customBackground==="hidden"?r:l(Dp.ImageBackground,{style:{flex:1,height:"100%"},source:ce.current.background?.url&&{uri:ce.current.background.url}||0,blurRadius:typeof ce.current.background?.blur=="number"?ce.current.background?.blur:0,children:r}))),le("render",Nb.prototype,(t,r)=>{if(!(!ce.current||!ce.current.background?.url)){var o=Xt(r,i=>i&&"HACK_fixModalInteraction"in i.props&&i?.props?.style);if(o){var n=(0,Mp.default)(o.props.style.backgroundColor||"black").alpha(1-(ce.current.background?.opacity??1));o.props.style=[o.props.style,{backgroundColor:n}]}}})];return()=>e.forEach(t=>t())}var Mp,Dp,Ob,Nb,Fp=h(()=>{"use strict";a();s();W();ia();xn();et();Br();Dt();Le();ut();Mp=F(ei()),Dp=F(ne()),Ob=We("MessagesWrapperConnected",!1),{MessagesWrapper:Nb}=Y(()=>H("MessagesWrapper"))});function Bc(){var e=([r])=>r===ce.key?[ce.current.reference]:void 0;Object.keys(ri.RawColor).forEach(r=>{Object.defineProperty(ri.RawColor,r,{configurable:!0,enumerable:!0,get:()=>{var o=ce.current?.raw[r];return o||ce.origRaw[r]}})});var t=[Co("isThemeDark",kp,e),Co("isThemeLight",kp,e),Co("updateTheme",uu,e),Ro("resolveSemanticColor",ri.default.meta??ri.default.internal,(r,o)=>{if(!ce.current)return o(...r);if(r[0]!==ce.key)return o(...r);r[0]=ce.current.reference;var[n,i]=jp(ce.current.reference,r[1]),u=ce.current.semantic[n];if(!u&&ce.current.spec===2&&n in Bp&&(u=ce.current.semantic[Bp[n]]),u?.value)return u.opacity===1?u.value:(0,kc.default)(u.value).alpha(u.opacity).hex();var c=ce.current.raw[i.raw];return c?i.opacity===1?c:(0,kc.default)(c).alpha(i.opacity).hex():o(...r)}),()=>{Object.defineProperty(ri,"RawColor",{configurable:!0,writable:!0,value:ce.origRaw})}];return()=>t.forEach(r=>r())}function jp(e,t){var r=t[jp._sym??=Object.getOwnPropertySymbols(t)[0]],o=ri.SemanticColor[r];return[r,o[e]]}var kc,ri,kp,Bp,Up=h(()=>{"use strict";a();s();xn();fr();et();ut();Ji();Zi();kc=F(ei()),ri=H("SemanticColor"),kp=Fr(Xi("isThemeDark")),Bp={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"}});function jc(){var e=new Set(["ThemeStore","SelectivelySyncedUserSettingsStore"]),t=[le("get",Hp,([r],o)=>{if(!(!ce.current||!e.has(r))){var n=eo(o._state,i=>typeof i.theme=="string");n&&(n.theme=ce.key)}}),Co("set",Hp,([r,o])=>{if(e.has(r)){var n=JSON.stringify(o),i=ce.lastSetDiscordTheme??"darker",u=n.replace(/"theme":"bn-theme-\d+"/,`"theme":${JSON.stringify(i)}`);return[r,JSON.parse(u)]}})];return()=>t.forEach(r=>r())}var Hp,Vp=h(()=>{"use strict";a();s();xn();et();Dt();Le();ut();Hp=$e(()=>{var e=H("impl");return typeof e?.impl=="object"?e.impl:H("storage")})});function Uc(e){var t=[jc(),Bc(),Fc()];return e&&Go(e,{update:!1}),()=>t.forEach(r=>r())}var Gp=h(()=>{"use strict";a();s();Fp();Up();Vp();xn()});var En={};B(En,{fetchTheme:()=>Sn,getCurrentTheme:()=>io,getThemeFromLoader:()=>zo,initThemes:()=>Qc,installTheme:()=>oo,removeTheme:()=>wn,selectTheme:()=>no,themes:()=>Re,updateThemes:()=>Ks,writeThemeToNative:()=>oi});function oi(e){return Hc.apply(this,arguments)}function Hc(){return Hc=w(function*(e){if(typeof e!="object")throw new Error("Theme must be an object");yield pn($p()||"theme.json").set(e)}),Hc.apply(this,arguments)}function Lb(e){if(e.semanticColors){var{semanticColors:t}=e;for(var r in t)for(var o in t[r])t[r][o]&&=va(t[r][o])||!1}if(e.rawColors){var{rawColors:n}=e;for(var i in n){var u=va(n[i]);u&&(e.rawColors[i]=u)}zp.Platform.OS==="android"&&Qs(n)}return e.spec??=2,e}function Mb(e){return!(typeof e!="object"||e===null||e.spec!==2&&e.spec!==3||!e.main)}function Sn(e){return Vc.apply(this,arguments)}function Vc(){return Vc=w(function*(e,t=!1){var r;try{r=yield(yield vt(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}if(!Mb(r))throw new Error(`Invalid theme at ${e}`);Re[e]={id:e,selected:t,data:Lb(r)},t&&(oi(Re[e]),Go(Re[e].data,{update:!0}))}),Vc.apply(this,arguments)}function oo(e){return Gc.apply(this,arguments)}function Gc(){return Gc=w(function*(e){if(typeof e!="string"||e in Re)throw new Error("Theme already installed");yield Sn(e)}),Gc.apply(this,arguments)}function no(e,t=!0){if(e&&(e.selected=!0),Object.keys(Re).forEach(r=>Re[r].selected=Re[r].id===e?.id),e==null&&t)return Go(null,{update:!0}),oi({});if(e)return Go(e.data,{update:!0}),oi(e)}function wn(e){return zc.apply(this,arguments)}function zc(){return zc=w(function*(e){var t=Re[e];return t.selected&&(yield no(null)),delete Re[e],t.selected}),zc.apply(this,arguments)}function Ks(){return $c.apply(this,arguments)}function $c(){return $c=w(function*(){yield Do(Re);var e=zo();yield d(Object.keys(Re).map(t=>Sn(t,e?.id===t)))}),$c.apply(this,arguments)}function io(){return Object.values(Re).find(e=>e.selected)??null}function zo(){return qs()}function Qc(){return Wc.apply(this,arguments)}function Wc(){return Wc=w(function*(){if(wr())try{Qe()&&mr("../vendetta_theme.json","null"),yield Yn(Ft);var e=zo();Uc(e?.data??null),Ks().catch(t=>console.error("Failed to update themes",t))}catch(t){console.error("Failed to initialize themes",t)}}),Wc.apply(this,arguments)}var zp,Re,kt=h(()=>{"use strict";a();s();ye();ke();Eo();ao();Br();Dt();zp=F(ne());Gp();Dc();ia();xn();Re=hr(Mt(vr("VENDETTA_THEMES")))});function St(){return Hr!=null}function Qe(){return so!=null}function Db(){if(!Qe()||St())return null;var e={name:so.loaderName,features:{}};return Yc()&&(e.features.loaderConfig=!0),qp()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:()=>Fb(),configurable:!0})),wr()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:()=>{var t=qs()?.id;if(!t)return null;var{themes:r}=(kt(),pt(En));return r[t]??qs()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:()=>e,configurable:!0}),e}function Kc(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:Db()}function qc(){return Qe()?so.loaderName:St()?Hr.name:"Unknown"}function Wp(){return Qe()?so.loaderVersion:null}function Yc(){return Qe()?!0:St()?Hr.features.loaderConfig:!1}function wr(){return Qe()?so.hasThemeSupport:St()?Hr.features.themes!=null:!1}function qs(){if(Qe())return so.storedTheme;if(St()){var e=Hr.features.themes?.prop;return e&&globalThis[e]||null}return null}function $p(){return Qe()?"pyoncord/current-theme.json":St()?"vendetta_theme.json":null}function ya(){return Qe()?!!window.__reactDevTools:St()?Hr.features.devtools!=null:!1}function Qp(){return ya()?Qe()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):St()?Hr.features.devtools.prop:null:null}function Kp(){return ya()?Qe()?window.__reactDevTools.version||null:St()?Hr.features.devtools.version:null:null}function qp(){return Qe()?so.isSysColorsSupported:St()?Hr.features.syscolors!=null:!1}function Fb(){return qp()?Qe()?so.sysColors:St()?Hr.features.syscolors.prop:null:null}function Yp(){return Qe()?"pyoncord/loader.json":St()?"vendetta_loader.json":"loader.json"}function Xp(){return Qe()?so.fontPatch===2:!1}var so,Hr,ao=h(()=>{"use strict";a();s();so=globalThis.__PYON_LOADER__,Hr=globalThis.__vendetta_loader;Kc()});var Ys={};B(Ys,{loaderConfig:()=>tr,settings:()=>D});var D,tr,He=h(()=>{"use strict";a();s();ke();ao();D=hr(Mt(vr("VENDETTA_SETTINGS"))),tr=hr(Mt(pn(Yp(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var ef={};B(ef,{default:()=>kb});var Jp,eh,Xc,Zc,ni,Jc,lo,Zp,ga,kb,tf=h(()=>{"use strict";a();s();Po();Jp=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),eh={},Xc={},Zc=rf("redesign_module");for([Zp,ga]of Zc.getModules())for(lo of Jp){if(ni=void 0,ga[lo])ni=ga;else if(ga.default?.[lo])ni=ga.default;else continue;Jc=Reflect.ownKeys(ni).length,!(Xc[lo]&&Jc>=Xc[lo])&&(eh[lo]=ni[lo],Xc[lo]=Reflect.ownKeys(ni).length,Zc.cacheId(Zp),Jc===1&&Jp.delete(lo))}Zc.finish();kb=eh});var af={};B(af,{getCachedPolyfillModules:()=>Gb,getImportingModuleId:()=>Su,getModules:()=>Ps,metroModules:()=>st,requireModule:()=>qt,subscribeModule:()=>Lu});function Js(e){Object.defineProperty(st,e,{enumerable:!1}),ih.add(e),lf(Number(e))}function _a(e){return!e||e===window||e["<!@ pylix was here :fuyusquish: !@>"]===null||e.__proto__===Object.prototype&&Reflect.ownKeys(e).length===0}function Vb(e,t){if(sf(t,e),e.initSentry&&=()=>{},e.default?.track&&e.default.trackMaker&&(e.default.track=()=>Promise.resolve()),e.registerAsset&&(xu(),pt(Vd)).patchAssets(e),!oh&&["customBubblingEventTypes","customDirectEventTypes","register","get"].every(u=>e[u])&&(nf("register",e,(u,c)=>{try{return c(...u)}catch{}}),oh=!0),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(u,c,f){if(c==="isDeveloper"){var{settings:g}=(He(),pt(Ys));return g.enableDiscordDeveloperSettings??!1}return Reflect.get(u,c,f)}})),!rh&&e.fileFinishedImporting&&(jb("fileFinishedImporting",e,([u])=>{ii===-1||!u||(st[ii].__filePath=u)}),rh=!0),!th&&window["__core-js_shared__"]){var r=u=>typeof u=="function"&&Hb.apply(u,[]);window["__core-js_shared__"].inspectSource=r,th=!0}if(e.findHostInstance_DEPRECATED){var o=st[t-1]?.publicModule.exports,n=o.default?.reactProfilingEnabled?1:-1;st[t+n]?.isInitialized||Js(t+n)}e.isMoment&&nf("defineLocale",e,(u,c)=>{var f=e.locale();c(...u),e.locale(f)});var i=Xs.get(Number(t));i&&(i.forEach(u=>u()),Xs.delete(Number(t)))}function Su(){return ii}function Lu(e,t){var r=Xs.get(e)??new Set;return r.add(t),Xs.set(e,r),()=>r.delete(t)}function qt(e){if(st[0]?.isInitialized||of(0),!ih.has(e)){if(Number(e)===-1)return tf(),pt(ef);if(st[e]?.isInitialized&&!st[e]?.hasError)return of(e);var t=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(Ub);var r;try{r=of(e)}catch{Js(e),r=void 0}return ErrorUtils.setGlobalHandler(t),r}}function*Ps(e,t=!1){yield[-1,(tf(),pt(ef))];var r=Yr().findIndex[e];if(t&&!r?.[`_${Dr.FULL_LOOKUP}`]&&(r=void 0),!r?.[`_${Dr.NOT_FOUND}`]){for(var o in r)if(o[0]!=="_"){var n=qt(Number(o));_a(n)||(yield[o,n])}for(var i in st){var u=qt(Number(i));_a(u)||(yield[i,u])}}}function*Gb(e){var t=Yr().polyfillIndex[e];for(var r in t){var o=qt(Number(r));_a(o)||(yield[r,o])}if(!t[`_${Dr.FULL_LOOKUP}`])for(var n in st){var i=qt(Number(n));_a(i)||(yield[n,i])}}var Bb,jb,nf,st,of,Xs,ih,Ub,Hb,th,rh,oh,ii,nh,Ao=h(()=>{"use strict";a();s();Po();Es();Bb=function(e){var t=Number(e),r=st[t],o=Yr().flagsIndex[t];if(o&pr.BLACKLISTED)return Js(t),"continue";r.factory&&nf("factory",r,(n,i)=>{var u=ii;ii=t;var{1:c,4:f}=n;n[2]=g=>{var v=c(g);return v&&v.__esModule?v.default:v},n[3]=g=>{var v=c(g);if(v&&v.__esModule)return v;var S={};return v&&Object.assign(S,v),S.default=v,S},i(...n),_a(f.exports)?Js(t):Vb(f.exports,t),ii=u})},{before:jb,instead:nf}=xs(),st=window.modules,of=window.__r,Xs=new Map,ih=new Set,Ub=()=>{},Hb=Function.prototype.toString,th=!1,rh=!1,oh=!1,ii=-1;for(nh in st)Bb(nh)});var uh={};B(uh,{getCacherForUniq:()=>Is,getMetroCache:()=>Yr,getPolyfillModuleCacher:()=>rf,indexAssetModuleFlag:()=>wu,indexBlacklistFlag:()=>lf,indexExportsFlags:()=>sf,initMetroCache:()=>zb});function ah(){var e={_v:sh,_buildNumber:ln.Build,_modulesCount:Object.keys(window.modules).length,flagsIndex:{},findIndex:{},polyfillIndex:{}};return setTimeout(()=>{for(var t in window.modules)(Ao(),pt(af)).requireModule(t)},100),yt=e,e}function zb(){return cf.apply(this,arguments)}function cf(){return cf=w(function*(){if(!(yield qr(uf)))return void ah();var e=yield fn(uf);try{if(yt=JSON.parse(e),yt._v!==sh)throw yt=null,"cache invalidated; cache version outdated";if(yt._buildNumber!==ln.Build)throw yt=null,"cache invalidated; version mismatch";if(yt._modulesCount!==Object.keys(window.modules).length)throw yt=null,"cache invalidated; modules count mismatch"}catch{ah()}}),cf.apply(this,arguments)}function lh(e){if(e){var t=pr.EXISTS;return t}}function sf(e,t){var r=lh(t);r&&r!==pr.EXISTS&&(yt.flagsIndex[e]=r)}function lf(e){yt.flagsIndex[e]|=pr.BLACKLISTED}function wu(e){yt.flagsIndex[e]|=pr.ASSET}function Is(e,t){var r=yt.findIndex[e]??={};return{cacheId(o,n){r[o]??=lh(n),Zs()},finish(o){t&&(r[`_${Dr.FULL_LOOKUP}`]=1),o&&(r[`_${Dr.NOT_FOUND}`]=1),Zs()}}}function rf(e){var t=yt.polyfillIndex[e]??={};return{getModules(){return(Ao(),pt(af)).getCachedPolyfillModules(e)},cacheId(r){t[r]=1,Zs()},finish(){t[`_${Dr.FULL_LOOKUP}`]=1,Zs()}}}var sh,uf,yt,Yr,Zs,Po=h(()=>{"use strict";a();s();ye();Eo();fr();zn();Es();sh=100,uf="caches/metro_modules.json",yt=null,Yr=window.__getMetroCache=()=>yt;Zs=zi(()=>{mr(uf,JSON.stringify(yt))},1e3)});function el(e){return"componentStack"in e&&typeof e.componentStack=="string"}function tl(e){return!!e.stack}var ff=h(()=>{"use strict";a();s()});var rl={};B(rl,{filterAssets:()=>$b,findAsset:()=>ai,findAssetId:()=>y,iterateAssets:()=>$o});function*$o(){var{flagsIndex:e}=Yr(),t=new Set;for(var r in e)if(e[r]&pr.ASSET){var o=qt(Number(r));if(typeof o!="number"||t.has(o))continue;yield ch(o),t.add(o)}}function ch(e){var t=$n.getAssetByID(e);return t&&Object.assign(t,{id:e})}function ai(e){if(typeof e=="number")return ch(e);if(typeof e=="string"&&mf[e])return mf[e];for(var t of $o()){if(typeof e=="string"&&t.name===e)return mf[e]=t,t;if(typeof e=="function"&&e(t))return t}}function $b(e){var t=[];for(var r of $o())(typeof e=="string"?r.name===e:e(r))&&t.push(r);return t}function y(e){return ai(e)?.id}var mf,be=h(()=>{"use strict";a();s();Po();Es();Ao();xu();mf={}});var mh,fh=h(()=>{mh={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",CONTINUE:"Continue",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DESC_EXTRACT_FONTS_FROM_THEME:'Looks out for "fonts" field in your currently applied theme and install it.',DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",DONE:"Done",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",EXTRACT:"Extract",FONT_NAME:"Font Name",FONTS:"Fonts",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install an add-on",INSTALL_FONT:"Install a font",INSTALL_PLUGIN:"Install a plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LABEL_EXTRACT_FONTS_FROM_THEME:"Extract font from theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",REMOVE:"Remove",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart is required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_FONTS:"You are in Safe Mode, meaning fonts have been temporarily disabled. {enabled, select, true {If a font appears to be causing the issue, you can press below to disable it persistently.} other {}}",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SEPARATOR:", ",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_EXTRACTOR_DESC:"This pack overrides the following: {fonts}",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function hh(){var e=({locale:t})=>{var r={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},o=dh=r[t]??t;if(o.startsWith("en-")){si=null;return}ph.has(o)?si=o:(ph.add(o),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${o}/bunny.json`).then(n=>n.json()).then(n=>df[o]=n).then(()=>o===dh&&(si=o)).catch(n=>console.error(`An error occured while fetching strings for ${o}: ${n}`)))};return Sr.subscribe("I18N_LOAD_SUCCESS",e),()=>Sr.unsubscribe("I18N_LOAD_SUCCESS",e)}function Bt(e,t){var r=_[e];return new Qb(r).format(t)}var Qb,si,dh,ph,df,_,Me=h(()=>{"use strict";a();s();Z();Pe();fh();Qb=We("MessageFormat"),si=null,dh=null,ph=new Set,df={},_=new Proxy({},{get:(e,t)=>si&&df[si]?.[t]?df[si]?.[t]:mh[t]})});var ol={};B(ol,{showToast:()=>K});var Kb,K,rr=h(()=>{"use strict";a();s();Me();be();Le();Z();Pe();({uuid4:Kb}=Y(()=>H("uuid4"))),K=(e,t)=>da.open({key:`vd-toast-${Kb()}`,content:e,source:t,icon:t});K.showCopyToClipboard=(e=_.COPIED_TO_CLIPBOARD)=>{K(e,y("toast_copy_link"))}});var il={};B(il,{connectToDebugger:()=>xa,getDebugInfo:()=>Tr,patchLogHook:()=>vf,toggleSafeMode:()=>hf,versionHash:()=>ba});function hf(){return pf.apply(this,arguments)}function pf(){return pf=w(function*(){D.safeMode={...D.safeMode,enabled:!D.safeMode?.enabled},wr()&&(zo()?.id&&(D.safeMode.currentThemeId=zo().id),D.safeMode?.enabled?yield no(null):D.safeMode?.currentThemeId&&(yield no(Re[D.safeMode?.currentThemeId]))),setTimeout(Qt.reload,400)}),pf.apply(this,arguments)}function xa(e){if(Er!==void 0&&Er.readyState!==WebSocket.CLOSED&&Er.close(),!e){K("Invalid debugger URL!",y("Small"));return}Er=new WebSocket(`ws://${e}`),Er.addEventListener("open",()=>K("Connected to debugger.",y("Check"))),Er.addEventListener("message",t=>{try{(0,eval)(t.data)}catch(r){console.error(r)}}),Er.addEventListener("error",t=>{console.log(`Debugger error: ${t.message}`),K("An error occurred with the debugger connection!",y("Small"))})}function vf(){var e=le("nativeLoggingHook",globalThis,t=>{Er?.readyState===WebSocket.OPEN&&Er.send(JSON.stringify({message:t[0],level:t[1]})),lt.log(t[0])});return()=>{Er&&Er.close(),e()}}function Tr(){var e=window.HermesInternal.getRuntimeProperties(),t=e["OSS Release Version"],r="for RN ",o=nl.Platform.constants,n=o.reactNativeVersion;return{vendetta:{version:ba.split("-")[0],loader:qc()},bunny:{version:ba,loader:{name:qc(),version:Wp()}},discord:{version:ln.Version,build:ln.Build},react:{version:React.version,nativeVersion:t.startsWith(r)?t.substring(r.length):`${n.major}.${n.minor}.${n.patch}`},hermes:{version:t,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...nl.Platform.select({android:{os:{name:"Android",version:o.Release,sdk:o.Version}},ios:{os:{name:o.systemName,version:o.osVersion}}}),...nl.Platform.select({android:{device:{manufacturer:o.Manufacturer,brand:o.Brand,model:o.Model,codename:un.device}},ios:{device:{manufacturer:un.deviceManufacturer,brand:un.deviceBrand,model:un.deviceModel,codename:un.device}}})}}var nl,Er,ba,uo=h(()=>{"use strict";a();s();ye();kt();be();ao();fr();et();He();to();rr();nl=F(ne());ba="85cbac7-dev"});function gf(e){var t=Vu("modules/forwarding/native/ForwardFailedAlertModal.tsx");return!t&&"extraContent"in e&&(e.content=x(yf.View,{style:{gap:16},children:[l(O,{variant:"text-md/medium",color:"text-muted",children:e.content}),l(yf.View,{children:e.extraContent})]}),delete e.extraContent),l(qb,{...e})}var yf,qb,Yb,Sa,vh=h(()=>{"use strict";a();s();W();Le();ut();re();yf=F(ne()),{AlertModal:qb,AlertActionButton:Yb}=Y(()=>H("AlertModal","AlertActions")),Sa=Yb});var _f={};B(_f,{AlertActionButton:()=>Sa,AlertModal:()=>gf});var bf=h(()=>{"use strict";a();s();vh()});function _h(e){return gh.isSemanticColor(e)}function bh(e,t=Xb.theme){return gh.resolveSemanticColor(t,e)}var al,wt,yh,Xb,gh,li=h(()=>{"use strict";a();s();Z();Pe();al=H("SemanticColor"),wt=al?.default?.colors??xr?.ThemeColorMap,yh=al?.default?.unsafe_rawColors??xr?.Colors,Xb=dn("ThemeStore"),gh=al.default.meta??=al.default.internal});var wf={};B(wf,{TextStyleSheet:()=>co,ThemeContext:()=>xf,createLegacyClassComponentStyles:()=>Zb,createStyles:()=>Cr,createThemedStyleSheet:()=>Sf});function Cr(e){return $e(()=>Sh.createStyles(e))}function Zb(e){return $e(()=>Sh.createLegacyClassComponentStyles(e))}function Sf(e){for(var t in e)e[t]=new Proxy(xh.StyleSheet.flatten(e[t]),{get(r,o,n){var i=Reflect.get(r,o,n);return _h(i)?bh(i):i}});return e}var xh,Sh,xf,co,Vr=h(()=>{"use strict";a();s();Le();Pe();li();xh=F(ne()),Sh=M("createStyles"),{ThemeContext:xf}=Y(()=>H("ThemeContext"),{hint:"object"}),{TextStyleSheet:co}=Y(()=>H("TextStyleSheet"))});function Rr({selectable:e,style:t,children:r}){return e?ui.Platform.select({ios:l(ex,{style:t,children:r}),default:l(wh,{style:t,children:r,selectable:!0})}):l(wh,{style:t,children:r})}var ui,Eh,ex,wh,Th=h(()=>{"use strict";a();s();W();Z();li();Vr();ui=F(ne()),Eh=Cr({codeBlock:{fontFamily:xr.Fonts.CODE_NORMAL,fontSize:12,textAlignVertical:"center",backgroundColor:wt.BACKGROUND_SECONDARY,color:wt.TEXT_NORMAL,borderWidth:1,borderRadius:12,borderColor:wt.BACKGROUND_TERTIARY,padding:10}}),ex=({style:e,children:t})=>l(ui.TextInput,{editable:!1,multiline:!0,style:[Eh().codeBlock,e&&e],value:t}),wh=({selectable:e,style:t,children:r})=>l(ui.Text,{selectable:e,style:[Eh().codeBlock,t&&t],children:r})});var Ef={};B(Ef,{hideSheet:()=>Gr,showSheet:()=>Ar});function Ar(e,t,r){"then"in t||(t=Promise.resolve({default:t})),Ch.openLazy(t,e,r??{})}function Gr(e){Ch.hideActionSheet(e)}var Ch,Wo=h(()=>{"use strict";a();s();Pe();Ch=M("openLazy","hideActionSheet")});function Rh(e){return e.split(/[\s|\n]+?in /).filter(Boolean)}var Ah=h(()=>{"use strict";a();s()});var Ke=Mr((VP,Ph)=>{a();s();Ph.exports=Mo().react});function wa(e){var[t,r]=(0,Ih.useState)(!0),o;try{o=Rh(e.componentStack),o=t?o.slice(0,4):o}catch{return}return l(Te,{children:x(Tn.View,{style:{gap:8},children:[l(O,{variant:"heading-lg/bold",children:"Component Stack"}),l(Tn.View,{style:{gap:4},children:o.map(n=>x(Tn.View,{style:{flexDirection:"row"},children:[l(O,{variant:"text-md/bold",color:"text-muted",children:"<"}),l(O,{variant:"text-md/bold",children:n}),l(O,{variant:"text-md/bold",color:"text-muted",children:"/>"})]}))}),t&&l(O,{children:"..."}),x(Tn.View,{style:{gap:8,flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[l(X,{variant:"secondary",text:`Show ${t?"more":"less"}`,icon:t?y("down_arrow"):l(Tn.Image,{style:{transform:[{rotate:`${t?0:180}deg`}]},source:y("down_arrow")}),onPress:()=>r(n=>!n)}),l(X,{variant:"secondary",text:"Copy",icon:y("CopyIcon"),onPress:()=>Ue.setString(e.componentStack)})]})]})})}var Ih,Tn,Tf=h(()=>{"use strict";a();s();W();Ah();be();Z();re();Ih=F(Ke()),Tn=F(ne())});function nx(e){return e==="InternalBytecode.js"}function ix(e){var t=e.match(tx);if(t)return{type:"FRAME",functionName:t[1],location:t[2]==="native"?{type:"NATIVE"}:t[3]==="address at "?nx(t[4])?{type:"INTERNAL_BYTECODE",sourceUrl:t[4],line1Based:Number.parseInt(t[5],10),virtualOffset0Based:Number.parseInt(t[6],10)}:{type:"BYTECODE",sourceUrl:t[4],line1Based:Number.parseInt(t[5],10),virtualOffset0Based:Number.parseInt(t[6],10)}:{type:"SOURCE",sourceUrl:t[4],line1Based:Number.parseInt(t[5],10),column1Based:Number.parseInt(t[6],10)}};var r=e.match(rx);if(r)return{type:"SKIPPED",count:Number.parseInt(r[1],10)}}function ax(e){for(var t=e.split(/\n/),r=[],o=-1,n=0;n<t.length;++n){var i=t[n];if(i){var u=ix(i);if(u){r.push(u);continue}ox.test(i)||(o=n,r=[])}}var c=t.slice(0,o+1).join(`
`);return{message:c,entries:r}}function sx(e){var t=[];for(var r of e.entries)if(r.type==="FRAME"){var{location:o,functionName:n}=r;o.type==="NATIVE"||o.type==="INTERNAL_BYTECODE"||t.push({methodName:n,file:o.sourceUrl,lineNumber:o.line1Based,column:o.type==="SOURCE"?o.column1Based-1:o.virtualOffset0Based})}return t}function Cf(e){if(e==null)return[];var t=Array.isArray(e)?e:sx(ax(e));return t}var tx,rx,ox,Oh=h(()=>{"use strict";a();s();tx=/^ {4}at (.+?)(?: \((native)\)?| \((address at )?(.*?):(\d+):(\d+)\))$/,rx=/^ {4}... skipping (\d+) frames$/,ox=/^ {4}at .*$/});function Ea(e){var[t,r]=(0,Rf.useState)(!0),o;try{var n=Cf(e.error.stack);o=t?n.slice(0,4):n}catch{return null}return l(Te,{children:x(Qo.View,{style:{gap:12},children:[l(O,{variant:"heading-lg/bold",children:"Call Stack"}),l(Qo.View,{style:{gap:4},children:o.map((i,u)=>l(lx,{id:u,frame:i}))}),t&&l(O,{children:"..."}),x(Qo.View,{style:{gap:8,flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[l(X,{variant:"secondary",text:`Show ${t?"more":"less"}`,icon:t?y("down_arrow"):l(Qo.Image,{style:{transform:[{rotate:`${t?0:180}deg`}]},source:y("down_arrow")}),onPress:()=>r(i=>!i)}),l(X,{variant:"secondary",text:"Copy",icon:y("CopyIcon"),onPress:()=>Ue.setString(e.error.stack)})]})]})})}function lx(e){var[t,r]=(0,Rf.useState)(!0);return x(Qo.Pressable,{onPress:()=>r(o=>!o),children:[l(O,{style:{fontFamily:xr.Fonts.CODE_BOLD},children:e.frame.methodName}),l(O,{style:{fontFamily:xr.Fonts.CODE_NORMAL},ellipsizeMode:"middle",numberOfLines:t?1:void 0,children:x(O,{color:"text-muted",children:[e.frame.file===Nh?"jsbundle":e.frame.file,":",e.frame.lineNumber,":",e.frame.column]})})]},e.id)}var Rf,Qo,Af=h(()=>{"use strict";a();s();W();Oh();be();Z();re();Rf=F(Ke()),Qo=F(ne());Pf()});function If(e){return l(xt,{children:x(Lh.View,{style:{gap:12,paddingVertical:12},children:[l(O,{variant:"heading-lg/extrabold",children:"Error"}),l(Rr,{selectable:!0,children:e.error.message}),tl(e.error)&&l(Ea,{error:e.error}),el(e.error)?l(wa,{componentStack:e.error.componentStack}):null]})})}var Lh,Mh=h(()=>{"use strict";a();s();W();ff();or();re();Lh=F(ne());Tf();Af()});function Of(e){return l(Te,{children:x(_e,{children:[e.header&&typeof e.header!="string"?e.header:l(O,{variant:"heading-lg/bold",children:e.header??_.UH_OH}),l(Rr,{selectable:!0,children:String(e.error)}),x(_c,{children:[e.onRetryRender&&l(X,{variant:"destructive",text:_.RETRY_RENDER,onPress:e.onRetryRender}),e.error instanceof Error?l(X,{text:"Details",onPress:()=>Ar("BunnyErrorDetailsActionSheet",If,{error:e.error})}):null]})]})})}var Nh,Pf=h(()=>{"use strict";a();s();W();Me();or();Wo();re();Mh();Nh=window.HermesInternal.getFunctionLocation(window.__r).fileName});var ux,Ne,Nf=h(()=>{"use strict";a();s();Nt();Ze();at();Eu();Lt();W();Pf();Z();Vr();Ne=function(e){"use strict";we(t,e);function t(r){J(this,t);var o;return o=Se(this,t,[r]),o.state={hasErr:!1},o}return te(t,[{key:"render",value:function(){return this.state.hasErr?l(Of,{error:this.state.error,onRetryRender:()=>this.setState({hasErr:!1})}):this.props.children}}]),t}(ux=pa.Component);Ki(Ne,"contextType",xf);Ki(Ne,"getDerivedStateFromError",e=>({hasErr:!0,error:e}))});function cx(){return l(sl.Image,{style:{width:16,height:16},source:y("search")})}var sl,Ko,Dh=h(()=>{"use strict";a();s();W();Me();be();re();Nf();sl=F(ne());Ko=({onChangeText:e,placeholder:t,style:r,isRound:o})=>{var[n,i]=React.useState(""),u=c=>{i(c),e?.(c)};return l(Ne,{children:l(sl.View,{style:r,children:l(ot,{grow:!0,isClearable:!0,leadingIcon:cx,placeholder:t??_.SEARCH,onChange:u,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,isRound:o,value:n})})})}});function Ca({label:e,icon:t,noPadding:r=!1,noAnimation:o=!1,children:n}){var[i,u]=React.useState(!0);return x(Jt,{children:[l(I,{label:e,icon:t&&l(I.Icon,{source:y(t)}),trailing:l(jr.Arrow,{style:{transform:[{rotate:`${i?180:90}deg`}]}}),onPress:()=>{u(!i),o||Ta.LayoutAnimation.configureNext(Ta.LayoutAnimation.Presets.easeInEaseOut)}}),!i&&l(Jt,{children:l(Ta.View,{style:!r&&{paddingHorizontal:15},children:n})})]})}var Ta,Fh=h(()=>{"use strict";a();s();W();be();re();Ta=F(ne())});var ll={};B(ll,{Codeblock:()=>Rr,ErrorBoundary:()=>Ne,Search:()=>Ko,Summary:()=>Ca,wrappers:()=>_f});var or=h(()=>{"use strict";a();s();bf();Th();Nf();Dh();Fh()});function Lf(e){var t=fx(),r=Tr();return l(Ne,{children:l(yc,{children:x(la,{style:t.container,children:[x(ul.View,{style:{gap:4},children:[l(O,{variant:"display-lg",children:"Uh oh."}),l(O,{variant:"text-md/normal",children:"A crash occurred while rendering a component. This could be caused by a plugin, Bunny or Discord itself."}),x(O,{variant:"text-sm/normal",color:"text-muted",children:[r.os.name,"; ",r.discord.build," (",r.discord.version,"); ",r.bunny.version]})]}),x(ul.ScrollView,{fadingEdgeLength:64,contentContainerStyle:{gap:12},children:[l(Rr,{selectable:!0,children:e.error.message}),tl(e.error)&&l(Ea,{error:e.error}),el(e.error)?l(wa,{componentStack:e.error.componentStack}):null]}),x(Te,{style:{gap:6},children:[l(X,{text:"Reload Discord",onPress:()=>Qt.reload()}),!D.safeMode?.enabled&&l(X,{text:"Reload in Safe Mode",onPress:()=>hf()}),l(X,{variant:"destructive",text:"Retry Render",onPress:()=>e.rerender()})]})]})})})}var ul,fx,kh=h(()=>{"use strict";a();s();W();ff();uo();fr();He();or();Vr();Z();re();ul=F(ne());Tf();Af();fx=Cr({container:{flex:1,backgroundColor:Ur.colors.BG_BASE_SECONDARY,paddingHorizontal:16,height:"100%",padding:8,gap:12}})});function mx(){var e=We("ErrorBoundary")[Os];return new Promise(t=>e.getExports(r=>t(r.prototype)))}function Mf(){return le.await("render",mx(),function(){if(this.state.error)return l(Lf,{error:this.state.error,rerender:()=>this.setState({info:null,error:null})})})}var Bh=h(()=>{"use strict";a();s();W();kh();et();Zi();Pe()});var Df=Mr((PO,jh)=>{a();s();jh.exports=Mo().moment});function Hh({locale:e}){try{Uh.default.locale(e.toLowerCase())}catch(t){lt.error("Failed to fix timestamps...",t)}Sr.unsubscribe("I18N_LOAD_SUCCESS",Hh)}var Uh,Vh,Gh=h(()=>{"use strict";a();s();to();Z();Uh=F(Df());Vh=()=>{Sr.subscribe("I18N_LOAD_SUCCESS",Hh)}});var ci,zh=h(()=>{ci="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABoBJREFUeF7lW1nIVlUUXasom80kijJKaVQzGtTUjCJteNBmeqigssnIpDIqwmw0GqhQi4iw8SEaHtKgMpNKM7SiyUZpLppoTi0rd2f9nCu36/2+79zxv/5t8MV/n333WWefffb0EQ0iM+sH4AEAowG8CGAqycVVqsgqhWeVbWavAtg/tu4vABNIPphVVih/YwAws2EAlrRQfChJgVM6NQmARwGc0GKHX5PcofTdA2gSAJ8A2KXNJueQPLpsEJoEwI8A+rTZ4GrnIAeQ/KpMEJoEwCoAm3TY3DKSezcKADPbCMDWADYEIK/9B4CVJC2LomYWwv8PgC1JCqxSqJAFmNlOAF6PAfA3ACn3MYBLSD4bqmUgABI3l+T4ULmd+IoCcDeAs9p8RI5NPDNJrminTAYAZAVbkJSlFaaiALwJYEiAFh8CuJHk7Fa8ZqaNbRAgSyzjSc4N5G3LVhQAmfiYDIosBXAGyXeSa8xMJ9orUNb7AAZm9TNpsosCMNnd/9sDlY7Y/gRwAYDZJOUzusjMfvK+JFRcX5J6OgtRUQB2B/BBDg3k8ZeQHBED4AsASoZCaTTJRaHMrfiKAqD1jwM4NqcinwE4mOTnZiYgBWgozSN5RChzJQB40x0A4KMCivwO4GQAFwI4JIMcRYa9i74GhSwgZr5XuWs8LYPyaazPAMh6ojvLeop8tywA5L0V/FSSsbXZ4Eh3DV7udgD8VdgMwK8+JC6iU5a115GcmmVBkrcUC4hdhYPcPX6+RhAWkDysMQB4SzgXwB0Zoroi+q8iKcvLTaVaQMwSZgGYWBMIfUj+nBeBSgDwljADwHk1XIdCL0FlAMRAOL/i0tsgku82zgI8AMruLgNwfV4FA9btQ/KtAL5UlkotIOYTjgdwr6o5eRVts244SWWZuagWALw1DFUGCGBwLk1bLxpG8pW8MmsDwIPQ25W+7wNwTF6FU9bJ2U7L+xLUCkDsSij5keLblASEagmjSL6XVV63AOCtQSVw3d2yytxr3JN7LUklZsHUnQAMcnUE1RRVTi+TXgIwjqSsoiN1CwBmtqvzA28A2LyjhvkYlCKr9vhcp+W1A2BmewB4AcB2nZQr+Hc1aaaQlK9pSbUC4E9eLfCynF8IRoo/JpJUMXYdqgUAM9N3RgFYGKJxDh71FK5WAwbAvgAeShRnPgWwZxoIdQFwEwCV0DfOsbmQJWPi993MZGGqMsdT5e9VdE3GC5UCYGY69ehUQjaSh0dv/5B4j0FCXJ8hrWexHMAIkj9EH6oEADNTZUjNj+MqeOaSIM0nOTb5n2amStH8FEQVNh8eWcJaAHybe7gfU9kLgEzmbd/91VCCujArXdd3hdA2M73fKobKzDTYIK+uRsel7tT75jnKnGvUUtuWpMrra8nMNG12aguZatjKMa7pAsDMtnK9tkdylKVz6lz6snsATFKPwB+M+gtppx//sBoyCyMAkuNppWtYg0CVxeT4tvfPbKcI8zHXpD2RZnaOW3RXDQo27ROrSfYSAGowylv/30iR4qYCQBFSVe9zk0Fd5GKH0QJAPfpO96XJG8mjmyJHOcHFAuA1APvlkbIerzmN5P3SXwBc7IaOblmPN5NVdaXK/RUDRACoTqcOq4KfptA37l1XuKpma0QKrlQ/2LEEJY8i+XQXAD4Q6u+uwZwKKrbtdNWYjMboNDClf0qTl+ktb5W6RsLMbDc/naZK80Cvt/YQSvruYJIr46GwanQTAJzph5Y1/Vk2aVZQCck8xR4kpUgpZGYCQDHNOK9/p6bpRSRvS02GzEx1tZGlaAbopH8DcDnJO0uS2VaMmWnzk1xz9hrXldIob9o+ldf0W+cPZiafkLvbmtDsSY3MytQ7mXUVwJiZrFozTKoK6QcZSVrXAszsSABPFVRIs4MzyjTxgvoo4TsAwCm+Yy2rEC1PswC9CAfm+KBMSsWPW0l+l2N9LUt8UfYKf8Vn/gcAM9MT82VGTeTYngBwdqeB6Ixya2FPAnCSKx4+HPhlBRJ6vsaS/DZwTePYkgCozx7SqpJXl69YmqzFNW6HHRSKxwGhc79XApgV2npqOiBxAE73/ftWOquRqbJT7mGEJoIRhcIaZVGjMm14QT+BucHVDKa7oUSlkT2KIgAUT6/zIwbXYFTmpLxZU909kiIAprhM6+bEDqf7Hy93pY09lSIAFriO7aF+k7/4aYs0i+hxOEQAqIGgNrJ+iDS5p3j4kNP6F9f7+CyBdXonAAAAAElFTkSuQmCC"});function cl(e,t,r,o,n){return w(function*(){if(e)return void e();var i=yield r().then(u=>u.default);typeof o=="string"&&(o={title:o}),t??=px.getRootNavigationRef(),t.navigate("BUNNY_CUSTOM_PAGE",{...o,render:()=>l(i,{...n})})})}var px,fi,Ff=h(()=>{"use strict";a();s();ye();W();Z();Pe();or();px=M("getRootNavigationRef"),fi=React.memo(()=>{var e=Ce.useNavigation(),t=Ce.useRoute(),{render:r,...o}=t.params;return React.useEffect(()=>void e.setOptions({...o}),[]),l(Ne,{children:l(r,{})})})});function hx(){var e=Ce.useNavigation();return l(Jt,{children:Object.keys(Pr).map(t=>Pr[t].length>0&&l(Vs,{title:t,children:Pr[t].filter(r=>r.usePredicate?.()??!0).map((r,o,n)=>x(Jt,{children:[l(jr,{label:r.title(),leading:l(Rc,{source:r.icon}),trailing:l(jr.Arrow,{label:r.useTrailing?.()||void 0}),onPress:cl(r.onPress,e,r.render,r.title())}),o!==n.length-1&&l(ca,{})]}))},t))})}function $h(e){e.push(le("default",We("getScreens",!1),(r,o)=>({...o,VendettaCustomPage:{title:"Bunny",render:()=>l(fi,{})},BUNNY_CUSTOM_PAGE:{title:"Bunny",render:()=>l(fi,{})}})));var t=le("default",We("UserSettingsOverviewWrapper",!1),(r,o)=>{var n=Xt(o.props.children,i=>i.type?.name==="UserSettingsOverview");e.push(le("renderSupportAndAcknowledgements",n.type.prototype,(i,{props:{children:u}})=>{var c=u.findIndex(f=>f?.type?.name==="UploadLogsButton");c!==-1&&u.splice(c,1)})),e.push(le("render",n.type.prototype,(i,u)=>{var c=[Uo.Messages.BILLING_SETTINGS,Uo.Messages.PREMIUM_SETTINGS],f=Xt(u.props.children,v=>v?.children?.[1]?.type===Vs)?.children||u.props.children;if(f){var g=f.findIndex(v=>c.includes(v?.props.label));f.splice(-~g||4,0,l(hx,{}))}}))},!0);e.push(t)}var Wh=h(()=>{"use strict";a();s();W();et();Dt();Z();re();Pe();mi();Ff()});function yx(){var e=!1;return React.useEffect(()=>void(e=!0),[]),e}function Qh(e){var t=()=>Object.values(Pr).flatMap(n=>n.map(i=>({[i.key]:{type:"pressable",title:i.title,icon:i.icon,IconComponent:()=>l(I.Icon,{source:i.icon}),usePredicate:i.usePredicate,useTrailing:i.useTrailing,onPress:cl(i.onPress,null,i.render,i.title()),withArrow:!0,...i.rawTabsConfig}}))).reduce((n,i)=>Object.assign(n,i)),r=fl.SETTING_RENDERER_CONFIG,o=fl.SETTING_RENDERER_CONFIG;Object.defineProperty(fl,"SETTING_RENDERER_CONFIG",{enumerable:!0,configurable:!0,get:()=>({...o,VendettaCustomPage:{type:"route",title:()=>"Bunny",screen:{route:"VendettaCustomPage",getComponent:()=>fi}},BUNNY_CUSTOM_PAGE:{type:"route",title:()=>"Bunny",screen:{route:"BUNNY_CUSTOM_PAGE",getComponent:()=>fi}},...t()}),set:n=>o=n}),e.push(()=>{Object.defineProperty(fl,"SETTING_RENDERER_CONFIG",{value:r,writable:!0,get:void 0,set:void 0})}),e.push(le("default",vx,(n,i)=>{if(!yx()){var{sections:u}=Xt(i,f=>f.props?.sections).props,c=-~u.findIndex(f=>f.label===Uo.Messages.ACCOUNT_SETTINGS)||1;Object.keys(Pr).forEach(f=>{u.splice(c++,0,{label:f,title:f,settings:Pr[f].map(g=>g.key)})})}}))}var fl,vx,Kh=h(()=>{"use strict";a();s();W();et();Dt();Z();re();Pe();mi();Ff();fl=M("SETTING_RENDERER_CONFIG"),vx=We("SettingsOverviewScreen",!1)});var Bf={};B(Bf,{patchSettings:()=>kf,registerSection:()=>ml,registeredSections:()=>Pr});function ml(e){return Pr[e.name]=e.items,()=>delete Pr[e.name]}function kf(){var e=new Array;return $h(e),Qh(e),()=>e.forEach(t=>t())}var Pr,mi=h(()=>{"use strict";a();s();Wh();Kh();Pr={}});function Uf(){return D.safeMode?.enabled===!0}function qh(){return jf.apply(this,arguments)}function jf(){return jf=w(function*({to:e=!Uf(),reload:t=!0}={}){var r=(D.safeMode??={enabled:e}).enabled=e,o=io();yield oi(r?{}:o?.data??{}),t&&setTimeout(()=>Qt.reload(),500)}),jf.apply(this,arguments)}var Yh=h(()=>{"use strict";a();s();ye();kt();fr();He()});function dl({label:e,version:t,icon:r}){return l(I,{label:e,icon:l(I.Icon,{source:y(r)}),trailing:l(fa,{children:t}),onPress:()=>{Ue.setString(`${e} - ${t}`),K.showCopyToClipboard()}})}var Xh=h(()=>{"use strict";a();s();W();be();Z();re();rr()});function Hf(){var e=Tr();ue(D);var t=[{label:_.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:_.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],r=[{label:_.LOADER,version:`${e.bunny.loader.name} (${e.bunny.loader.version})`,icon:"ic_download_24px"},{label:_.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:_.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:_.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:_.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:pl.Platform.select({android:_.CODENAME,ios:_.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return l(pl.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:x(_e,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[l(Be,{title:_.VERSIONS,children:t.map(o=>l(dl,{label:o.label,version:o.version,icon:o.icon}))}),l(Be,{title:_.PLATFORM,children:r.map(o=>l(dl,{label:o.label,version:o.version,icon:o.icon}))})]})})}var pl,Jh=h(()=>{"use strict";a();s();W();Me();Xh();ke();uo();He();re();pl=F(ne())});var Vf={};B(Vf,{dismissAlert:()=>di,openAlert:()=>qo});var qo,di,Ra=h(()=>{"use strict";a();s();Le();ut();({openAlert:qo,dismissAlert:di}=Y(()=>H("openAlert","dismissAlert")))});var tv={};B(tv,{default:()=>ev});function ev(){ue(D);var e=Tr(),t=Ce.useNavigation();return l(Zh.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:x(_e,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[x(Be,{title:_.INFO,children:[l(I,{label:_.BUNNY,icon:l(I.Icon,{source:{uri:ci}}),trailing:l(I.TrailingText,{text:e.bunny.version})}),l(I,{label:"Discord",icon:l(I.Icon,{source:y("Discord")}),trailing:l(I.TrailingText,{text:`${e.discord.version} (${e.discord.build})`})}),l(I,{arrow:!0,label:_.ABOUT,icon:l(I.Icon,{source:y("CircleInformationIcon-primary")}),onPress:()=>t.push("BUNNY_CUSTOM_PAGE",{title:_.ABOUT,render:()=>l(Hf,{})})})]}),x(Be,{title:_.LINKS,children:[l(I,{arrow:!0,label:_.DISCORD_SERVER,icon:l(I.Icon,{source:y("Discord")}),onPress:()=>Ho.openDeeplink(oc)}),l(I,{arrow:!0,label:_.GITHUB,icon:l(I.Icon,{source:y("img_account_sync_github_white")}),onPress:()=>Ho.openURL(nc)})]}),x(Be,{title:_.ACTIONS,children:[l(I,{label:_.RELOAD_DISCORD,icon:l(I.Icon,{source:y("RetryIcon")}),onPress:()=>Qt.reload()}),l(ro,{label:"Safe Mode",subLabel:"Load Bunny without loading add-ons",icon:l(I.Icon,{source:y("ShieldIcon")}),value:Uf(),onValueChange:r=>{qh({to:r,reload:!1}),qo("bunny-reload-safe-mode",l(jo,{title:"Reload now?",content:r?"All add-ons will be temporarily disabled upon reload.":"All add-ons will load normally.",actions:x(Jn,{children:[l(Xn,{text:"Reload Now",variant:"destructive",onPress:()=>Qt.reload()}),l(Xn,{text:"Later",variant:"secondary"})]})}))}}),l(ro,{label:_.DEVELOPER_SETTINGS,icon:l(I.Icon,{source:y("WrenchIcon")}),value:D.developerSettings,onValueChange:r=>{D.developerSettings=r}})]}),l(Be,{title:_.MISCELLANEOUS,children:l(ro,{label:_.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:_.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:l(I.Icon,{source:y("WrenchIcon")}),value:D.enableDiscordDeveloperSettings,onValueChange:r=>{D.enableDiscordDeveloperSettings=r}})})]})})}var Zh,rv=h(()=>{"use strict";a();s();W();Yh();Me();hl();Jh();ke();be();uo();fr();He();Ra();Zr();Z();re();Zh=F(ne())});function Aa(e){var t;try{t=new URL(e)}catch{return!1}return t.protocol==="http:"||t.protocol==="https:"}var Gf=h(()=>{"use strict";a();s()});var nv=Mr((ov,vl)=>{a();s();Nt();Ze();at();Lt();_u();((e,t)=>{typeof define=="function"&&define.amd?define([],t):typeof vl=="object"&&vl.exports?vl.exports=t():e.fuzzysort=t()})(ov,e=>{"use strict";var t=(E,b)=>{if(!E||!b)return ze;var R=C(E);tn(b)||(b=T(b));var N=R.bitflags;return(N&b._bitflags)!==N?ze:$(R,b)},r=(E,b,R)=>{if(!E)return R?.all?q(b,R):au;var N=C(E),j=N.bitflags,L=N.containsSpace,P=v(R?.threshold||0),G=R?.limit||iu,U=0,ae=0,oe=b.length;function bt(nn){U<G?(_s.add(nn),++U):(++ae,nn._score>_s.peek()._score&&_s.replaceTop(nn))}if(R?.key)for(var it=R.key,se=0;se<oe;++se){var dt=b[se],fe=wo(dt,it);if(fe&&(tn(fe)||(fe=T(fe)),(j&fe._bitflags)===j)){var ve=$(N,fe);ve!==ze&&(ve._score<P||(ve.obj=dt,bt(ve)))}}else if(R?.keys){var Kr=R.keys,cr=Kr.length;e:for(var se=0;se<oe;++se){var dt=b[se];{for(var Je=0,Oe=0;Oe<cr;++Oe){var it=Kr[Oe],fe=wo(dt,it);if(!fe){Qr[Oe]=Bi;continue}tn(fe)||(fe=T(fe)),Qr[Oe]=fe,Je|=fe._bitflags}if((j&Je)!==j)continue}if(L)for(var At=0;At<N.spaceSearches.length;At++)Xe[At]=Rt;for(var Oe=0;Oe<cr;++Oe){if(fe=Qr[Oe],fe===Bi){ur[Oe]=Bi;continue}if(ur[Oe]=$(N,fe,!1,L),ur[Oe]===ze){ur[Oe]=Bi;continue}if(L)for(var V=0;V<N.spaceSearches.length;V++){if(zt[V]>-1e3&&Xe[V]>Rt){var Pt=(Xe[V]+zt[V])/4;Pt>Xe[V]&&(Xe[V]=Pt)}zt[V]>Xe[V]&&(Xe[V]=zt[V])}}if(L){for(var $t=0;$t<N.spaceSearches.length;$t++)if(Xe[$t]===Rt)continue e}else{for(var rn=!1,on=0;on<cr;on++)if(ur[on]._score!==Rt){rn=!0;break}if(!rn)continue}for(var Wt=new c(cr),It=0;It<cr;It++)Wt[It]=ur[It];if(L)for(var xe=0,Vn=0;Vn<N.spaceSearches.length;Vn++)xe+=Xe[Vn];else for(var xe=Rt,Ot=0;Ot<cr;Ot++){var ve=Wt[Ot];if(ve._score>-1e3&&xe>Rt){var Pt=(xe+ve._score)/4;Pt>xe&&(xe=Pt)}ve._score>xe&&(xe=ve._score)}if(Wt.obj=dt,Wt._score=xe,R?.scoreFn){if(xe=R.scoreFn(Wt),!xe)continue;xe=v(xe),Wt._score=xe}xe<P||bt(Wt)}}else for(var se=0;se<oe;++se){var fe=b[se];if(fe&&(tn(fe)||(fe=T(fe)),(j&fe._bitflags)===j)){var ve=$(N,fe);ve!==ze&&(ve._score<P||bt(ve))}}if(U===0)return au;for(var ji=new Array(U),se=U-1;se>=0;--se)ji[se]=_s.poll();return ji.total=U+ae,ji},o=(E,b="<b>",R="</b>")=>{for(var N=typeof b=="function"?b:void 0,j=E.target,L=j.length,P=E.indexes,G="",U=0,ae=0,oe=!1,bt=[],it=0;it<L;++it){var se=j[it];if(P[ae]===it){if(++ae,oe||(oe=!0,N?(bt.push(G),G=""):G+=b),ae===P.length){N?(G+=se,bt.push(N(G,U++)),G="",bt.push(j.substr(it+1))):G+=se+R+j.substr(it+1);break}}else oe&&(oe=!1,N?(bt.push(N(G,U++)),G=""):G+=R);G+=se}return N?bt:G},n=E=>{typeof E=="number"?E=""+E:typeof E!="string"&&(E="");var b=ie(E);return f(E,{_targetLower:b._lower,_targetLowerCodes:b.lowerCodes,_bitflags:b.bitflags})},i=()=>{ft.clear(),je.clear()},u=function(){function E(){J(this,E)}return te(E,[{key:"indexes",get:function(){return this._indexes.slice(0,this._indexes.len).sort((R,N)=>R-N)}},{key:"indexes",set:function(R){return this._indexes=R}},{key:"highlight",value:function(R,N){return o(this,R,N)}},{key:"score",get:function(){return g(this._score)}},{key:"score",set:function(R){this._score=v(R)}}]),E}(),c=function(E){we(b,E);function b(){return J(this,b),Se(this,b,arguments)}return te(b,[{key:"score",get:function(){return g(this._score)}},{key:"score",set:function(N){this._score=v(N)}}]),b}(Gn(Array)),f=(E,b)=>{var R=new u;return R.target=E,R.obj=b.obj??ze,R._score=b._score??Rt,R._indexes=b._indexes??[],R._targetLower=b._targetLower??"",R._targetLowerCodes=b._targetLowerCodes??ze,R._nextBeginningIndexes=b._nextBeginningIndexes??ze,R._bitflags=b._bitflags??0,R},g=E=>E===Rt?0:E>1?E:Math.E**(((-E+1)**.04307-1)*-2),v=E=>E===0?Rt:E>1?E:1-Math.pow(Math.log(E)/-2+1,1/.04307),S=E=>{typeof E=="number"?E=""+E:typeof E!="string"&&(E=""),E=E.trim();var b=ie(E),R=[];if(b.containsSpace){var N=E.split(/\s+/);N=[...new Set(N)];for(var j=0;j<N.length;j++)if(N[j]!==""){var L=ie(N[j]);R.push({lowerCodes:L.lowerCodes,_lower:N[j].toLowerCase(),containsSpace:!1})}}return{lowerCodes:b.lowerCodes,_lower:b._lower,containsSpace:b.containsSpace,bitflags:b.bitflags,spaceSearches:R}},T=E=>{if(E.length>999)return n(E);var b=ft.get(E);return b!==void 0||(b=n(E),ft.set(E,b)),b},C=E=>{if(E.length>999)return S(E);var b=je.get(E);return b!==void 0||(b=S(E),je.set(E,b)),b},q=(E,b)=>{var R=[];R.total=E.length;var N=b?.limit||iu;if(b?.key)for(var j=0;j<E.length;j++){var L=E[j],P=wo(L,b.key);if(P!=ze){tn(P)||(P=T(P));var G=f(P.target,{_score:P._score,obj:L});if(R.push(G),R.length>=N)return R}}else if(b?.keys)for(var j=0;j<E.length;j++){for(var L=E[j],U=new c(b.keys.length),ae=b.keys.length-1;ae>=0;--ae){var P=wo(L,b.keys[ae]);if(!P){U[ae]=Bi;continue}tn(P)||(P=T(P)),P._score=Rt,P._indexes.len=0,U[ae]=P}if(U.obj=L,U._score=Rt,R.push(U),R.length>=N)return R}else for(var j=0;j<E.length;j++){var P=E[j];if(P!=ze&&(tn(P)||(P=T(P)),P._score=Rt,P._indexes.len=0,R.push(P),R.length>=N))return R}return R},$=(E,b,R=!1,N=!1)=>{if(R===!1&&E.containsSpace)return _t(E,b,N);for(var j=E._lower,L=E.lowerCodes,P=L[0],G=b._targetLowerCodes,U=L.length,ae=G.length,se=0,oe=0,bt=0;;){var it=P===G[oe];if(it){if(Ae[bt++]=oe,++se,se===U)break;P=L[se]}if(++oe,oe>=ae)return ze}var se=0,dt=!1,fe=0,ve=b._nextBeginningIndexes;ve===ze&&(ve=b._nextBeginningIndexes=he(b.target)),oe=Ae[0]===0?0:ve[Ae[0]-1];var Kr=0;if(oe!==ae)for(;;)if(oe>=ae){if(se<=0||(++Kr,Kr>200))break;--se;var cr=mt[--fe];oe=ve[cr]}else{var it=L[se]===G[oe];if(it){if(mt[fe++]=oe,++se,se===U){dt=!0;break}++oe}else oe=ve[oe]}var Je=U<=1?-1:b._targetLower.indexOf(j,Ae[0]),Oe=!!~Je,At=Oe?Je===0||b._nextBeginningIndexes[Je-1]===Je:!1;if(Oe&&!At){for(var V=0;V<ve.length;V=ve[V])if(!(V<=Je)){for(var Pt=0;Pt<U&&L[Pt]===b._targetLowerCodes[V+Pt];Pt++);if(Pt===U){Je=V,At=!0;break}}}var $t=It=>{for(var xe=0,Vn=0,Ot=1;Ot<U;++Ot)It[Ot]-It[Ot-1]!==1&&(xe-=It[Ot],++Vn);var ji=It[U-1]-It[0]-(U-1);if(xe-=(12+ji)*Vn,It[0]!==0&&(xe-=It[0]*It[0]*.2),!dt)xe*=1e3;else{for(var nn=1,Ot=ve[0];Ot<ae;Ot=ve[Ot])++nn;nn>24&&(xe*=(nn-24)*10)}return xe-=(ae-U)/2,Oe&&(xe/=1+U*U*1),At&&(xe/=1+U*U*1),xe-=(ae-U)/2,xe};if(dt)if(At){for(var V=0;V<U;++V)Ae[V]=Je+V;var rn=Ae,on=$t(Ae)}else var rn=mt,on=$t(mt);else{if(Oe)for(var V=0;V<U;++V)Ae[V]=Je+V;var rn=Ae,on=$t(rn)}b._score=on;for(var V=0;V<U;++V)b._indexes[V]=rn[V];b._indexes.len=U;var Wt=new u;return Wt.target=b.target,Wt._score=b._score,Wt._indexes=b._indexes,Wt},_t=(E,b,R)=>{for(var N=new Set,j=0,L=ze,P=0,G=E.spaceSearches,U=G.length,ae=0,oe=()=>{for(var $t=ae-1;$t>=0;$t--)b._nextBeginningIndexes[Gt[$t*2+0]]=Gt[$t*2+1]},bt=!1,V=0;V<U;++V){zt[V]=Rt;var it=G[V];if(L=$(it,b),R){if(L===ze)continue;bt=!0}else if(L===ze)return oe(),ze;var se=V===U-1;if(!se){for(var dt=L._indexes,fe=!0,ve=0;ve<dt.len-1;ve++)if(dt[ve+1]-dt[ve]!==1){fe=!1;break}if(fe)for(var Kr=dt[dt.len-1]+1,cr=b._nextBeginningIndexes[Kr-1],Je=Kr-1;Je>=0&&cr===b._nextBeginningIndexes[Je];Je--)b._nextBeginningIndexes[Je]=Kr,Gt[ae*2+0]=Je,Gt[ae*2+1]=cr,ae++}j+=L._score/U,zt[V]=L._score/U,L._indexes[0]<P&&(j-=(P-L._indexes[0])*2),P=L._indexes[0];for(var Oe=0;Oe<L._indexes.len;++Oe)N.add(L._indexes[Oe])}if(R&&!bt)return ze;oe();var At=$(E,b,!0);if(At!==ze&&At._score>j){if(R)for(var V=0;V<U;++V)zt[V]=At._score/U;return At}R&&(L=b),L._score=j;var V=0;for(var Pt of N)L._indexes[V++]=Pt;return L._indexes.len=V,L},ie=E=>{for(var b=E.length,R=E.toLowerCase(),N=[],j=0,L=!1,P=0;P<b;++P){var G=N[P]=R.charCodeAt(P);if(G===32){L=!0;continue}var U=G>=97&&G<=122?G-97:G>=48&&G<=57?26:G<=127?30:31;j|=1<<U}return{lowerCodes:N,bitflags:j,containsSpace:L,_lower:R}},Ge=E=>{for(var b=E.length,R=[],N=0,j=!1,L=!1,P=0;P<b;++P){var G=E.charCodeAt(P),U=G>=65&&G<=90,ae=U||G>=97&&G<=122||G>=48&&G<=57,oe=U&&!j||!L||!ae;j=U,L=ae,oe&&(R[N++]=P)}return R},he=E=>{for(var b=E.length,R=Ge(E),N=[],j=R[0],L=0,P=0;P<b;++P)j>P?N[P]=j:(j=R[++L],N[P]=j===void 0?b:j);return N},ft=new Map,je=new Map,Ae=[],mt=[],Gt=[],Xe=[],zt=[],Qr=[],ur=[],wo=(E,b)=>{var R=E[b];if(R!==void 0)return R;if(typeof b=="function")return b(E);var N=b;Array.isArray(b)||(N=b.split("."));for(var j=N.length,L=-1;E&&++L<j;)E=E[N[L]];return E},tn=E=>typeof E=="object"&&typeof E._bitflags=="number",iu=1/0,Rt=-iu,au=[];au.total=0;var ze=null,Bi=n(""),Xg=E=>{var b=[],R=0,N={},j=L=>{for(var P=0,G=b[P],U=1;U<R;){var ae=U+1;P=U,ae<R&&b[ae]._score<b[U]._score&&(P=ae),b[P-1>>1]=b[P],U=1+(P<<1)}for(var oe=P-1>>1;P>0&&G._score<b[oe]._score;oe=(P=oe)-1>>1)b[P]=b[oe];b[P]=G};return N.add=L=>{var P=R;b[R++]=L;for(var G=P-1>>1;P>0&&L._score<b[G]._score;G=(P=G)-1>>1)b[P]=b[G];b[P]=L},N.poll=L=>{if(R!==0){var P=b[0];return b[0]=b[--R],j(),P}},N.peek=L=>{if(R!==0)return b[0]},N.replaceTop=L=>{b[0]=L,j()},N},_s=Xg();return{single:t,go:r,prepare:n,cleanup:i}})});function bx(e){var[t,r]=React.useState(""),[o,n]=React.useState(""),[i,u]=React.useState(!1);function c(){u(!0),e.fetchFn(t).then(()=>di("AddonInputAlert")).catch(f=>f instanceof Error?n(f.message):String(f)).finally(()=>u(!1))}return l(jo,{title:e.label,content:"Type in the source URL you want to install from:",extraContent:x(_e,{style:{marginTop:-12},children:[l(ot,{autoFocus:!0,isClearable:!0,value:t,onChange:f=>{r(f),o&&n("")},returnKeyType:"done",onSubmitEditing:c,state:o?"error":void 0,errorMessage:o||void 0}),l(jt.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{gap:8},children:l(X,{size:"sm",variant:"tertiary",text:"Import from clipboard",icon:y("ClipboardListIcon"),onPress:()=>Ue.getString().then(f=>r(f))})})]}),actions:x(_e,{children:[l(X,{loading:i,text:"Install",variant:"primary",disabled:!t||!Aa(t),onPress:c}),l(Xn,{disabled:i,text:"Cancel",variant:"secondary"})]})})}function Cn({CardComponent:e,...t}){var[r,o]=React.useState(""),[n,i]=React.useState(()=>null),{bottom:u}=gc(),c=Ce.useNavigation();(0,pi.useEffect)(()=>{t.OptionsActionSheetComponent&&c.setOptions({headerRight:()=>l(ge,{size:"sm",variant:"secondary",icon:y("MoreHorizontalIcon"),onPress:()=>Ar("AddonMoreSheet",t.OptionsActionSheetComponent)})})},[c]);var f=(0,pi.useMemo)(()=>{var S=t.items;t.resolveItem&&(S=S.map(t.resolveItem).filter(ws));var T=S.filter(C=>ws(C)&&typeof C=="object");return!r&&n&&T.sort(n),iv.default.go(r,T,{keys:t.searchKeywords,all:!0})},[t.items,n,r]),g=(0,pi.useCallback)(()=>{if(!t.installAction)return()=>{};var{label:S,onPress:T,fetchFn:C}=t.installAction;C?qo("AddonInputAlert",l(bx,{label:S??"Install",fetchFn:C})):T?.()},[]);if(f.length===0&&!r)return x(jt.View,{style:{gap:32,flexGrow:1,justifyContent:"center",alignItems:"center"},children:[x(jt.View,{style:{gap:8,alignItems:"center"},children:[l(jt.Image,{source:y("empty_quick_switcher")}),l(O,{variant:"text-lg/semibold",color:"text-normal",children:"Oops! Nothing to see here\u2026 yet!"})]}),l(X,{size:"lg",icon:y("DownloadIcon"),text:t.installAction?.label??"Install",onPress:g})]});var v=x(jt.View,{style:{paddingBottom:8},children:[D.safeMode?.enabled&&x(jt.View,{style:{marginBottom:10},children:[l(sa,{messageType:0,children:t.safeModeHint?.message}),t.safeModeHint?.footer]}),x(jt.View,{style:{flexDirection:"row",gap:8},children:[l(Ko,{style:{flexGrow:1},isRound:!!t.sortOptions,onChangeText:S=>o(S)}),t.sortOptions&&l(ge,{icon:y("ic_forum_channel_sort_order_24px"),variant:"tertiary",disabled:!!r,onPress:()=>gx({key:"AddonListSortOptions",header:{title:"Sort Options",onClose:()=>_x("AddonListSortOptions")},options:Object.entries(t.sortOptions).map(([S,T])=>({label:S,onPress:()=>i(()=>T)}))})})]}),t.ListHeaderComponent&&l(t.ListHeaderComponent,{})]});return x(Ne,{children:[l(_n,{data:f,extraData:r,estimatedItemSize:136,ListHeaderComponent:v,ListEmptyComponent:()=>x(jt.View,{style:{gap:12,padding:12,alignItems:"center"},children:[l(jt.Image,{source:y("devices_not_found")}),l(O,{variant:"text-lg/semibold",color:"text-normal",children:"Hmmm... could not find that!"})]}),contentContainerStyle:{padding:8,paddingHorizontal:12,paddingBottom:90},ItemSeparatorComponent:()=>l(jt.View,{style:{height:8}}),ListFooterComponent:t.ListFooterComponent,renderItem:({item:S})=>l(e,{item:S.obj,result:S})}),t.installAction&&l(Cc,{positionBottom:u+8,icon:y("PlusLargeIcon"),onPress:g})]})}var iv,pi,jt,gx,_x,yl=h(()=>{"use strict";a();s();W();be();He();Ra();Wo();Gf();Le();ut();Z();re();or();zn();iv=F(nv()),pi=F(Ke()),jt=F(ne()),{showSimpleActionSheet:gx,hideActionSheet:_x}=Y(()=>H("showSimpleActionSheet"))});var zf,av=h(()=>{"use strict";a();s();Z();Vr();zf=Cr({smallIcon:{tintColor:Ur.colors.LOGO_PRIMARY,height:18,width:18},badgeIcon:{tintColor:Ur.colors.LOGO_PRIMARY,height:12,width:12},badgesContainer:{flexWrap:"wrap",flexDirection:"row",gap:6,borderRadius:6,padding:4}})});function $f(){return(0,sv.default)(Ur.unsafe_rawColors.YELLOW_300).alpha(.3).hex()}function xx(){var e=zf(),{plugin:t,result:r}=gl(),o=r[0].highlight((u,c)=>l(O,{style:{backgroundColor:$f()},children:u},c)),n=t.icon&&y(t.icon),i=l(O,{numberOfLines:1,variant:"heading-lg/semibold",children:o.length?o:t.name});return x(Ir.View,{style:{flexDirection:"row",alignItems:"center",gap:6},children:[n&&l(Ir.Image,{style:e.smallIcon,source:n}),i]})}function Sx(){var{plugin:e,result:t}=gl(),r=zf();if(!e.authors)return null;var o=t[2].highlight((u,c)=>l(O,{style:{backgroundColor:$f()},children:u},c)),n=e.getBadges(),i=o.length>0?o:e.authors.map(u=>u.name).join(", ");return x(Ir.View,{style:{flexDirection:"row",flexWrap:"wrap",flexShrink:1,gap:4},children:[x(O,{variant:"text-sm/semibold",color:"text-muted",children:["by ",i]}),n.length>0&&l(Ir.View,{style:r.badgesContainer,children:n.map((u,c)=>l(Ir.Image,{source:u.source,style:r.badgeIcon},c))})]})}function wx(){var{plugin:e,result:t}=gl(),r=t[1].highlight((o,n)=>l(O,{style:{backgroundColor:$f()},children:o},n));return l(O,{variant:"text-md/medium",children:r.length?r:e.description})}function Wf({result:e,item:t}){t.usePluginState();var[,r]=React.useReducer(()=>({}),0),o=(0,hi.useMemo)(()=>({plugin:t,result:e}),[t,e]);return l(lv.Provider,{value:o,children:l(Te,{children:x(_e,{spacing:16,children:[x(Ir.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[x(Ir.View,{style:{flexShrink:1},children:[l(xx,{}),l(Sx,{})]}),l(Ir.View,{children:x(_e,{spacing:12,direction:"horizontal",children:[l(Ex,{}),l(bc,{value:t.isEnabled(),onValueChange:n=>{t.toggle(n),r()}})]})})]}),l(wx,{})]})})})}var sv,hi,Ir,lv,gl,Ex,uv=h(()=>{"use strict";a();s();W();av();be();Z();re();Wo();sv=F(ei()),hi=F(Ke()),Ir=F(ne()),lv=(0,hi.createContext)(null),gl=()=>(0,hi.useContext)(lv);Ex=()=>{var{plugin:e}=gl(),t=Ce.useNavigation();return x(Ir.View,{style:{flexDirection:"row",gap:6},children:[l(ge,{size:"sm",variant:"secondary",icon:y("WrenchIcon"),disabled:!e.getPluginSettingsComponent(),onPress:()=>t.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}),l(ge,{size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary"),onPress:()=>void Ar("PluginInfoActionSheet",e.resolveSheetComponent(),{plugin:e,navigation:t})})]})}});var Et,Rn,Q,fo=h(()=>{"use strict";a();s();ye();ke();He();Dt();Zr();to();Et=hr(Mt(vr("VENDETTA_PLUGINS"))),Rn={},Q={plugins:Et,pluginFetch(e){return w(function*(){return e.startsWith(br)&&(e=e.replace("https://bunny-mod.github.io/plugins-proxy",hn).replace(br,hn)),yield vt(e,{cache:"no-store"})})()},fetchPlugin(e){return w(function*(){e.endsWith("/")||(e+="/");var t=Et[e],r;try{r=yield(yield this.pluginFetch(e+"manifest.json")).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var o;if(t?.manifest.hash!==r.hash)try{o=yield(yield this.pluginFetch(e+(r.main||"index.js"))).text()}catch{}if(!o&&!t)throw new Error(`Failed to fetch JS for ${e}`);Et[e]={id:e,manifest:r,enabled:t?.enabled??!1,update:t?.update??!0,js:o??t.js}}).apply(this)},installPlugin(e,t=!0){return w(function*(){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in Et)throw new Error("Plugin already installed");yield this.fetchPlugin(e),t&&(yield this.startPlugin(e))}).apply(this)},evalPlugin(e){return w(function*(){var t={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:yield Mt(vr(e.id))},logger:new na(`Bunny \xBB ${e.manifest.name}`)},r=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,o=(0,eval)(r)(t),n=typeof o=="function"?o():o;return n?.default??n??{}})()},startPlugin(e){return w(function*(){e.endsWith("/")||(e+="/");var t=Et[e];if(!t)throw new Error("Attempted to start non-existent plugin");try{if(!D.safeMode?.enabled){var r=yield this.evalPlugin(t);Rn[e]=r,r.onLoad?.()}t.enabled=!0}catch(o){lt.error(`Plugin ${t.id} errored whilst loading, and will be unloaded`,o);try{Rn[t.id]?.onUnload?.()}catch(n){lt.error(`Plugin ${t.id} errored whilst unloading`,n)}delete Rn[e],t.enabled=!1}}).apply(this)},stopPlugin(e,t=!0){e.endsWith("/")||(e+="/");var r=Et[e],o=Rn[e];if(!r)throw new Error("Attempted to stop non-existent plugin");if(!D.safeMode?.enabled){try{o?.onUnload?.()}catch(n){lt.error(`Plugin ${r.id} errored whilst unloading`,n)}delete Rn[e]}t&&(r.enabled=!1)},removePlugin(e){return w(function*(){e.endsWith("/")||(e+="/");var t=Et[e];t.enabled&&this.stopPlugin(e),delete Et[e],yield Ns(e)}).apply(this)},initPlugins(){return w(function*(){yield Do(D,Et);var e=Object.keys(Et);if(!D.safeMode?.enabled){var t=this;yield d(e.filter(r=>Et[r].enabled).map(function(){var r=w(function*(o){return Et[o].update&&(yield t.fetchPlugin(o).catch(n=>lt.error(n.message))),yield t.startPlugin(o)});return function(o){return r.apply(this,arguments)}}())),e.filter(r=>!Et[r].enabled&&Et[r].update).forEach(r=>this.fetchPlugin(r))}return()=>this.stopAllPlugins()}).apply(this)},stopAllPlugins(){return Object.keys(Rn).forEach(e=>this.stopPlugin(e,!1))},getSettings:e=>Rn[e]?.settings}});function Rx(e,t=null,r=!1){if(e.guild_id===ac){var o;if(e.parent_id===sc)o="Plugin";else if(e.parent_id===oa&&wr())o="Theme";else return;var{firstMessage:n}=r?Tx(e):{firstMessage:t},i=n?.content?.match(ic)?.filter(Pa[o].urlsFilter);if(!(!i||!i[0]))return o==="Plugin"&&!i[0].endsWith("/")&&(i[0]+="/"),[o,i[0]]}}function Ax(e,t=null,r=!1){var[o,n]=Rx(e,t,r)??[];ue(Q.plugins),ue(Re);var[i,u]=React.useState(!1);if(!o||!n)return[!0];var c=!!Pa[o].storage[n],f=function(){var g=w(function*(){u(!0);try{yield Pa[o].installOrRemove(n)}catch(v){K(v.message,y("Small"))}finally{u(!1)}});return function(){return g.apply(this,arguments)}}();return[!1,o,c,i,f]}var Tx,Cx,Pa,Px,cv,fv=h(()=>{"use strict";a();s();ye();W();Me();fo();ke();kt();be();ao();et();Zr();Le();re();Pe();or();rr();({useFirstForumPostMessage:Tx}=Y(()=>H("useFirstForumPostMessage"))),Cx=M("MostCommonForumPostReaction"),Pa={Plugin:{storage:Q.plugins,urlsFilter:e=>e.startsWith(br),installOrRemove:e=>{var t=Pa.Plugin.storage[e];return t?Q.removePlugin(e):Q.installPlugin(e)}},Theme:{storage:Re,urlsFilter:e=>e.endsWith(".json"),installOrRemove:e=>{var t=Pa.Theme.storage[e];return t?wn(e):oo(e)}}};Px=()=>le("MostCommonForumPostReaction",Cx,([{thread:e,firstMessage:t}],r)=>{var[o,n,i,u,c]=Ax(e,t,!0);if(!o)return x(Jt,{children:[r,l(Ne,{children:l(X,{size:"sm",loading:u,disabled:u,variant:i?"secondary":"primary",text:i?_.UNINSTALL:_.INSTALL,onPress:c,icon:y(i?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})})]})}),cv=()=>{var e=[Px()];return()=>e.map(t=>t())}});function Qf({title:e,confirmText:t,confirmColor:r,onConfirm:o,cancelText:n,placeholder:i,initialValue:u="",secureTextEntry:c}){var[f,g]=React.useState(u),[v,S]=React.useState("");function T(){var C=Promise.resolve(o(f));C.then(()=>{mv.close()}).catch(q=>{S(q.message)})}return l(aa,{title:e,confirmText:t,confirmColor:r,isConfirmButtonDisabled:v.length!==0,onConfirm:T,cancelText:n,onCancel:()=>mv.close(),children:l(Ac,{placeholder:i,value:f,onChange:C=>{g(typeof C=="string"?C:C.text),v&&S("")},returnKeyType:"done",onSubmitEditing:T,error:v||void 0,secureTextEntry:c,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}})})}var mv,dv=h(()=>{"use strict";a();s();W();re();Pe();mv=M("openLazy","close")});function Or(e){var t=e;return t.body=e.content,delete t.content,t.isDismissable??=!0,pv.show(t)}var pv,Kf,hv,vi=h(()=>{"use strict";a();s();ye();Pe();dv();pv=M("openLazy","close");Kf=(e,t)=>pv.openLazy({importer:w(function*(){return()=>React.createElement(e,t)})}),hv=e=>Kf(Qf,e)});function vv(e){if(e.startsWith(br))return"plugin";if(e.endsWith(".json")&&wr())return"theme"}function yv(e,t){(e==="plugin"?Q.installPlugin.bind(Q):oo)(t).then(()=>{K(_.SUCCESSFULLY_INSTALLED,y("Check"))}).catch(r=>{K(r.message,y("Small"))})}var Ox,Nx,Lx,Mx,Dx,gv,_v=h(()=>{"use strict";a();s();ye();Me();vi();fo();kt();be();ao();et();Zr();Le();Z();Ji();Wn();Pe();rr();Ox=tt(Xi("showSimpleActionSheet")),Nx=M("handleClick"),{openURL:Lx}=Y(()=>Ho),{getChannelId:Mx}=Y(()=>ma),{getChannel:Dx}=Y(()=>H("getChannel"));gv=()=>{var e=new Array;return e.push(le("showSimpleActionSheet",Ox,t=>{if(t[0].key==="LongPressUrl"){var{header:{title:r},options:o}=t[0],n=vv(r);n&&o.push({label:_.INSTALL_ADDON,onPress:()=>yv(n,r)})}})),e.push(Ro("handleClick",Nx,function(){var t=w(function*(r,o){var{href:n}=r[0],i=vv(n);if(!i)return o.apply(this,r);if(i==="theme"&&Dx(Mx())?.parent_id!==oa)return o.apply(this,r);Or({title:_.HOLD_UP,content:Bt("CONFIRMATION_LINK_IS_A_TYPE",{urlType:i}),onConfirm:()=>yv(i,n),confirmText:_.INSTALL,cancelText:_.CANCEL,secondaryConfirmText:_.OPEN_IN_BROWSER,onConfirmSecondary:()=>Lx(n)})});return function(r,o){return t.apply(this,arguments)}}())),()=>e.forEach(t=>t())}});var xv={};B(xv,{default:()=>Fx});var bv,Fx,Sv=h(()=>{"use strict";a();s();bl();fv();_v();bv=[],Fx=_l({manifest:{id:"bunny.quickinstall",name:"QuickInstall",version:"1.0.0",description:"Quickly install Vendetta plugins and themes",authors:[{name:"Vendetta Team"}]},start(){bv=[cv(),gv()]},stop(){bv.forEach(e=>e())}})});var Xf={};B(Xf,{deleteJsxCreate:()=>kx,onJsxCreate:()=>qf,patchJsx:()=>Yf});function qf(e,t){Yo.has(e)||Yo.set(e,[]),Yo.get(e).push(t)}function kx(e,t){if(Yo.has(e)){var r=Yo.get(e);r.splice(r.indexOf(t),1),r.length===0&&Yo.delete(e)}}function Yf(){var e=([r],o)=>{if(typeof r=="function"&&Yo.has(r.name)){var n=Yo.get(r.name);for(var i of n){var u=i(r,o);u!==void 0&&(o=u)}return o}},t=[le("jsx",wv,e),le("jsxs",wv,e)];return()=>t.forEach(r=>r())}var Yo,wv,xl=h(()=>{"use strict";a();s();et();ut();Yo=new Map,wv=M("jsx","jsxs")});var Ev={};B(Ev,{default:()=>jx});var Sl,Bx,jx,Tv=h(()=>{"use strict";a();s();et();xl();ut();Sl=F(Ke());bl();Bx=Kn("useBadges",!1),jx=_l({manifest:{id:"bunny.badges",name:"Badges",version:"1.0.0",description:"Adds badges to user's profile",authors:[{name:"pylixonly"}]},start(){var e={},t={};qf("RenderedBadge",(r,o)=>{o.props.id.match(/bunny-\d+-\d+/)&&Object.assign(o.props,e[o.props.id])}),le("default",Bx,([r],o)=>{var[n,i]=(0,Sl.useState)(r?t[r.userId]??=[]:[]);(0,Sl.useEffect)(()=>{r&&fetch(`https://raw.githubusercontent.com/pyoncord/badges/refs/heads/main/${r.userId}.json`).then(u=>u.json()).then(u=>i(t[r.userId]=u))},[r]),r&&n.forEach((u,c)=>{e[`bunny-${r.userId}-${c}`]={source:{uri:u.url},id:`bunny-${c}`,label:u.label},o.push({id:`bunny-${r.userId}-${c}`,description:u.label,icon:"_"})})})}})});function _l(e){return e[Symbol.for("bunny.core.plugin")]=!0,e}var Cv,bl=h(()=>{"use strict";a();s();Cv=()=>({"bunny.quickinstall":(Sv(),pt(xv)),"bunny.badges":(Tv(),pt(Ev))})});var wl,mo,yi,Ia=h(()=>{"use strict";a();s();(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(wl||(wl={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(mo||(mo={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(yi||(yi={}))});var Av={};B(Av,{default:()=>Gx});function Rv(e){return"```js\n"+e.replaceAll("`","`"+Vx)+"\n```"}var Ux,Hx,Vx,Gx,Pv=h(()=>{"use strict";a();s();ye();Me();Ia();He();Z();Pe();Ux=M("inspect"),Hx=w(function*(){}).constructor,Vx="\u200B";Gx=()=>({name:"eval",description:_.COMMAND_EVAL_DESC,shouldHide:()=>D.enableEvalCommand===!0,options:[{name:"code",type:mo.STRING,description:_.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:mo.BOOLEAN,description:_.COMMAND_EVAL_OPT_ASYNC}],execute([e,t],r){return w(function*(){try{var o=Ux.inspect(t?.value?yield Hx(e.value)():eval?.(e.value)),n=o.length>2e3?o.slice(0,2e3)+"...":o;er.sendBotMessage(r.channel.id,Rv(n))}catch(i){er.sendBotMessage(r.channel.id,Rv(i?.stack??i))}})()}})});var Iv={};B(Iv,{default:()=>zx});var zx,Ov=h(()=>{"use strict";a();s();Me();Ia();uo();Z();zx=()=>({name:"debug",description:_.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:mo.BOOLEAN,description:_.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var r=Tr(),o=["**Bunny Debug Info**",`> Bunny: ${r.bunny.version} (${r.bunny.loader.name} ${r.bunny.loader.version})`,`> Discord: ${r.discord.version} (${r.discord.build})`,`> React: ${r.react.version} (RN ${r.react.nativeVersion})`,`> Hermes: ${r.hermes.version} (bcv${r.hermes.bytecodeVersion})`,`> System: ${r.os.name} ${r.os.version} ${r.os.sdk?`(SDK ${r.os.sdk})`:""}`.trimEnd(),`> Device: ${r.device.model} (${r.device.codename})`].join(`
`);e?.value?er.sendBotMessage(t.channel.id,o):er.sendMessage(t.channel.id,{content:o})}})});var Nv={};B(Nv,{default:()=>$x});var $x,Lv=h(()=>{"use strict";a();s();Me();fo();Ia();Z();$x=()=>({name:"plugins",description:_.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:mo.BOOLEAN,description:_.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var r=Object.values(Q.plugins).filter(Boolean);r.sort((u,c)=>u.manifest.name.localeCompare(c.manifest.name));var o=r.filter(u=>u.enabled).map(u=>u.manifest.name),n=r.filter(u=>!u.enabled).map(u=>u.manifest.name),i=[`**Installed Plugins (${r.length}):**`,...o.length>0?[`Enabled (${o.length}):`,"> "+o.join(", ")]:[],...n.length>0?[`Disabled (${n.length}):`,"> "+n.join(", ")]:[]].join(`
`);e?.value?er.sendBotMessage(t.channel.id,i):er.sendMessage(t.channel.id,{content:i})}})});var El={};B(El,{patchCommands:()=>Jf,registerCommand:()=>gi});function Jf(){var e=le("getBuiltInCommands",bn,([t],r)=>[...r,...Oa.filter(o=>(t instanceof Array?t.includes(o.type):t===o.type)&&o.__bunny?.shouldHide?.()!==!1)]);return[(Pv(),pt(Av)),(Ov(),pt(Iv)),(Lv(),pt(Nv))].forEach(t=>gi(t.default())),()=>{Oa=[],e()}}function gi(e){var t;try{t=bn.getBuiltInCommands(yi.CHAT,!0,!1)}catch{t=bn.getBuiltInCommands(Object.values(yi),!0,!1)}t.sort((n,i)=>parseInt(i.id)-parseInt(n.id));var r=t[t.length-1];if(e.id=(parseInt(r.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},e.applicationId??="-1",e.type??=yi.CHAT,e.inputType=wl.BUILT_IN,e.displayName??=e.name,e.untranslatedName??=e.name,e.displayDescription??=e.description,e.untranslatedDescription??=e.description,e.options)for(var o of e.options)o.displayName??=o.name,o.displayDescription??=o.description;return Ro("execute",e,(n,i)=>{Promise.resolve(i.apply(e,n)).then(u=>{u&&typeof u=="object"&&er.sendMessage(n[1].channel.id,u)}).catch(u=>{lt.error("Failed to execute command",u)})}),Oa.push(e),()=>Oa=Oa.filter(({id:n})=>n!==e.id)}var Oa,Na=h(()=>{"use strict";a();s();Ia();et();to();Z();Oa=[]});var em={};B(em,{dispatcher:()=>Tl,injectFluxInterceptor:()=>Zf,intercept:()=>Qx});function Zf(){var e=t=>{for(var r of Cl){var o=r(t);o!=null&&(o?typeof o=="object"&&(Object.assign(t,o),t[Wx]=!0):t[Mv]=!0)}return Mv in t};return(Tl._interceptors??=[]).unshift(e),()=>Tl._interceptors&&=Tl._interceptors.filter(t=>t!==e)}function Qx(e){return Cl.push(e),()=>{Cl=Cl.filter(t=>t!==e)}}var Mv,Wx,Tl,Cl,tm=h(()=>{"use strict";a();s();Z();Mv=Symbol.for("bunny.flux.blocked"),Wx=Symbol.for("bunny.flux.modified"),Tl=Sr,Cl=[]});var rm={};B(rm,{fs:()=>Ui});var Dv=h(()=>{"use strict";a();s();Eo()});var om={};B(om,{jsx:()=>Xf});var Fv=h(()=>{"use strict";a();s();xl()});var nm={};B(nm,{assets:()=>rl,commands:()=>El,debug:()=>il,flux:()=>em,native:()=>rm,patcher:()=>mn,react:()=>om,settings:()=>Ys,storage:()=>rc});var im=h(()=>{"use strict";a();s();be();Na();uo();tm();Dv();et();Fv();He();Br()});function _i(e,t){var r=(...n)=>{var i=t(...n);return e.push(i),i};for(var o in t)typeof t[o]=="function"&&(r[o]=_i(e,t[o]));return r}function kv(e){var t=new Array,r={...window.bunny,api:{...window.bunny.api,patcher:{before:_i(t,mn.before),after:_i(t,mn.after),instead:_i(t,mn.instead)},commands:{...window.bunny.api.commands,registerCommand:_i(t,gi)},flux:{...window.bunny.api.flux,intercept:_i(t,window.bunny.api.flux.intercept)}},plugin:{createStorage:()=>ko(`plugins/storage/${e}.json`),manifest:De.get(e),logger:lt}};return{object:r,disposers:t}}var Bv=h(()=>{"use strict";a();s();im();Na();Br();to();po()});var ja={};B(ja,{apiObjects:()=>gm,corePluginInstances:()=>Da,deleteRepository:()=>bm,disablePlugin:()=>Al,enablePlugin:()=>xm,getPluginSettingsComponent:()=>_m,initPlugins:()=>Em,installPlugin:()=>Sm,isCorePlugin:()=>ka,isGreaterVersion:()=>am,isPluginEnabled:()=>Rl,isPluginInstalled:()=>ir,pluginInstances:()=>zr,pluginRepositories:()=>nr,pluginSettings:()=>Ve,refreshPlugin:()=>qx,registeredPlugins:()=>De,startPlugin:()=>An,stopPlugin:()=>Il,uninstallPlugin:()=>Pl,updateAllRepository:()=>Ba,updateAndWritePlugin:()=>La,updatePlugins:()=>wm,updateRepository:()=>Ma});function qe(e,t,r){if(!e)throw new Error(`[${t}] Attempted to ${r}`)}function am(e,t){if(Zn.gt(e,t))return!0;var r=Zn.coerce(e);return r==null?!1:Zn.prerelease(e)?.includes("dev")&&Zn.eq(r,t)}function Fa(e){return"parentRepository"in e}function ka(e){return Da.has(e)}function _m(e){var t=zr.get(e);return t&&t.SettingsComponent?t.SettingsComponent:null}function ir(e){return Ve[e]!=null}function Rl(e){return!!Ve[e]?.enabled}function La(e,t,r){return sm.apply(this,arguments)}function sm(){return sm=w(function*(e,t,r){var o=yield Uv(e,`builds/${t}/manifest.json`);if(o.parentRepository=e,r){o.jsPath=`plugins/scripts/${t}.js`;var n=yield Kx(e,`builds/${t}/index.js`);yield mr(o.jsPath,n)}if(yield Zu(`plugins/manifests/${t}.json`,o),De.has(t)){var i=De.get(t);return Object.assign(i,o)}return o}),sm.apply(this,arguments)}function qx(e,t){return lm.apply(this,arguments)}function lm(){return lm=w(function*(e,t){var r=De.get(e);qe(r,e,"refresh a non-registered plugin"),qe(zr.get(e),e,"refresh a non-started plugin"),Il(e),Fa(r)&&(r=yield La(t??r.parentRepository,e,!0)),De.delete(e),De.set(e,r),yield An(e)}),lm.apply(this,arguments)}function Ma(e){return um.apply(this,arguments)}function um(){return um=w(function*(e){var t=yield Uv(e,"repo.json"),r=nr[e],o=!1;if(r)for(var i in r)t[i]||delete r[i];else{for(var n in t)if(Da.has(n))throw new Error(`Plugins can't have the same ID as any of Bunny core plugin '${n}'`);o=!0,nr[e]=t}var u=Object.keys(t).filter(v=>!v.startsWith("$"));yield Promise.all(u.map(function(){var v=w(function*(S){if(!r||!r[S]||t[S].alwaysFetch||am(t[S].version,r[S].version))o=!0,nr[e][S]=t[S],yield La(e,S,!!(r&&Ve[S]));else{var T=yield Fs(`plugins/manifests/${S}.json`);T||(yield La(e,S,!!(r&&Ve[S])))}});return function(S){return v.apply(this,arguments)}}()));for(var c of u){var f=tc(`plugins/manifests/${c}.json`);if(f!==void 0){var g=De.get(c);g&&!am(f.version,g.version)||De.set(c,f)}}return o}),um.apply(this,arguments)}function bm(e){return cm.apply(this,arguments)}function cm(){return cm=w(function*(e){qe(e!==vn,e,"delete the official repository"),qe(nr[e],e,"delete a non-registered repository");var t=[];for(var[r,o]of De)!Fa(o)||o.parentRepository!==e||(ir(r)&&t.push(Pl(r)),t.push(ks(`plugins/manifests/${r}.json`)),De.delete(r));delete nr[e],yield Promise.all(t),Ba()}),cm.apply(this,arguments)}function xm(e,t){return fm.apply(this,arguments)}function fm(){return fm=w(function*(e,t){qe(ir(e),e,"enable a non-installed plugin"),t&&(yield An(e)),Ve[e].enabled=!0}),fm.apply(this,arguments)}function Al(e){qe(ir(e),e,"disable a non-installed plugin"),zr.has(e)&&Il(e),Ve[e].enabled=!1}function Sm(e,t){return mm.apply(this,arguments)}function mm(){return mm=w(function*(e,t){var r=De.get(e);qe(r,e,"install an non-registered plugin"),qe(!ir(e),e,"install an already installed plugin"),qe(Fa(r),e,"install a core plugin"),yield La(r.parentRepository,e,!0),Ve[e]={enabled:!0},t&&An(e)}),mm.apply(this,arguments)}function Pl(e){return dm.apply(this,arguments)}function dm(){return dm=w(function*(e){var t=De.get(e);qe(t,e,"uninstall an unregistered plugin"),qe(ir(e),e,"uninstall a non-installed plugin"),qe(Fa(t),e,"uninstall a core plugin"),zr.has(e)&&Il(e),delete Ve[e],yield ks(`plugins/storage/${e}.json`),yield cn(`plugins/scripts/${e}.js`)}),dm.apply(this,arguments)}function An(e){return pm.apply(this,arguments)}function pm(){return pm=w(function*(e,{throwIfDisabled:t=!1,disableWhenThrown:r=!0}={}){var o=De.get(e);qe(o,e,"start a non-registered plugin"),qe(ir(e),e,"start a non-installed plugin"),qe(!t||Ve[e]?.enabled,e,"start a disabled plugin"),qe(!zr.has(e),e,"start an already started plugin"),yield Fs(`plugins/storage/${e}.json`);var n;if(Fa(o)){try{var i=yield fn(o.jsPath),u=globalEvalWithSourceUrl(`(bunny,definePlugin)=>{${i};return plugin?.default ?? plugin;}`,`bunny-plugin/${e}-${o.version}`)}catch(f){throw new Error("An error occured while parsing plugin's code, possibly a syntax error?",{cause:f})}try{var c=kv(e);if(n=u(c.object,f=>Object.assign(f,{manifest:o})),!n)throw new Error(`Plugin '${e}' does not export a valid plugin instance`);gm.set(e,c),zr.set(e,n)}catch(f){throw new Error("An error occured while instantiating plugin's code",{cause:f})}}else n=Da.get(e),qe(n,e,"start a non-existent core plugin"),zr.set(e,n);try{n.start?.(),Ve[e].enabled=!0}catch(f){throw r&&Al(e),new Error("An error occured while starting the plugin",{cause:f})}}),pm.apply(this,arguments)}function Il(e){var t=zr.get(e);qe(t,e,"stop a non-started plugin"),t.stop?.();var r=gm.get(e);r?.disposers.forEach(o=>o()),zr.delete(e)}function Ba(){return hm.apply(this,arguments)}function hm(){return hm=w(function*(){try{yield Ma(vn)}catch(e){console.error("Failed to update official plugins repository",e)}yield d(Object.keys(nr).map(function(){var e=w(function*(t){t!==vn&&(yield Ma(t))});return function(t){return e.apply(this,arguments)}}()))}),hm.apply(this,arguments)}function wm(){return vm.apply(this,arguments)}function vm(){return vm=w(function*(){yield Yn(nr,Ve);var e=Cv();for(var t in e){var{default:r,preenabled:o}=e[t];Ve[t]??={enabled:o??!0},De.set(t,r.manifest),Da.set(t,r)}yield Ba()}),vm.apply(this,arguments)}function Em(){return ym.apply(this,arguments)}function ym(){return ym=w(function*(){yield Yn(nr,Ve),yield d([...De.keys()].map(function(){var e=w(function*(t){Rl(t)&&(yield An(t))});return function(t){return e.apply(this,arguments)}}()))}),ym.apply(this,arguments)}var Da,De,zr,gm,nr,Ve,jv,Kx,Uv,po=h(()=>{"use strict";a();s();ye();bl();Eo();Br();Dt();Zr();Z();Bv();Da=new Map,De=new Map,zr=new Map,gm=new Map,nr=ko("plugins/repositories.json"),Ve=ko("plugins/settings.json"),jv=(e,t)=>vt(new URL(t,e),{cache:"no-store"}),Kx=(e,t)=>jv(e,t).then(r=>r.text()),Uv=(e,t)=>jv(e,t).then(r=>r.json())});var Tm,Hv=h(()=>{"use strict";a();s();Pe();Tm=dn("UserStore")});function Cm({plugin:e}){var t=Mc.useStateFromStoresArray([Tm],()=>(e.authors?.forEach(u=>u.id&&Xx(u.id)),e.authors?.map(u=>Tm.getUser(u.id)))),{authors:r}=e,o=[];if(r){var n=function(u){o.push(l(O,{onPress:()=>Yx({userId:u.id}),variant:"text-md/medium",children:u.name})),o.push(", ")};for(var i of r)n(i);o.pop()}return x(Ua.View,{style:{gap:4},children:[l(Ua.View,{children:l(O,{variant:"heading-xl/semibold",children:e.name})}),l(Ua.View,{style:{flexDirection:"row",flexShrink:1},children:r?.length&&x(Ua.View,{style:{flexDirection:"row",gap:8,alignItems:"center",paddingVertical:4,paddingHorizontal:8,backgroundColor:"#00000016",borderRadius:32},children:[t.length&&l(wc,{size:"xxsmall",names:e.authors?.map(u=>u.name),totalCount:e.authors?.length,children:t.map(u=>l(Tc,{size:"xxsmall",user:u}))}),l(O,{variant:"text-md/medium",children:o})]})})]})}var Ua,Yx,Xx,Vv=h(()=>{"use strict";a();s();W();Le();ut();Z();re();Hv();Ua=F(ne()),Yx=We("showUserProfileActionSheet"),{getUser:Xx}=Y(()=>H("getUser","fetchProfile"))});var zv={};B(zv,{default:()=>Gv});function Rm(e){var{onPress:t}=e;return e.onPress&&=()=>{Gr("PluginInfoActionSheet"),t?.()},l(ge,{...e})}function Gv({plugin:e,navigation:t}){return e.usePluginState(),l(xt,{children:x(Ha.ScrollView,{contentContainerStyle:{gap:12,marginBottom:12},children:[x(Ha.View,{style:{flexDirection:"row",alignItems:"center",gap:8,paddingVertical:24,justifyContent:"space-between",width:"100%"},children:[l(Cm,{plugin:e}),l(Ec,{items:[{label:"Details",iconSource:y("CircleInformationIcon-primary"),action:()=>{}},{label:"Clear Data",iconSource:y("CopyIcon"),variant:"destructive",action:()=>{}},{label:"Uninstall",iconSource:y("TrashIcon"),variant:"destructive",action:()=>{}}],children:r=>l(ge,{...r,icon:y("MoreHorizontalIcon"),variant:"secondary",size:"sm"})})]}),x(Ha.View,{style:{flexDirection:"row",justifyContent:"space-around",alignContent:"center"},children:[l(Rm,{label:"Configure",variant:"secondary",disabled:!e.getPluginSettingsComponent(),icon:y("WrenchIcon"),onPress:()=>{t.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}}),l(Rm,{label:"Refetch",variant:"secondary",icon:y("RetryIcon"),onPress:()=>{An(e.id)}}),l(Rm,{label:"Copy URL",variant:"secondary",icon:y("LinkIcon"),onPress:()=>{}})]}),x(Te,{children:[l(O,{variant:"text-md/semibold",color:"text-primary",style:{marginBottom:4},children:"Description"}),l(O,{variant:"text-md/medium",children:e.description})]})]})})}var Ha,$v=h(()=>{"use strict";a();s();W();po();be();Wo();re();Ha=F(ne());Vv()});function Am(e){return{id:e.id,name:e.display.name,description:e.display.description,authors:e.display.authors,getBadges(){return[{source:{uri:ci}}]},isEnabled:()=>Rl(e.id),isInstalled:()=>e.id in Ve,usePluginState(){Jr([Ve])},toggle(t){try{t?xm(e.id,!0):Al(e.id)}catch(r){console.error(r)}},resolveSheetComponent(){return Promise.resolve().then(()=>($v(),zv))},getPluginSettingsComponent(){return _m(e.id)}}}var Wv=h(()=>{"use strict";a();s();hl();po();Br()});var Kv={};B(Kv,{default:()=>Qv});function Qv({plugin:e,navigation:t}){e.usePluginState();var r=Q.plugins[e.id],o=e.getPluginSettingsComponent();return l(xt,{children:x(Va.ScrollView,{children:[x(Va.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[l(O,{variant:"heading-xl/semibold",children:e.name}),l(Va.View,{style:{marginLeft:"auto"},children:o&&l(X,{size:"md",text:"Configure",variant:"secondary",icon:y("WrenchIcon"),onPress:()=>{Gr("PluginInfoActionSheet"),t.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:o})}})})]}),x(Bo.Group,{children:[l(Bo,{label:_.REFETCH,icon:l(I.Icon,{source:y("RetryIcon")}),onPress:w(function*(){r.enabled&&Q.stopPlugin(e.id,!1);try{yield Q.fetchPlugin(e.id),K(_.PLUGIN_REFETCH_SUCCESSFUL,y("toast_image_saved"))}catch{K(_.PLUGIN_REFETCH_FAILED,y("Small"))}r.enabled&&(yield Q.startPlugin(e.id)),Gr("PluginInfoActionSheet")})}),l(Bo,{label:_.COPY_URL,icon:l(I.Icon,{source:y("copy")}),onPress:()=>{Ue.setString(e.id),K.showCopyToClipboard()}}),l(Bo,{label:r.update?_.DISABLE_UPDATES:_.ENABLE_UPDATES,icon:l(I.Icon,{source:y("ic_download_24px")}),onPress:()=>{r.update=!r.update,K(Bt("TOASTS_PLUGIN_UPDATE",{update:r.update,name:e.name}),y("toast_image_saved"))}}),l(Bo,{label:_.CLEAR_DATA,icon:l(I.Icon,{source:y("ic_duplicate")}),onPress:()=>Or({title:_.HOLD_UP,content:Bt("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.name}),confirmText:_.CLEAR,cancelText:_.CANCEL,confirmColor:"red",onConfirm:w(function*(){r.enabled&&Q.stopPlugin(e.id,!1);try{yield Q.fetchPlugin(e.id),K(_.PLUGIN_REFETCH_SUCCESSFUL,y("toast_image_saved"))}catch{K(_.PLUGIN_REFETCH_FAILED,y("Small"))}var n;try{Ns(e.id),n=["CLEAR_DATA_SUCCESSFUL","trash"]}catch{n=["CLEAR_DATA_FAILED","Small"]}K(Bt(n[0],{name:e.name}),y(n[1])),r.enabled&&(yield Q.startPlugin(e.id)),Gr("PluginInfoActionSheet")})})}),l(Bo,{label:_.DELETE,icon:l(I.Icon,{source:y("ic_message_delete")}),onPress:()=>Or({title:_.HOLD_UP,content:Bt("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.name}),confirmText:_.DELETE,cancelText:_.CANCEL,confirmColor:"red",onConfirm:()=>{try{Q.removePlugin(e.id)}catch(n){K(String(n),y("Small"))}Gr("PluginInfoActionSheet")}})})]})]})})}var Va,qv=h(()=>{"use strict";a();s();ye();W();Me();vi();fo();ke();be();Z();re();Wo();rr();Va=F(ne())});function Pm(e){return{id:e.id,name:e.manifest.name,description:e.manifest.description,authors:e.manifest.authors,icon:e.manifest.vendetta?.icon,getBadges(){return[]},isEnabled:()=>e.enabled,isInstalled:()=>!!(e&&Q.plugins[e.id]),usePluginState(){ue(Q.plugins[e.id])},toggle(t){t?Q.startPlugin(e.id):Q.stopPlugin(e.id)},resolveSheetComponent(){return Promise.resolve().then(()=>(qv(),Kv))},getPluginSettingsComponent(){return Q.getSettings(e.id)}}}var Yv=h(()=>{"use strict";a();s();fo();ke()});var ar,Pn=h(()=>{a();s();Ze();at();ar=function(){"use strict";function e(){J(this,e),this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}return te(e,[{key:"subscribe",value:function(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}},{key:"hasListeners",value:function(){return this.listeners.size>0}},{key:"onSubscribe",value:function(){}},{key:"onUnsubscribe",value:function(){}}]),e}()});function ct(){}function Zv(e,t){return typeof e=="function"?e(t):e}function Ga(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ol(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Xo(e,t){return typeof e=="function"?e(t):e}function Ut(e,t){return typeof e=="function"?e(t):e}function Om(e,t){var{type:r="all",exact:o,fetchStatus:n,predicate:i,queryKey:u,stale:c}=e;if(u){if(o){if(t.queryHash!==za(u,t.options))return!1}else if(!bi(t.queryKey,u))return!1}if(r!=="all"){var f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||n&&n!==t.state.fetchStatus||i&&!i(t))}function Nm(e,t){var{exact:r,status:o,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ho(t.options.mutationKey)!==ho(i))return!1}else if(!bi(t.options.mutationKey,i))return!1}return!(o&&t.state.status!==o||n&&!n(t))}function za(e,t){var r=t?.queryKeyHashFn||ho;return r(e)}function ho(e){return JSON.stringify(e,(t,r)=>Im(r)?Object.keys(r).sort().reduce((o,n)=>(o[n]=r[n],o),{}):r)}function bi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!bi(e[r],t[r])):!1}function ey(e,t){if(e===t)return e;var r=Xv(e)&&Xv(t);if(r||Im(e)&&Im(t)){for(var o=r?e:Object.keys(e),n=o.length,i=r?t:Object.keys(t),u=i.length,c=r?[]:{},f=0,g=0;g<u;g++){var v=r?g:i[g];(!r&&o.includes(v)||r)&&e[v]===void 0&&t[v]===void 0?(c[v]=void 0,f++):(c[v]=ey(e[v],t[v]),c[v]===e[v]&&e[v]!==void 0&&f++)}return n===u&&f===n?e:c}return t}function xi(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function Xv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Im(e){if(!Jv(e))return!1;var t=e.constructor;if(t===void 0)return!0;var r=t.prototype;return!(!Jv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Jv(e){return Object.prototype.toString.call(e)==="[object Object]"}function ty(e){return new Promise(t=>{setTimeout(t,e)})}function $a(e,t,r){if(typeof r.structuralSharing=="function")return r.structuralSharing(e,t);if(r.structuralSharing!==!1){if(0)try{}catch(o){}return ey(e,t)}return t}function ry(e,t,r=0){var o=[...e,t];return r&&o.length>r?o.slice(1):o}function oy(e,t,r=0){var o=[t,...e];return r&&o.length>r?o.slice(0,-1):o}function Nl(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Lm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Nr,Lm,sr=h(()=>{a();s();Nr=typeof window>"u"||"Deno"in globalThis;Lm=Symbol()});var Si,In,Wa,Jx,wi,Ll=h(()=>{a();s();Nt();Ze();yr();gr();_r();at();Lt();Pn();sr();Jx=(Si=new WeakMap,In=new WeakMap,Wa=new WeakMap,function(e){"use strict";we(t,e);function t(){J(this,t);var r;return r=Se(this,t),k(r,Si,{writable:!0,value:void 0}),k(r,In,{writable:!0,value:void 0}),k(r,Wa,{writable:!0,value:void 0}),A(r,Wa,o=>{if(!Nr&&window.addEventListener){var n=()=>o();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}),r}return te(t,[{key:"onSubscribe",value:function(){m(this,In)||this.setEventListener(m(this,Wa))}},{key:"onUnsubscribe",value:function(){var o,n,i;this.hasListeners()||((o=m(i=n=this,In))===null||o===void 0||o.call(n),A(this,In,void 0))}},{key:"setEventListener",value:function(o){var n,i,u;A(this,Wa,o),(n=m(u=i=this,In))===null||n===void 0||n.call(i),A(this,In,o(c=>{typeof c=="boolean"?this.setFocused(c):this.onFocus()}))}},{key:"setFocused",value:function(o){var n=m(this,Si)!==o;n&&(A(this,Si,o),this.onFocus())}},{key:"onFocus",value:function(){var o=this.isFocused();this.listeners.forEach(n=>{n(o)})}},{key:"isFocused",value:function(){return typeof m(this,Si)=="boolean"?m(this,Si):globalThis.document?.visibilityState!=="hidden"}}]),t}(ar)),wi=new Jx});var Qa,On,Ka,Zx,Ei,Mm=h(()=>{a();s();Nt();Ze();yr();gr();_r();at();Lt();Pn();sr();Zx=(Qa=new WeakMap,On=new WeakMap,Ka=new WeakMap,function(e){"use strict";we(t,e);function t(){J(this,t);var r;return r=Se(this,t),k(r,Qa,{writable:!0,value:!0}),k(r,On,{writable:!0,value:void 0}),k(r,Ka,{writable:!0,value:void 0}),A(r,Ka,o=>{if(!Nr&&window.addEventListener){var n=()=>o(!0),i=()=>o(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}}),r}return te(t,[{key:"onSubscribe",value:function(){m(this,On)||this.setEventListener(m(this,Ka))}},{key:"onUnsubscribe",value:function(){var o,n,i;this.hasListeners()||((o=m(i=n=this,On))===null||o===void 0||o.call(n),A(this,On,void 0))}},{key:"setEventListener",value:function(o){var n,i,u;A(this,Ka,o),(n=m(u=i=this,On))===null||n===void 0||n.call(i),A(this,On,o(this.setOnline.bind(this)))}},{key:"setOnline",value:function(o){var n=m(this,Qa)!==o;n&&(A(this,Qa,o),this.listeners.forEach(i=>{i(o)}))}},{key:"isOnline",value:function(){return m(this,Qa)}}]),t}(ar)),Ei=new Zx});function eS(e){return Math.min(1e3*2**e,3e4)}function Dm(e){return(e??"online")==="online"?Ei.isOnline():!0}function Ml(e){return e instanceof ny}function Dl(e){var t=!1,r=0,o=!1,n,i,u,c=new Promise((ie,Ge)=>{i=ie,u=Ge}),f=ie=>{o||(q(new ny(ie)),e.abort?.())},g=()=>{t=!0},v=()=>{t=!1},S=()=>wi.isFocused()&&(e.networkMode==="always"||Ei.isOnline())&&e.canRun(),T=()=>Dm(e.networkMode)&&e.canRun(),C=ie=>{o||(o=!0,e.onSuccess?.(ie),n?.(),i(ie))},q=ie=>{o||(o=!0,e.onError?.(ie),n?.(),u(ie))},$=()=>new Promise(ie=>{n=Ge=>{(o||S())&&ie(Ge)},e.onPause?.()}).then(()=>{n=void 0,o||e.onContinue?.()}),_t=()=>{if(!o){var ie,Ge=r===0?e.initialPromise:void 0;try{ie=Ge??e.fn()}catch(he){ie=Promise.reject(he)}Promise.resolve(ie).then(C).catch(he=>{if(!o){var ft=e.retry??(Nr?0:3),je=e.retryDelay??eS,Ae=typeof je=="function"?je(r,he):je,mt=ft===!0||typeof ft=="number"&&r<ft||typeof ft=="function"&&ft(r,he);if(t||!mt){q(he);return}r++,e.onFail?.(r,he),ty(Ae).then(()=>S()?void 0:$()).then(()=>{t?q(he):_t()})}})}};return{promise:c,cancel:f,continue:()=>(n?.(),c),cancelRetry:g,continueRetry:v,canStart:T,start:()=>(T()?_t():$().then(_t),c)}}var ny,Fm=h(()=>{a();s();Nt();Ze();Lt();_u();Ll();Mm();sr();ny=function(e){"use strict";we(t,e);function t(r){J(this,t);var o;return o=Se(this,t,["CancelledError"]),o.revert=r?.revert,o.silent=r?.silent,o}return t}(Gn(Error))});function z(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}var qa=h(()=>{a();s()});function nt(e,t){Ms(e,t),t.add(e)}var Ya=h(()=>{a();s();Wu()});function iy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=dr(e),e!==null););return e}var ay=h(()=>{a();s();Hi()});function Xa(e,t,r){return typeof Reflect<"u"&&Reflect.get?Xa=Reflect.get:Xa=function(n,i,u){var c=iy(n,i);if(c){var f=Object.getOwnPropertyDescriptor(c,i);return f.get?f.get.call(u||n):f.value}},Xa(e,t,r||e)}var sy=h(()=>{a();s();ay()});function tS(){var e=[],t=0,r=c=>{c()},o=c=>{c()},n=c=>setTimeout(c,0),i=c=>{t?e.push(c):n(()=>{r(c)})},u=()=>{var c=e;e=[],c.length&&n(()=>{o(()=>{c.forEach(f=>{r(f)})})})};return{batch:c=>{var f;t++;try{f=c()}finally{t--,t||u()}return f},batchCalls:c=>(...f)=>{i(()=>{c(...f)})},schedule:i,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{o=c},setScheduler:c=>{n=c}}}var pe,vo=h(()=>{a();s();pe=tS()});var Ti,Fl,km=h(()=>{a();s();Ze();yr();gr();_r();at();sr();Fl=(Ti=new WeakMap,function(){"use strict";function e(){J(this,e),k(this,Ti,{writable:!0,value:void 0})}return te(e,[{key:"destroy",value:function(){this.clearGcTimeout()}},{key:"scheduleGc",value:function(){this.clearGcTimeout(),Ga(this.gcTime)&&A(this,Ti,setTimeout(()=>{this.optionalRemove()},this.gcTime))}},{key:"updateGcTime",value:function(r){this.gcTime=Math.max(this.gcTime||0,r??(Nr?1/0:5*60*1e3))}},{key:"clearGcTimeout",value:function(){m(this,Ti)&&(clearTimeout(m(this,Ti)),A(this,Ti,void 0))}}]),e}())});function Bm(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Dm(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function rS(e){var t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,o=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Jo(e){var t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Bm(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":var o=e.error;return Ml(o)&&o.revert&&m(this,Za)?{...m(this,Za),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),pe.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),m(this,Lr).notify({query:this,type:"updated",action:e})})}var Ja,Za,Lr,gt,kl,Ci,$r,ly,uy,jm=h(()=>{a();s();Nt();Ze();yr();gr();_r();qa();Ya();at();sy();Hi();Lt();sr();vo();Fm();km();uy=(Ja=new WeakMap,Za=new WeakMap,Lr=new WeakMap,gt=new WeakMap,kl=new WeakMap,Ci=new WeakMap,$r=new WeakSet,ly=function(e){"use strict";we(t,e);function t(r){J(this,t);var o;return o=Se(this,t),nt(o,$r),k(o,Ja,{writable:!0,value:void 0}),k(o,Za,{writable:!0,value:void 0}),k(o,Lr,{writable:!0,value:void 0}),k(o,gt,{writable:!0,value:void 0}),k(o,kl,{writable:!0,value:void 0}),k(o,Ci,{writable:!0,value:void 0}),A(o,Ci,!1),A(o,kl,r.defaultOptions),o.setOptions(r.options),o.observers=[],A(o,Lr,r.cache),o.queryKey=r.queryKey,o.queryHash=r.queryHash,A(o,Ja,rS(o.options)),o.state=r.state??m(o,Ja),o.scheduleGc(),o}return te(t,[{key:"meta",get:function(){return this.options.meta}},{key:"promise",get:function(){return m(this,gt)?.promise}},{key:"setOptions",value:function(o){this.options={...m(this,kl),...o},this.updateGcTime(this.options.gcTime)}},{key:"optionalRemove",value:function(){!this.observers.length&&this.state.fetchStatus==="idle"&&m(this,Lr).remove(this)}},{key:"setData",value:function(o,n){var i=$a(this.state.data,o,this.options);return z(this,$r,Jo).call(this,{data:i,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),i}},{key:"setState",value:function(o,n){z(this,$r,Jo).call(this,{type:"setState",state:o,setStateOptions:n})}},{key:"cancel",value:function(o){var n=m(this,gt)?.promise;return m(this,gt)?.cancel(o),n?n.then(ct).catch(ct):Promise.resolve()}},{key:"destroy",value:function(){Xa(dr(t.prototype),"destroy",this).call(this),this.cancel({silent:!0})}},{key:"reset",value:function(){this.destroy(),this.setState(m(this,Ja))}},{key:"isActive",value:function(){return this.observers.some(o=>Ut(o.options.enabled,this)!==!1)}},{key:"isDisabled",value:function(){return this.getObserversCount()>0&&!this.isActive()}},{key:"isStale",value:function(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(o=>o.getCurrentResult().isStale):this.state.data===void 0}},{key:"isStaleByTime",value:function(o=0){return this.state.isInvalidated||this.state.data===void 0||!Ol(this.state.dataUpdatedAt,o)}},{key:"onFocus",value:function(){var o=this.observers.find(n=>n.shouldFetchOnWindowFocus());o?.refetch({cancelRefetch:!1}),m(this,gt)?.continue()}},{key:"onOnline",value:function(){var o=this.observers.find(n=>n.shouldFetchOnReconnect());o?.refetch({cancelRefetch:!1}),m(this,gt)?.continue()}},{key:"addObserver",value:function(o){this.observers.includes(o)||(this.observers.push(o),this.clearGcTimeout(),m(this,Lr).notify({type:"observerAdded",query:this,observer:o}))}},{key:"removeObserver",value:function(o){this.observers.includes(o)&&(this.observers=this.observers.filter(n=>n!==o),this.observers.length||(m(this,gt)&&(m(this,Ci)?m(this,gt).cancel({revert:!0}):m(this,gt).cancelRetry()),this.scheduleGc()),m(this,Lr).notify({type:"observerRemoved",query:this,observer:o}))}},{key:"getObserversCount",value:function(){return this.observers.length}},{key:"invalidate",value:function(){this.state.isInvalidated||z(this,$r,Jo).call(this,{type:"invalidate"})}},{key:"fetch",value:function(o,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(m(this,gt))return m(this,gt).continueRetry(),m(this,gt).promise}if(o&&this.setOptions(o),!this.options.queryFn){var i=this.observers.find(S=>S.options.queryFn);i&&this.setOptions(i.options)}var u=new AbortController,c=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(A(this,Ci,!0),u.signal)})},f=()=>{var S=Nl(this.options,n),T={queryKey:this.queryKey,meta:this.meta};return c(T),A(this,Ci,!1),this.options.persister?this.options.persister(S,T,this):S(T)},g={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:f};c(g),this.options.behavior?.onFetch(g,this),A(this,Za,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==g.fetchOptions?.meta)&&z(this,$r,Jo).call(this,{type:"fetch",meta:g.fetchOptions?.meta});var v=S=>{Ml(S)&&S.silent||z(this,$r,Jo).call(this,{type:"error",error:S}),Ml(S)||(m(this,Lr).config.onError?.(S,this),m(this,Lr).config.onSettled?.(this.state.data,S,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return A(this,gt,Dl({initialPromise:n?.initialPromise,fn:g.fetchFn,abort:u.abort.bind(u),onSuccess:S=>{if(S===void 0){v(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(S)}catch(T){v(T);return}m(this,Lr).config.onSuccess?.(S,this),m(this,Lr).config.onSettled?.(S,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:v,onFail:(S,T)=>{z(this,$r,Jo).call(this,{type:"failed",failureCount:S,error:T})},onPause:()=>{z(this,$r,Jo).call(this,{type:"pause"})},onContinue:()=>{z(this,$r,Jo).call(this,{type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode,canRun:()=>!0})),m(this,gt).start()}}]),t}(Fl),ly)});var yo,cy,fy=h(()=>{a();s();Nt();Ze();yr();gr();_r();at();Lt();sr();jm();vo();Pn();cy=(yo=new WeakMap,function(e){"use strict";we(t,e);function t(r={}){J(this,t);var o;return o=Se(this,t),k(o,yo,{writable:!0,value:void 0}),o.config=r,A(o,yo,new Map),o}return te(t,[{key:"build",value:function(o,n,i){var u=n.queryKey,c=n.queryHash??za(u,n),f=this.get(c);return f||(f=new uy({cache:this,queryKey:u,queryHash:c,options:o.defaultQueryOptions(n),state:i,defaultOptions:o.getQueryDefaults(u)}),this.add(f)),f}},{key:"add",value:function(o){m(this,yo).has(o.queryHash)||(m(this,yo).set(o.queryHash,o),this.notify({type:"added",query:o}))}},{key:"remove",value:function(o){var n=m(this,yo).get(o.queryHash);n&&(o.destroy(),n===o&&m(this,yo).delete(o.queryHash),this.notify({type:"removed",query:o}))}},{key:"clear",value:function(){pe.batch(()=>{this.getAll().forEach(o=>{this.remove(o)})})}},{key:"get",value:function(o){return m(this,yo).get(o)}},{key:"getAll",value:function(){return[...m(this,yo).values()]}},{key:"find",value:function(o){var n={exact:!0,...o};return this.getAll().find(i=>Om(n,i))}},{key:"findAll",value:function(o={}){var n=this.getAll();return Object.keys(o).length>0?n.filter(i=>Om(o,i)):n}},{key:"notify",value:function(o){pe.batch(()=>{this.listeners.forEach(n=>{n(o)})})}},{key:"onFocus",value:function(){pe.batch(()=>{this.getAll().forEach(o=>{o.onFocus()})})}},{key:"onOnline",value:function(){pe.batch(()=>{this.getAll().forEach(o=>{o.onOnline()})})}}]),t}(ar))});function my(e,t){if(t.set){if(!t.get)throw new TypeError("attempted to read set only private field");return"__destrWrapper"in t||(t.__destrWrapper={set value(r){t.set.call(e,r)},get value(){return t.get.call(e)}}),t.__destrWrapper}else{if(!t.writable)throw new TypeError("attempted to set read only private field");return t}}var dy=h(()=>{a();s()});function es(e,t){var r=qn(e,t,"update");return my(e,r)}var Um=h(()=>{a();s();dy();Ls()});function Hm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}function Nn(e){var t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),pe.batch(()=>{m(this,_o).forEach(r=>{r.onMutationUpdate(e)}),m(this,Tt).notify({mutation:this,type:"updated",action:e})})}var _o,Tt,Ri,go,py,hy,Vm=h(()=>{a();s();ye();Nt();Ze();yr();gr();_r();qa();Ya();at();Lt();vo();km();Fm();hy=(_o=new WeakMap,Tt=new WeakMap,Ri=new WeakMap,go=new WeakSet,py=function(e){"use strict";we(t,e);function t(r){J(this,t);var o;return o=Se(this,t),nt(o,go),k(o,_o,{writable:!0,value:void 0}),k(o,Tt,{writable:!0,value:void 0}),k(o,Ri,{writable:!0,value:void 0}),o.mutationId=r.mutationId,A(o,Tt,r.mutationCache),A(o,_o,[]),o.state=r.state||Hm(),o.setOptions(r.options),o.scheduleGc(),o}return te(t,[{key:"setOptions",value:function(o){this.options=o,this.updateGcTime(this.options.gcTime)}},{key:"meta",get:function(){return this.options.meta}},{key:"addObserver",value:function(o){m(this,_o).includes(o)||(m(this,_o).push(o),this.clearGcTimeout(),m(this,Tt).notify({type:"observerAdded",mutation:this,observer:o}))}},{key:"removeObserver",value:function(o){A(this,_o,m(this,_o).filter(n=>n!==o)),this.scheduleGc(),m(this,Tt).notify({type:"observerRemoved",mutation:this,observer:o})}},{key:"optionalRemove",value:function(){m(this,_o).length||(this.state.status==="pending"?this.scheduleGc():m(this,Tt).remove(this))}},{key:"continue",value:function(){return m(this,Ri)?.continue()??this.execute(this.state.variables)}},{key:"execute",value:function(o){var n=this;return w(function*(){A(n,Ri,Dl({fn:()=>n.options.mutationFn?n.options.mutationFn(o):Promise.reject(new Error("No mutationFn found")),onFail:(g,v)=>{z(n,go,Nn).call(n,{type:"failed",failureCount:g,error:v})},onPause:()=>{z(n,go,Nn).call(n,{type:"pause"})},onContinue:()=>{z(n,go,Nn).call(n,{type:"continue"})},retry:n.options.retry??0,retryDelay:n.options.retryDelay,networkMode:n.options.networkMode,canRun:()=>m(n,Tt).canRun(n)}));var i=n.state.status==="pending",u=!m(n,Ri).canStart();try{if(!i){z(n,go,Nn).call(n,{type:"pending",variables:o,isPaused:u}),yield m(n,Tt).config.onMutate?.(o,n);var c=yield n.options.onMutate?.(o);c!==n.state.context&&z(n,go,Nn).call(n,{type:"pending",context:c,variables:o,isPaused:u})}var f=yield m(n,Ri).start();return yield m(n,Tt).config.onSuccess?.(f,o,n.state.context,n),yield n.options.onSuccess?.(f,o,n.state.context),yield m(n,Tt).config.onSettled?.(f,null,n.state.variables,n.state.context,n),yield n.options.onSettled?.(f,null,o,n.state.context),z(n,go,Nn).call(n,{type:"success",data:f}),f}catch(g){try{throw yield m(n,Tt).config.onError?.(g,o,n.state.context,n),yield n.options.onError?.(g,o,n.state.context),yield m(n,Tt).config.onSettled?.(void 0,g,n.state.variables,n.state.context,n),yield n.options.onSettled?.(void 0,g,o,n.state.context),g}finally{z(n,go,Nn).call(n,{type:"error",error:g})}}finally{m(n,Tt).runNext(n)}})()}}]),t}(Fl),py)});function jl(e){return e.options.scope?.id??String(e.mutationId)}var lr,Bl,vy,yy=h(()=>{a();s();Nt();Ze();yr();gr();_r();Um();at();Lt();vo();Vm();sr();Pn();vy=(lr=new WeakMap,Bl=new WeakMap,function(e){"use strict";we(t,e);function t(r={}){J(this,t);var o;return o=Se(this,t),k(o,lr,{writable:!0,value:void 0}),k(o,Bl,{writable:!0,value:void 0}),o.config=r,A(o,lr,new Map),A(o,Bl,Date.now()),o}return te(t,[{key:"build",value:function(o,n,i){var u=new hy({mutationCache:this,mutationId:++es(this,Bl).value,options:o.defaultMutationOptions(n),state:i});return this.add(u),u}},{key:"add",value:function(o){var n=jl(o),i=m(this,lr).get(n)??[];i.push(o),m(this,lr).set(n,i),this.notify({type:"added",mutation:o})}},{key:"remove",value:function(o){var n=jl(o);if(m(this,lr).has(n)){var i=m(this,lr).get(n)?.filter(u=>u!==o);i&&(i.length===0?m(this,lr).delete(n):m(this,lr).set(n,i))}this.notify({type:"removed",mutation:o})}},{key:"canRun",value:function(o){var n=m(this,lr).get(jl(o))?.find(i=>i.state.status==="pending");return!n||n===o}},{key:"runNext",value:function(o){var n=m(this,lr).get(jl(o))?.find(i=>i!==o&&i.state.isPaused);return n?.continue()??Promise.resolve()}},{key:"clear",value:function(){pe.batch(()=>{this.getAll().forEach(o=>{this.remove(o)})})}},{key:"getAll",value:function(){return[...m(this,lr).values()].flat()}},{key:"find",value:function(o){var n={exact:!0,...o};return this.getAll().find(i=>Nm(n,i))}},{key:"findAll",value:function(o={}){return this.getAll().filter(n=>Nm(o,n))}},{key:"notify",value:function(o){pe.batch(()=>{this.listeners.forEach(n=>{n(o)})})}},{key:"resumePausedMutations",value:function(){var o=this.getAll().filter(n=>n.state.isPaused);return pe.batch(()=>Promise.all(o.map(n=>n.continue().catch(ct))))}}]),t}(ar))});function Gm(e){return{onFetch:(t,r)=>{var o=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],u=t.state.data?.pageParams||[],c={pages:[],pageParams:[]},f=0,g=function(){var v=w(function*(){var S=!1,T=je=>{Object.defineProperty(je,"signal",{enumerable:!0,get:()=>(t.signal.aborted?S=!0:t.signal.addEventListener("abort",()=>{S=!0}),t.signal)})},C=Nl(t.options,t.fetchOptions),q=function(){var je=w(function*(Ae,mt,Gt){if(S)return Promise.reject();if(mt==null&&Ae.pages.length)return Promise.resolve(Ae);var Xe={queryKey:t.queryKey,pageParam:mt,direction:Gt?"backward":"forward",meta:t.options.meta};T(Xe);var zt=yield C(Xe),{maxPages:Qr}=t.options,ur=Gt?oy:ry;return{pages:ur(Ae.pages,zt,Qr),pageParams:ur(Ae.pageParams,mt,Qr)}});return function(mt,Gt,Xe){return je.apply(this,arguments)}}();if(n&&i.length){var $=n==="backward",_t=$?oS:gy,ie={pages:i,pageParams:u},Ge=_t(o,ie);c=yield q(ie,Ge,$)}else{var he=e??i.length;do{var ft=f===0?u[0]??o.initialPageParam:gy(o,c);if(f>0&&ft==null)break;c=yield q(c,ft),f++}while(f<he)}return c});return function(){return v.apply(this,arguments)}}();t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=g}}}function gy(e,{pages:t,pageParams:r}){var o=t.length-1;return t.length>0?e.getNextPageParam(t[o],t,r[o],r):void 0}function oS(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var _y=h(()=>{a();s();ye();sr()});var Fe,Ln,Mn,ts,rs,Dn,os,ns,zm,by=h(()=>{a();s();ye();Ze();yr();gr();_r();Um();at();sr();fy();yy();Ll();Mm();vo();_y();zm=(Fe=new WeakMap,Ln=new WeakMap,Mn=new WeakMap,ts=new WeakMap,rs=new WeakMap,Dn=new WeakMap,os=new WeakMap,ns=new WeakMap,function(){"use strict";function e(t={}){J(this,e),k(this,Fe,{writable:!0,value:void 0}),k(this,Ln,{writable:!0,value:void 0}),k(this,Mn,{writable:!0,value:void 0}),k(this,ts,{writable:!0,value:void 0}),k(this,rs,{writable:!0,value:void 0}),k(this,Dn,{writable:!0,value:void 0}),k(this,os,{writable:!0,value:void 0}),k(this,ns,{writable:!0,value:void 0}),A(this,Fe,t.queryCache||new cy),A(this,Ln,t.mutationCache||new vy),A(this,Mn,t.defaultOptions||{}),A(this,ts,new Map),A(this,rs,new Map),A(this,Dn,0)}return te(e,[{key:"mount",value:function(){if(es(this,Dn).value++,m(this,Dn)===1){var r=this;A(this,os,wi.subscribe(function(){var n=w(function*(i){i&&(yield r.resumePausedMutations(),m(r,Fe).onFocus())});return function(i){return n.apply(this,arguments)}}()));var o=this;A(this,ns,Ei.subscribe(function(){var n=w(function*(i){i&&(yield o.resumePausedMutations(),m(o,Fe).onOnline())});return function(i){return n.apply(this,arguments)}}()))}}},{key:"unmount",value:function(){var r,o,n,i,u,c;es(this,Dn).value--,m(this,Dn)===0&&((r=m(n=o=this,os))===null||r===void 0||r.call(o),A(this,os,void 0),(i=m(c=u=this,ns))===null||i===void 0||i.call(u),A(this,ns,void 0))}},{key:"isFetching",value:function(r){return m(this,Fe).findAll({...r,fetchStatus:"fetching"}).length}},{key:"isMutating",value:function(r){return m(this,Ln).findAll({...r,status:"pending"}).length}},{key:"getQueryData",value:function(r){var o=this.defaultQueryOptions({queryKey:r});return m(this,Fe).get(o.queryHash)?.state.data}},{key:"ensureQueryData",value:function(r){var o=this.getQueryData(r.queryKey);if(o===void 0)return this.fetchQuery(r);var n=this.defaultQueryOptions(r),i=m(this,Fe).build(this,n);return r.revalidateIfStale&&i.isStaleByTime(Xo(n.staleTime,i))&&this.prefetchQuery(n),Promise.resolve(o)}},{key:"getQueriesData",value:function(r){return m(this,Fe).findAll(r).map(({queryKey:o,state:n})=>{var i=n.data;return[o,i]})}},{key:"setQueryData",value:function(r,o,n){var i=this.defaultQueryOptions({queryKey:r}),u=m(this,Fe).get(i.queryHash),c=u?.state.data,f=Zv(o,c);if(f!==void 0)return m(this,Fe).build(this,i).setData(f,{...n,manual:!0})}},{key:"setQueriesData",value:function(r,o,n){return pe.batch(()=>m(this,Fe).findAll(r).map(({queryKey:i})=>[i,this.setQueryData(i,o,n)]))}},{key:"getQueryState",value:function(r){var o=this.defaultQueryOptions({queryKey:r});return m(this,Fe).get(o.queryHash)?.state}},{key:"removeQueries",value:function(r){var o=m(this,Fe);pe.batch(()=>{o.findAll(r).forEach(n=>{o.remove(n)})})}},{key:"resetQueries",value:function(r,o){var n=m(this,Fe),i={type:"active",...r};return pe.batch(()=>(n.findAll(r).forEach(u=>{u.reset()}),this.refetchQueries(i,o)))}},{key:"cancelQueries",value:function(r={},o={}){var n={revert:!0,...o},i=pe.batch(()=>m(this,Fe).findAll(r).map(u=>u.cancel(n)));return Promise.all(i).then(ct).catch(ct)}},{key:"invalidateQueries",value:function(r={},o={}){return pe.batch(()=>{if(m(this,Fe).findAll(r).forEach(i=>{i.invalidate()}),r.refetchType==="none")return Promise.resolve();var n={...r,type:r.refetchType??r.type??"active"};return this.refetchQueries(n,o)})}},{key:"refetchQueries",value:function(r={},o){var n={...o,cancelRefetch:o?.cancelRefetch??!0},i=pe.batch(()=>m(this,Fe).findAll(r).filter(u=>!u.isDisabled()).map(u=>{var c=u.fetch(void 0,n);return n.throwOnError||(c=c.catch(ct)),u.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(i).then(ct)}},{key:"fetchQuery",value:function(r){var o=this.defaultQueryOptions(r);o.retry===void 0&&(o.retry=!1);var n=m(this,Fe).build(this,o);return n.isStaleByTime(Xo(o.staleTime,n))?n.fetch(o):Promise.resolve(n.state.data)}},{key:"prefetchQuery",value:function(r){return this.fetchQuery(r).then(ct).catch(ct)}},{key:"fetchInfiniteQuery",value:function(r){return r.behavior=Gm(r.pages),this.fetchQuery(r)}},{key:"prefetchInfiniteQuery",value:function(r){return this.fetchInfiniteQuery(r).then(ct).catch(ct)}},{key:"ensureInfiniteQueryData",value:function(r){return r.behavior=Gm(r.pages),this.ensureQueryData(r)}},{key:"resumePausedMutations",value:function(){return Ei.isOnline()?m(this,Ln).resumePausedMutations():Promise.resolve()}},{key:"getQueryCache",value:function(){return m(this,Fe)}},{key:"getMutationCache",value:function(){return m(this,Ln)}},{key:"getDefaultOptions",value:function(){return m(this,Mn)}},{key:"setDefaultOptions",value:function(r){A(this,Mn,r)}},{key:"setQueryDefaults",value:function(r,o){m(this,ts).set(ho(r),{queryKey:r,defaultOptions:o})}},{key:"getQueryDefaults",value:function(r){var o=[...m(this,ts).values()],n={};return o.forEach(i=>{bi(r,i.queryKey)&&(n={...n,...i.defaultOptions})}),n}},{key:"setMutationDefaults",value:function(r,o){m(this,rs).set(ho(r),{mutationKey:r,defaultOptions:o})}},{key:"getMutationDefaults",value:function(r){var o=[...m(this,rs).values()],n={};return o.forEach(i=>{bi(r,i.mutationKey)&&(n={...n,...i.defaultOptions})}),n}},{key:"defaultQueryOptions",value:function(r){if(r._defaulted)return r;var o={...m(this,Mn).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return o.queryHash||(o.queryHash=za(o.queryKey,o)),o.refetchOnReconnect===void 0&&(o.refetchOnReconnect=o.networkMode!=="always"),o.throwOnError===void 0&&(o.throwOnError=!!o.suspense),!o.networkMode&&o.persister&&(o.networkMode="offlineFirst"),o.enabled!==!0&&o.queryFn===Lm&&(o.enabled=!1),o}},{key:"defaultMutationOptions",value:function(r){return r?._defaulted?r:{...m(this,Mn).mutations,...r?.mutationKey&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}},{key:"clear",value:function(){m(this,Fe).clear(),m(this,Ln).clear()}}]),e}())});function nS(e,t){return Ut(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Sy(e,t){return nS(e,t)||e.state.data!==void 0&&Wm(e,t,t.refetchOnMount)}function Wm(e,t,r){if(Ut(t.enabled,e)!==!1){var o=typeof r=="function"?r(e):r;return o==="always"||o!==!1&&Km(e,t)}return!1}function wy(e,t,r,o){return(e!==t||Ut(o.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Km(e,r)}function Km(e,t){return Ut(t.enabled,e)!==!1&&e.isStaleByTime(Xo(t.staleTime,e))}function iS(e,t){return!xi(e.getCurrentResult(),t)}function ql(e){z(this,Kl,Iy).call(this);var t=m(this,ee).fetch(this.options,e);return e?.throwOnError||(t=t.catch(ct)),t}function Ty(){z(this,Wl,Ay).call(this);var e=Xo(this.options.staleTime,m(this,ee));if(!(Nr||m(this,Ct).isStale||!Ga(e))){var t=Ol(m(this,Ct).dataUpdatedAt,e),r=t+1;A(this,Ii,setTimeout(()=>{m(this,Ct).isStale||this.updateResult()},r))}}function Cy(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(m(this,ee)):this.options.refetchInterval)??!1}function Ry(e){z(this,Ql,Py).call(this),A(this,Fn,e),!(Nr||Ut(this.options.enabled,m(this,ee))===!1||!Ga(m(this,Fn))||m(this,Fn)===0)&&A(this,Oi,setInterval(()=>{(this.options.refetchIntervalInBackground||wi.isFocused())&&z(this,Pi,ql).call(this)},m(this,Fn)))}function Ey(){z(this,Gl,Ty).call(this),z(this,$l,Ry).call(this,z(this,zl,Cy).call(this))}function Ay(){m(this,Ii)&&(clearTimeout(m(this,Ii)),A(this,Ii,void 0))}function Py(){m(this,Oi)&&(clearInterval(m(this,Oi)),A(this,Oi,void 0))}function Iy(){var e=m(this,Ht).getQueryCache().build(m(this,Ht),this.options);if(e!==m(this,ee)){var t=m(this,ee);A(this,ee,e),A(this,Vl,e.state),this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}}function aS(e){pe.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(m(this,Ct))}),m(this,Ht).getQueryCache().notify({query:m(this,ee),type:"observerResultsUpdated"})})}var Ht,ee,Vl,Ct,Ai,is,bo,Ul,as,ss,Ii,Oi,Fn,ls,Pi,Gl,zl,$l,Hl,Wl,Ql,Kl,$m,xy,Qm,Oy=h(()=>{a();s();Nt();Ze();yr();gr();_r();qa();Ya();at();Lt();sr();vo();Ll();Pn();jm();Qm=(Ht=new WeakMap,ee=new WeakMap,Vl=new WeakMap,Ct=new WeakMap,Ai=new WeakMap,is=new WeakMap,bo=new WeakMap,Ul=new WeakMap,as=new WeakMap,ss=new WeakMap,Ii=new WeakMap,Oi=new WeakMap,Fn=new WeakMap,ls=new WeakMap,Pi=new WeakSet,Gl=new WeakSet,zl=new WeakSet,$l=new WeakSet,Hl=new WeakSet,Wl=new WeakSet,Ql=new WeakSet,Kl=new WeakSet,$m=new WeakSet,xy=function(e){"use strict";we(t,e);function t(r,o){J(this,t);var n;return n=Se(this,t),nt(n,Pi),nt(n,Gl),nt(n,zl),nt(n,$l),nt(n,Hl),nt(n,Wl),nt(n,Ql),nt(n,Kl),nt(n,$m),k(n,Ht,{writable:!0,value:void 0}),k(n,ee,{writable:!0,value:void 0}),k(n,Vl,{writable:!0,value:void 0}),k(n,Ct,{writable:!0,value:void 0}),k(n,Ai,{writable:!0,value:void 0}),k(n,is,{writable:!0,value:void 0}),k(n,bo,{writable:!0,value:void 0}),k(n,Ul,{writable:!0,value:void 0}),k(n,as,{writable:!0,value:void 0}),k(n,ss,{writable:!0,value:void 0}),k(n,Ii,{writable:!0,value:void 0}),k(n,Oi,{writable:!0,value:void 0}),k(n,Fn,{writable:!0,value:void 0}),k(n,ls,{writable:!0,value:new Set}),n.options=o,A(n,Ht,r),A(n,bo,null),n.bindMethods(),n.setOptions(o),n}return te(t,[{key:"bindMethods",value:function(){this.refetch=this.refetch.bind(this)}},{key:"onSubscribe",value:function(){this.listeners.size===1&&(m(this,ee).addObserver(this),Sy(m(this,ee),this.options)?z(this,Pi,ql).call(this):this.updateResult(),z(this,Hl,Ey).call(this))}},{key:"onUnsubscribe",value:function(){this.hasListeners()||this.destroy()}},{key:"shouldFetchOnReconnect",value:function(){return Wm(m(this,ee),this.options,this.options.refetchOnReconnect)}},{key:"shouldFetchOnWindowFocus",value:function(){return Wm(m(this,ee),this.options,this.options.refetchOnWindowFocus)}},{key:"destroy",value:function(){this.listeners=new Set,z(this,Wl,Ay).call(this),z(this,Ql,Py).call(this),m(this,ee).removeObserver(this)}},{key:"setOptions",value:function(o,n){var i=this.options,u=m(this,ee);if(this.options=m(this,Ht).defaultQueryOptions(o),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ut(this.options.enabled,m(this,ee))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");z(this,Kl,Iy).call(this),m(this,ee).setOptions(this.options),i._defaulted&&!xi(this.options,i)&&m(this,Ht).getQueryCache().notify({type:"observerOptionsUpdated",query:m(this,ee),observer:this});var c=this.hasListeners();c&&wy(m(this,ee),u,this.options,i)&&z(this,Pi,ql).call(this),this.updateResult(n),c&&(m(this,ee)!==u||Ut(this.options.enabled,m(this,ee))!==Ut(i.enabled,m(this,ee))||Xo(this.options.staleTime,m(this,ee))!==Xo(i.staleTime,m(this,ee)))&&z(this,Gl,Ty).call(this);var f=z(this,zl,Cy).call(this);c&&(m(this,ee)!==u||Ut(this.options.enabled,m(this,ee))!==Ut(i.enabled,m(this,ee))||f!==m(this,Fn))&&z(this,$l,Ry).call(this,f)}},{key:"getOptimisticResult",value:function(o){var n=m(this,Ht).getQueryCache().build(m(this,Ht),o),i=this.createResult(n,o);return iS(this,i)&&(A(this,Ct,i),A(this,is,this.options),A(this,Ai,m(this,ee).state)),i}},{key:"getCurrentResult",value:function(){return m(this,Ct)}},{key:"trackResult",value:function(o,n){var i={};return Object.keys(o).forEach(u=>{Object.defineProperty(i,u,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(u),n?.(u),o[u])})}),i}},{key:"trackProp",value:function(o){m(this,ls).add(o)}},{key:"getCurrentQuery",value:function(){return m(this,ee)}},{key:"refetch",value:function({...o}={}){return this.fetch({...o})}},{key:"fetchOptimistic",value:function(o){var n=m(this,Ht).defaultQueryOptions(o),i=m(this,Ht).getQueryCache().build(m(this,Ht),n);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,n))}},{key:"fetch",value:function(o){return z(this,Pi,ql).call(this,{...o,cancelRefetch:o.cancelRefetch??!0}).then(()=>(this.updateResult(),m(this,Ct)))}},{key:"createResult",value:function(o,n){var i=m(this,ee),u=this.options,c=m(this,Ct),f=m(this,Ai),g=m(this,is),v=o!==i,S=v?o.state:m(this,Vl),{state:T}=o,C={...T},q=!1,$;if(n._optimisticResults){var _t=this.hasListeners(),ie=!_t&&Sy(o,n),Ge=_t&&wy(o,i,n,u);(ie||Ge)&&(C={...C,...Bm(T.data,o.options)}),n._optimisticResults==="isRestoring"&&(C.fetchStatus="idle")}var{error:he,errorUpdatedAt:ft,status:je}=C;if(n.select&&C.data!==void 0)if(c&&C.data===f?.data&&n.select===m(this,Ul))$=m(this,as);else try{A(this,Ul,n.select),$=n.select(C.data),$=$a(c?.data,$,n),A(this,as,$),A(this,bo,null)}catch(wo){A(this,bo,wo)}else $=C.data;if(n.placeholderData!==void 0&&$===void 0&&je==="pending"){var Ae;if(c?.isPlaceholderData&&n.placeholderData===g?.placeholderData)Ae=c.data;else if(Ae=typeof n.placeholderData=="function"?n.placeholderData(m(this,ss)?.state.data,m(this,ss)):n.placeholderData,n.select&&Ae!==void 0)try{Ae=n.select(Ae),A(this,bo,null)}catch(wo){A(this,bo,wo)}Ae!==void 0&&(je="success",$=$a(c?.data,Ae,n),q=!0)}m(this,bo)&&(he=m(this,bo),$=m(this,as),ft=Date.now(),je="error");var mt=C.fetchStatus==="fetching",Gt=je==="pending",Xe=je==="error",zt=Gt&&mt,Qr=$!==void 0,ur={status:je,fetchStatus:C.fetchStatus,isPending:Gt,isSuccess:je==="success",isError:Xe,isInitialLoading:zt,isLoading:zt,data:$,dataUpdatedAt:C.dataUpdatedAt,error:he,errorUpdatedAt:ft,failureCount:C.fetchFailureCount,failureReason:C.fetchFailureReason,errorUpdateCount:C.errorUpdateCount,isFetched:C.dataUpdateCount>0||C.errorUpdateCount>0,isFetchedAfterMount:C.dataUpdateCount>S.dataUpdateCount||C.errorUpdateCount>S.errorUpdateCount,isFetching:mt,isRefetching:mt&&!Gt,isLoadingError:Xe&&!Qr,isPaused:C.fetchStatus==="paused",isPlaceholderData:q,isRefetchError:Xe&&Qr,isStale:Km(o,n),refetch:this.refetch};return ur}},{key:"updateResult",value:function(o){var n=m(this,Ct),i=this.createResult(m(this,ee),this.options);if(A(this,Ai,m(this,ee).state),A(this,is,this.options),m(this,Ai).data!==void 0&&A(this,ss,m(this,ee)),!xi(i,n)){A(this,Ct,i);var u={},c=()=>{if(!n)return!0;var{notifyOnChangeProps:f}=this.options,g=typeof f=="function"?f():f;if(g==="all"||!g&&!m(this,ls).size)return!0;var v=new Set(g??m(this,ls));return this.options.throwOnError&&v.add("error"),Object.keys(m(this,Ct)).some(S=>{var T=S,C=m(this,Ct)[T]!==n[T];return C&&v.has(T)})};o?.listeners!==!1&&c()&&(u.listeners=!0),z(this,$m,aS).call(this,{...u,...o})}}},{key:"onQueryUpdate",value:function(){this.updateResult(),this.hasListeners()&&z(this,Hl,Ey).call(this)}}]),t}(ar),xy)});function qm(){var e=m(this,Vt)?.state??Hm();A(this,Bn,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})}function Ly(e){pe.batch(()=>{if(m(this,Zo)&&this.hasListeners()){var t=m(this,Bn).variables,r=m(this,Bn).context;e?.type==="success"?(m(this,Zo).onSuccess?.(e.data,t,r),m(this,Zo).onSettled?.(e.data,null,t,r)):e?.type==="error"&&(m(this,Zo).onError?.(e.error,t,r),m(this,Zo).onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(o=>{o(m(this,Bn))})})}var kn,Bn,Vt,Zo,us,Yl,Ny,Ym,My=h(()=>{a();s();Nt();Ze();yr();gr();_r();qa();Ya();at();Lt();Vm();vo();Pn();sr();Ym=(kn=new WeakMap,Bn=new WeakMap,Vt=new WeakMap,Zo=new WeakMap,us=new WeakSet,Yl=new WeakSet,Ny=function(e){"use strict";we(t,e);function t(r,o){J(this,t);var n;return n=Se(this,t),nt(n,us),nt(n,Yl),k(n,kn,{writable:!0,value:void 0}),k(n,Bn,{writable:!0,value:void 0}),k(n,Vt,{writable:!0,value:void 0}),k(n,Zo,{writable:!0,value:void 0}),A(n,kn,r),n.setOptions(o),n.bindMethods(),z(n,us,qm).call(n),n}return te(t,[{key:"bindMethods",value:function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}},{key:"setOptions",value:function(o){var n=this.options;this.options=m(this,kn).defaultMutationOptions(o),xi(this.options,n)||m(this,kn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:m(this,Vt),observer:this}),n?.mutationKey&&this.options.mutationKey&&ho(n.mutationKey)!==ho(this.options.mutationKey)?this.reset():m(this,Vt)?.state.status==="pending"&&m(this,Vt).setOptions(this.options)}},{key:"onUnsubscribe",value:function(){this.hasListeners()||m(this,Vt)?.removeObserver(this)}},{key:"onMutationUpdate",value:function(o){z(this,us,qm).call(this),z(this,Yl,Ly).call(this,o)}},{key:"getCurrentResult",value:function(){return m(this,Bn)}},{key:"reset",value:function(){m(this,Vt)?.removeObserver(this),A(this,Vt,void 0),z(this,us,qm).call(this),z(this,Yl,Ly).call(this)}},{key:"mutate",value:function(o,n){return A(this,Zo,n),m(this,Vt)?.removeObserver(this),A(this,Vt,m(this,kn).getMutationCache().build(m(this,kn),this.options)),m(this,Vt).addObserver(this),m(this,Vt).execute(o)}}]),t}(ar),Ny)});var Dy=h(()=>{a();s()});var cs=h(()=>{a();s();by();Oy();My();vo();Dy()});var Fy=h(()=>{a();s()});var Ni,Xm,fs,Jm,Xl=h(()=>{"use client";a();s();Ni=F(Ke(),1);W();Xm=Ni.createContext(void 0),fs=e=>{var t=Ni.useContext(Xm);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Jm=({client:e,children:t})=>(Ni.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l(Xm.Provider,{value:e,children:t}))});var Jl,ky,By,rU,jy=h(()=>{"use client";a();s();Jl=F(Ke(),1),ky=Jl.createContext(!1),By=()=>Jl.useContext(ky),rU=ky.Provider});function sS(){var e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ms,lS,Uy,Hy=h(()=>{"use client";a();s();ms=F(Ke(),1);W();lS=ms.createContext(sS()),Uy=()=>ms.useContext(lS)});function Zl(e,t){return typeof e=="function"?e(...t):!!e}function Vy(){}var Zm=h(()=>{a();s()});var Gy,zy,$y,Wy,Qy=h(()=>{"use client";a();s();Gy=F(Ke(),1);Zm();zy=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},$y=e=>{Gy.useEffect(()=>{e.clearReset()},[e])},Wy=({result:e,errorResetBoundary:t,throwOnError:r,query:o})=>e.isError&&!t.isReset()&&!e.isFetching&&o&&Zl(r,[e.error,o])});var Ky,qy,Yy,Xy=h(()=>{a();s();Ky=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},qy=(e,t)=>e?.suspense&&t.isPending,Yy=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()})});function Jy(e,t,r){var o=fs(r),n=By(),i=Uy(),u=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=n?"isRestoring":"optimistic",Ky(u),zy(u,i),$y(i);var[c]=en.useState(()=>new t(o,u)),f=c.getOptimisticResult(u);if(en.useSyncExternalStore(en.useCallback(g=>{var v=n?()=>{}:c.subscribe(pe.batchCalls(g));return c.updateResult(),v},[c,n]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),en.useEffect(()=>{c.setOptions(u,{listeners:!1})},[u,c]),qy(u,f))throw Yy(u,c,i);if(Wy({result:f,errorResetBoundary:i,throwOnError:u.throwOnError,query:o.getQueryCache().get(u.queryHash)}))throw f.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(u,f),u.notifyOnChangeProps?f:c.trackResult(f)}var en,Zy=h(()=>{"use client";a();s();en=F(Ke(),1);cs();Hy();Xl();jy();Qy();Xy()});function ed(e,t){return Jy(e,Qm,t)}var eg=h(()=>{"use client";a();s();cs();Zy()});function td(e,t){var r=fs(t),[o]=xo.useState(()=>new Ym(r,e));xo.useEffect(()=>{o.setOptions(e)},[o,e]);var n=xo.useSyncExternalStore(xo.useCallback(u=>o.subscribe(pe.batchCalls(u)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),i=xo.useCallback((u,c)=>{o.mutate(u,c).catch(Vy)},[o]);if(n.error&&Zl(o.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}var xo,tg=h(()=>{"use client";a();s();xo=F(Ke(),1);cs();Xl();Zm()});var rg=h(()=>{a();s();cs();Fy();eg();Xl();tg()});var ig={};B(ig,{default:()=>ng});function cS(){return rd.apply(this,arguments)}function rd(){return rd=w(function*(){yield Ba();var e=[...De.values()];return e.filter(t=>!ka(t.id))}),rd.apply(this,arguments)}function fS(e){var[t,r]=(0,ds.useState)(ir(e.id)),o=td({mutationFn:function(){var n=w(function*({install:i}){yield(i?Sm:Pl)(e.id,!0)});return function(i){return n.apply(this,arguments)}}(),onSettled(){r(ir(e.id))},onError(n){K(n instanceof Error?n.message:String(n))}});return l(X,{size:"sm",loading:o.isPending,text:t?"Uninstall":"Install",onPress:()=>o.mutate({install:!t}),variant:t?"destructive":"primary",icon:y(t?"TrashIcon":"DownloadIcon")})}function mS(e){return x(_e,{spacing:8,direction:"horizontal",children:[l(ge,{size:"sm",onPress:()=>{Ar("plugin-info",()=>l(xt,{children:l(Be,{title:"Plugin Info",children:l(I,{label:"ID",subLabel:e.id})})}))},variant:"secondary",icon:y("CircleInformationIcon")}),l(fS,{id:e.id})]})}function dS(e){var{display:t,version:r}=e.manifest;return l(Te,{children:x(_e,{spacing:16,children:[x(Li.View,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[x(Li.View,{style:{flexShrink:1},children:[l(O,{numberOfLines:1,variant:"heading-lg/semibold",children:t.name}),x(O,{variant:"text-md/semibold",color:"text-muted",children:["by ",t.authors?.map(o=>o.name).join(", ")||"Unknown"," (",r,")"]})]}),l(Li.View,{children:l(mS,{id:e.manifest.id})})]}),l(O,{variant:"text-md/medium",children:t.description})]})})}function pS(){var e=Ce.useNavigation();(0,ds.useEffect)(()=>{e.setOptions({title:"Plugin Browser",headerRight:()=>l(ge,{size:"sm",variant:"secondary",icon:y("PlusSmallIcon"),onPress:()=>{Ar("plugin-browser-options",og)}})})},[e]);var{data:t,error:r,isPending:o,refetch:n}=ed({queryKey:["plugins-repo-fetch"],queryFn:()=>cS()});return r?l(Li.View,{style:{flex:1,paddingHorizontal:8,justifyContent:"center",alignItems:"center"},children:x(Te,{style:{gap:8},children:[l(O,{style:{textAlign:"center"},variant:"heading-lg/bold",children:"An error occured while fetching the repository!"}),l(O,{style:{textAlign:"center"},variant:"text-sm/medium",color:"text-muted",children:r instanceof Error?r.message:String(r)}),l(X,{size:"lg",text:"Refetch",onPress:n,icon:y("RetryIcon")})]})}):l(_n,{data:t,refreshing:o,onRefresh:n,estimatedItemSize:136,contentContainerStyle:{paddingBottom:90,paddingHorizontal:5},renderItem:({item:i})=>l(Li.View,{style:{paddingVertical:6,paddingHorizontal:8},children:l(dS,{manifest:i})})})}function hS(){var[e,t]=(0,ds.useState)("");return l(jo,{title:"Add Repository",content:"Enter the URL of the repository you want to add.",extraContent:l(ot,{value:e,onChange:t,placeholder:"https://example.com/repo.json"}),actions:l(Jn,{children:l(Sa,{text:"Add",variant:"primary",disabled:!Aa(e),onPress:w(function*(){try{yield Ma(e),K("Added repository!",y("Check"))}catch{K("Failed to add repository!",y("Small"))}finally{di("bunny-add-plugin-repository"),Ar("plugin-browser-options",og)}})})})})}function og(){return l(xt,{children:x(Be,{title:"Repositories",children:[Object.keys(nr).map(e=>l(vS,{url:e},e)),l(I,{label:"Add Repository...",icon:l(I.Icon,{source:y("PlusMediumIcon")}),onPress:()=>{qo("bunny-add-plugin-repository",l(hS,{})),Gr("plugin-browser-options")}})]})})}function vS(e){var t=nr[e.url],r=e.url===vn;return l(I,{label:r?"Bunny's Repository":t.$meta?.name??"Unknown",subLabel:e.url,trailing:x(_e,{direction:"horizontal",children:[l(ge,{size:"sm",variant:"secondary",icon:y("LinkIcon"),onPress:()=>{Ue.setString(e.url),K.showCopyToClipboard()}}),l(ge,{size:"sm",variant:"destructive",disabled:r,icon:y("TrashIcon"),onPress:()=>{qo("bunny-remove-repository",l(jo,{title:"Remove Repository",content:"Are you sure you want to remove this repository?",extraContent:l(Te,{children:l(O,{variant:"text-md/normal",children:e.url})}),actions:l(Jn,{children:l(Sa,{text:"Remove",variant:"destructive",onPress:w(function*(){yield bm(e.url),K("Removed repository!",y("Trash")),di("bunny-remove-repository")})})})}))}})]})})}function ng(){return l(Jm,{client:uS,children:l(pS,{})})}var ds,Li,uS,ag=h(()=>{"use strict";a();s();ye();W();po();be();Ra();bf();Wo();rr();Zr();Gf();Z();re();rg();ds=F(Ke()),Li=F(ne()),uS=new zm});var cg={};B(cg,{default:()=>ug});function gS(e){var t=e.useItems();return l(Cn,{CardComponent:Wf,title:_.PLUGINS,searchKeywords:["name","description",r=>r.authors?.map(o=>typeof o=="string"?o:o.name).join()||""],sortOptions:{"Name (A-Z)":(r,o)=>r.name.localeCompare(o.name),"Name (Z-A)":(r,o)=>o.name.localeCompare(r.name)},safeModeHint:{message:_.SAFE_MODE_NOTICE_PLUGINS},items:t,...e})}function ug(){ue(D);var e=Ce.useNavigation();return l(gS,{useItems:()=>{ue(Q.plugins),Jr([Ve]);var t=Object.values(Q.plugins).map(Pm),r=[...De.values()].filter(o=>ir(o.id)&&!ka(o.id)).map(Am);return[...t,...r]},ListHeaderComponent:()=>{var t=Object.values(Q.plugins).filter(r=>!r.id.startsWith(br)&&!r.id.startsWith(hn));return t.length?l(jn.View,{style:{marginVertical:12,marginHorizontal:10},children:l(Te,{border:"strong",children:x(jn.View,{style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[x(jn.View,{style:{gap:6,flexShrink:1},children:[l(O,{variant:"heading-md/bold",children:"Unproxied Plugins Found"}),l(O,{variant:"text-sm/medium",color:"text-muted",children:"Plugins installed from unproxied sources may run unverified code in this app without your awareness."})]}),l(jn.View,{style:{marginLeft:"auto"},children:l(ge,{size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary"),style:{marginLeft:8},onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Unproxied Plugins",render:()=>l(_n,{data:t,contentContainerStyle:{padding:8},ItemSeparatorComponent:()=>l(jn.View,{style:{height:8}}),renderItem:({item:r})=>l(Te,{children:l(O,{variant:"heading-md/semibold",children:r.id})})})})}})})]})})}):null},ListFooterComponent:()=>l(jn.View,{style:{alignItems:"center",justifyContent:"center",paddingTop:16,gap:12},children:l(X,{size:"lg",text:"Browse Plugins",icon:y("CompassIcon"),onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Plugin Browser",render:React.lazy(()=>Promise.resolve().then(()=>(ag(),ig)))})}})}),installAction:{label:"Install a plugin",fetchFn:function(){var t=w(function*(r){if(!r.startsWith(br)&&!r.startsWith(hn)&&!D.developerSettings)sg("bunny-plugin-unproxied-confirmation",l(lg,{title:"Hold On!",content:"You're trying to install a plugin from an unproxied external source. This means you're trusting the creator to run their code in this app without your knowledge. Are you sure you want to continue?",extraContent:l(Te,{children:l(O,{variant:"text-md/bold",children:r})}),actions:x(yS,{children:[l(od,{text:"Continue",variant:"primary",onPress:()=>{Q.installPlugin(r).then(()=>K(_.TOASTS_INSTALLED_PLUGIN,y("Check"))).catch(o=>sg("bunny-plugin-install-failed",l(lg,{title:"Install Failed",content:`Unable to install plugin from '${r}':`,extraContent:l(Te,{children:l(O,{variant:"text-md/normal",children:o instanceof Error?o.message:String(o)})}),actions:l(od,{text:"Okay",variant:"primary"})})))}}),l(od,{text:"Cancel",variant:"secondary"})]})}));else return yield Q.installPlugin(r)});return function(r){return t.apply(this,arguments)}}()}})}var jn,sg,lg,yS,od,fg=h(()=>{"use strict";a();s();ye();W();Me();yl();uv();fo();ke();po();be();He();Br();rr();Zr();Le();ut();Z();re();jn=F(ne());Wv();Yv();({openAlert:sg}=Y(()=>H("openAlert","dismissAlert"))),{AlertModal:lg,AlertActions:yS,AlertActionButton:od}=Y(()=>H("AlertModal","AlertActions"))});function nd(e){var t=xS();return l(Te,{children:x(_e,{spacing:16,children:[x(Un.View,{style:{flexDirection:"row",alignItems:"center"},children:[x(Un.View,{style:t.headerLeading,children:[l(O,{style:t.headerLabel,children:e.headerLabel}),e.headerSublabel&&l(O,{style:t.headerSubtitle,children:e.headerSublabel})]}),x(Un.View,{style:[t.headerTrailing,{marginLeft:"auto"}],children:[x(Un.View,{style:t.actions,children:[e.overflowActions&&l(ge,{onPress:()=>bS({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&l(jr.Icon,{style:{marginRight:8},source:y(e.headerIcon)}),onClose:()=>_S()},options:e.overflowActions?.map(r=>({...r,icon:y(r.icon)}))}),size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary")}),e.actions?.map(({icon:r,onPress:o,disabled:n})=>l(ge,{onPress:o,disabled:n,size:"sm",variant:"secondary",icon:y(r)}))]}),e.toggleType&&(e.toggleType==="switch"?l(xc,{value:e.toggleValue(),onValueChange:e.onToggleChange}):l(Un.TouchableOpacity,{onPress:()=>{e.onToggleChange?.(!e.toggleValue())},children:l(Sc,{selected:e.toggleValue()})}))]})]}),e.descriptionLabel&&l(O,{variant:"text-md/medium",children:e.descriptionLabel})]})})}var Un,_S,bS,xS,mg=h(()=>{"use strict";a();s();W();be();Le();re();Pe();li();Vr();Un=F(ne()),{hideActionSheet:_S}=Y(()=>H("openLazy","hideActionSheet")),{showSimpleActionSheet:bS}=Y(()=>H("showSimpleActionSheet")),xS=Cr({card:{backgroundColor:wt?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...co["heading-md/semibold"],color:wt.TEXT_NORMAL},headerSubtitle:{...co["text-md/semibold"],color:wt.TEXT_MUTED},descriptionLabel:{...co["text-md/semibold"],color:wt.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:wt.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}})});function dg(e,t){try{no(e?t:null)}catch(r){console.error("Error while selectAndApply,",r)}}function id({item:e}){ue(e);var[t,r]=React.useState(!1);if(t)return null;var{authors:o}=e.data;return l(nd,{headerLabel:e.data.name,headerSublabel:o?`by ${o.map(n=>n.name).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:D.safeMode?.enabled?void 0:"radio",toggleValue:()=>Re[e.id].selected,onToggleChange:n=>{dg(n,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:_.REFETCH,onPress:()=>{Sn(e.id,e.selected).then(()=>{K(_.THEME_REFETCH_SUCCESSFUL,y("toast_image_saved"))}).catch(()=>{K(_.THEME_REFETCH_FAILED,y("Small"))})}},{icon:"copy",label:_.COPY_URL,onPress:()=>{Ue.setString(e.id),K.showCopyToClipboard()}},{icon:"ic_message_delete",label:_.DELETE,isDestructive:!0,onPress:()=>Or({title:_.HOLD_UP,content:Bt("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:_.DELETE,cancelText:_.CANCEL,confirmColor:"red",onConfirm:()=>{wn(e.id).then(n=>{r(!0),n&&dg(!1,e)}).catch(n=>{K(n.message,y("Small"))})}})}]})}var pg=h(()=>{"use strict";a();s();W();Me();mg();vi();ke();kt();be();He();Z();rr()});var yg={};B(yg,{default:()=>vg});function vg(){return ue(D),ue(Re),l(Cn,{title:_.THEMES,searchKeywords:["data.name","data.description",e=>e.data.authors?.map(t=>t.name).join(", ")??""],sortOptions:{"Name (A-Z)":(e,t)=>e.data.name.localeCompare(t.data.name),"Name (Z-A)":(e,t)=>t.data.name.localeCompare(e.data.name)},installAction:{label:"Install a theme",fetchFn:oo},items:Object.values(Re),safeModeHint:{message:Bt("SAFE_MODE_NOTICE_THEMES",{enabled:!!D.safeMode?.currentThemeId}),footer:D.safeMode?.currentThemeId&&l(X,{size:"small",text:_.DISABLE_THEME,onPress:()=>delete D.safeMode?.currentThemeId,style:{marginTop:8}})},CardComponent:id,OptionsActionSheetComponent:()=>(Jr([Ft]),x(xt,{children:[l(ua,{title:"Options"}),x(hg.View,{style:{paddingVertical:20,gap:12},children:[x(Us,{title:"Override Theme Type",value:Ft.type??"auto",hasIcons:!0,onChange:e=>{Ft.type=e!=="auto"?e:void 0,io()?.data&&Go(io().data,{update:!0})},children:[l(gn,{icon:l(yn,{source:y("RobotIcon")}),label:"Auto",value:"auto"}),l(gn,{icon:l(yn,{source:y("ThemeDarkIcon")}),label:"Dark",value:"dark"}),l(gn,{icon:l(yn,{source:y("ThemeLightIcon")}),label:"Light",value:"light"})]}),x(Us,{title:"Chat Background",value:Ft.customBackground??"shown",hasIcons:!0,onChange:e=>{Ft.customBackground=e!=="shown"?e:null},children:[l(gn,{icon:l(yn,{source:y("ImageIcon")}),label:"Show",value:"shown"}),l(gn,{icon:l(yn,{source:y("DenyIcon")}),label:"Hide",value:"hidden"})]})]})]}))})}var hg,gg=h(()=>{"use strict";a();s();W();Me();yl();pg();ke();kt();ia();xn();be();He();Br();re();hg=F(ne())});var vs={};B(vs,{fonts:()=>Ie,installFont:()=>SS,removeFont:()=>eu,saveFont:()=>Mi,selectFont:()=>hs,updateFonts:()=>md,validateFont:()=>ps});function _g(e){return ad.apply(this,arguments)}function ad(){return ad=w(function*(e){if(!e&&e!==null)throw new Error("Arg font must be a valid object or null");e?yield mr("fonts.json",JSON.stringify(e)):yield cn("fonts.json")}),ad.apply(this,arguments)}function ps(e){if(!e||typeof e!="object")throw new Error("URL returned a null/non-object JSON");if(typeof e.spec!="number")throw new Error("Invalid font 'spec' number");if(e.spec!==1)throw new Error("Only fonts which follows spec:1 are supported");var t=["name","main"];if(t.some(r=>!e[r]))throw new Error(`Font is missing one of the fields: ${t}`);if(e.name.startsWith("__"))throw new Error("Font names cannot start with __");if(e.name in Ie)throw new Error(`There is already a font named '${e.name}' installed`)}function Mi(e){return sd.apply(this,arguments)}function sd(){return sd=w(function*(e,t=!1){var r;if(typeof e=="object"&&e.__source&&(e=e.__source),typeof e=="string")try{r=yield(yield vt(e)).json(),r.__source=e}catch(o){throw new Error(`Failed to fetch fonts at ${e}`,{cause:o})}else r=e;ps(r);try{yield Promise.all(Object.entries(r.main).map(function(){var o=w(function*([n,i]){var u=i.split(".").pop();u!=="ttf"&&u!=="otf"&&(u="ttf");var c=`downloads/fonts/${r.name}/${n}.${u}`;(yield qr(c))||(yield yu(i,c))});return function(n){return o.apply(this,arguments)}}()))}catch(o){throw new Error("Failed to download font assets",{cause:o})}return Ie[r.name]=r,t&&_g(Ie[r.name]),r}),sd.apply(this,arguments)}function SS(e){return ld.apply(this,arguments)}function ld(){return ld=w(function*(e,t=!1){if(typeof e!="string"||Object.values(Ie).some(o=>typeof o=="object"&&o.__source===e))throw new Error("Invalid source or font was already installed");var r=yield Mi(e);t&&(yield hs(r.name))}),ld.apply(this,arguments)}function hs(e){return ud.apply(this,arguments)}function ud(){return ud=w(function*(e){if(e&&!(e in Ie))throw new Error("Selected font does not exist!");e?Ie.__selected=e:delete Ie.__selected,yield _g(e==null?null:Ie[e])}),ud.apply(this,arguments)}function eu(e){return cd.apply(this,arguments)}function cd(){return cd=w(function*(e){var t=Ie.__selected===e;t&&(yield hs(null)),delete Ie[e];try{yield vu(`downloads/fonts/${e}`)}catch{}}),cd.apply(this,arguments)}function md(){return fd.apply(this,arguments)}function fd(){return fd=w(function*(){yield Do(Ie),yield d(Object.keys(Ie).map(e=>Mi(Ie[e],Ie.__selected===e)))}),fd.apply(this,arguments)}var Ie,Hn=h(()=>{"use strict";a();s();ye();ke();Eo();Dt();Ie=hr(Mt(vr("BUNNY_FONTS")))});function wS(e){var t=e.map(o=>{var{pathname:n}=new URL(o),i=n.replace(/\.[^/.]+$/,"");return i.split("/").pop()}).filter(Boolean),r=t.reduce((o,n)=>n.length<o.length?n:o,t[0]||"");return r?.replace(/-[A-Za-z]*$/,"")||null}function ES({fonts:e,setName:t}){var r=io().data,o=r.fonts,[n,i]=(0,Ye.useState)(wS(Object.values(o))),[u,c]=(0,Ye.useState)(void 0);return x(So.View,{style:{padding:8,paddingBottom:16,gap:12},children:[l(ot,{autoFocus:!0,size:"md",label:_.FONT_NAME,value:n,placeholder:n||"Whitney",onChange:i,errorMessage:u,state:u?"error":void 0}),l(O,{variant:"text-xs/normal",color:"text-muted",children:Bt("THEME_EXTRACTOR_DESC",{fonts:Object.keys(o).join(_.SEPARATOR)})}),l(X,{size:"md",variant:"primary",text:_.EXTRACT,disabled:!n,onPress:()=>{if(n)try{ps({spec:1,name:n,main:o}),t(n),Object.assign(e,o),pd.hideActionSheet()}catch(f){c(String(f))}}})]})}function TS({fonts:e,setName:t,setSource:r}){var[o,n]=(0,Ye.useState)(""),[i,u]=(0,Ye.useState)(!1),[c,f]=(0,Ye.useState)(void 0);return x(So.View,{style:{padding:8,paddingBottom:16,gap:12},children:[l(ot,{autoFocus:!0,size:"md",label:"Font Link",value:o,placeholder:"https://link.to/font/pack.json",onChange:n,errorMessage:c,state:c?"error":void 0}),l(X,{size:"md",variant:"primary",text:"Import",disabled:!o||i,loading:i,onPress:()=>{u(!0),w(function*(){var g=yield vt(o,{cache:"no-store"}),v=yield g.json();ps(v),t(v.name),r(o),Object.assign(e,v.main)})().then(()=>pd.hideActionSheet()).catch(g=>f(String(g))).finally(()=>u(!1))}})]})}function CS(e){var[t,r]=(0,Ye.useState)(e.name),[o,n]=(0,Ye.useState)(e.fontEntries[e.name]);return x(So.View,{style:{padding:8,paddingBottom:16,gap:12},children:[l(ot,{autoFocus:!0,size:"md",label:"Family Name (to override)",value:t,placeholder:"ggsans-Bold",onChange:r}),l(ot,{size:"md",label:"Font URL",value:o,placeholder:"https://link.to/the/font.ttf",onChange:n}),l(X,{size:"md",variant:"primary",text:"Apply",onPress:()=>{delete e.fontEntries[e.name],e.fontEntries[t]=o}})]})}function dd(e,t,r){pd.openLazy(Promise.resolve({default:()=>l(Ne,{children:x(xt,{children:[l(ua,{title:"Import Font"}),l(e,{fonts:t,...r})]})})}),"FontEditorActionSheet")}function RS({fontEntry:e}){var t=(0,Ye.useRef)(),r=(0,Ye.useRef)(),[o,n]=(0,Ye.useState)(!1),[i,u]=(0,Ye.useState)();return x(So.View,{style:{flexDirection:"row",gap:8,justifyContent:"flex-start"},children:[l(So.View,{style:{flex:1},children:l(ot,{isRound:!0,size:"md",label:o?t.current:void 0,placeholder:o?"https://path.to/the/file.ttf":"PostScript name (e.g. ggsans-Bold)",leadingIcon:()=>o?null:l(I.Icon,{source:y("PlusSmallIcon")}),leadingText:o?t.current:"",onChange:c=>(o?r:t).current=c,errorMessage:i,state:i?"error":void 0})}),o&&l(ge,{size:"md",variant:"secondary",onPress:()=>{t.current="",n(!1)},icon:y("TrashIcon")}),l(ge,{size:"md",variant:"primary",onPress:()=>{if(!o&&t.current)n(!0);else if(o&&t.current&&r.current)try{var c=new URL(r.current);if(!c.protocol||!c.host)throw"Invalid URL";e[t.current]=r.current,t.current=void 0,r.current=void 0,n(!1)}catch(f){u(String(f))}},icon:y(o?"PlusSmallIcon":"ArrowLargeRightIcon")})]})}function ys(e){var[t,r]=(0,Ye.useState)(e.name),[o,n]=(0,Ye.useState)(),[i,u]=(0,Ye.useState)(!1),c=(0,Ye.useMemo)(()=>ea(e.name?{...Ie[e.name].main}:{}).proxy,[e.name]),f=ue(c),g=Ce.useNavigation();return l(So.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:x(_e,{style:{paddingVertical:24,paddingHorizontal:12},spacing:12,children:[e.name?x(Be,{title:"Actions",children:[l(I,{label:"Refetch fonts from source",icon:l(I.Icon,{source:y("RetryIcon")}),onPress:w(function*(){var v={...Ie[e.name]};yield eu(e.name),yield Mi(v),g.goBack()})}),l(I,{label:"Delete font pack",icon:l(I.Icon,{source:y("TrashIcon")}),onPress:()=>eu(e.name).then(()=>g.goBack())})]}):x(Be,{title:"Import",children:[io()?.data?.fonts&&l(I,{label:_.LABEL_EXTRACT_FONTS_FROM_THEME,subLabel:_.DESC_EXTRACT_FONTS_FROM_THEME,icon:l(I.Icon,{source:y("HammerIcon")}),onPress:()=>dd(ES,f,{setName:r})}),l(I,{label:"Import font entries from a link",subLabel:"Directly import from a link with a pre-configured JSON file",icon:l(I.Icon,{source:y("LinkIcon")}),onPress:()=>dd(TS,f,{setName:r,setSource:n})})]}),l(ot,{size:"lg",value:t,label:_.FONT_NAME,placeholder:"Whitney",onChange:r}),x(Be,{title:"Font Entries",children:[Object.entries(f).map(([v,S])=>l(I,{label:v,subLabel:S,trailing:x(_e,{spacing:2,direction:"horizontal",children:[l(ge,{size:"sm",variant:"secondary",icon:y("PencilIcon"),onPress:()=>dd(CS,f,{name:v,fontEntries:f})}),l(ge,{size:"sm",variant:"secondary",icon:y("TrashIcon"),onPress:()=>delete f[v]})]})})),l(I,{label:l(RS,{fontEntry:f})})]}),l(So.View,{style:{flexDirection:"row",justifyContent:"flex-end",bottom:0,left:0},children:l(X,{size:"lg",loading:i,disabled:i||!t||Object.keys(f).length===0,variant:"primary",text:e.name?"Save":"Import",onPress:w(function*(){t&&(u(!0),e.name?(Object.assign(Ie[e.name],{name:t,main:f,__edited:!0}),u(!1),g.goBack()):Mi({spec:1,name:t,main:f,__source:o}).then(()=>g.goBack()).finally(()=>u(!1)))}),icon:y(e.name?"toast_image_saved":"DownloadIcon"),style:{marginLeft:8}})})]})})}var Ye,So,pd,hd=h(()=>{"use strict";a();s();ye();W();Me();ke();Hn();kt();be();Dt();Z();re();Pe();or();Ye=F(Ke()),So=F(ne()),pd=M("hideActionSheet")});var xg=Mr((MH,bg)=>{a();s();bg.exports=Mo()["@shopify/react-native-skia"]});function PS({font:e}){var t=AS(Ur.colors.TEXT_NORMAL),{fontFamily:r,fontSize:o}=co["text-md/medium"],n=r.split(/,/g)[0],i=Fi.useFont(e.main[n])?.getTypeface(),u=(0,Sg.useMemo)(()=>{if(!i)return null;var c=SkiaApi.TypefaceFontProvider.Make();return c.registerFont(i,n),SkiaApi.ParagraphBuilder.Make({},c).pushStyle({color:SkiaApi.Color(t),fontFamilies:[n],fontSize:o}).addText("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.").pop().build()},[i]);return l(Di.View,{style:{height:64},children:i?l(Fi.Canvas,{style:{height:64},children:l(Fi.Paragraph,{paragraph:u,x:0,y:0,width:300})}):l(Di.View,{style:{justifyContent:"center",alignItems:"center"},children:l(O,{color:"text-muted",variant:"heading-lg/semibold",children:"Loading..."})})})}function vd({item:e}){ue(Ie);var t=Ce.useNavigation(),r=Ie.__selected===e.name;return l(Te,{children:x(_e,{spacing:16,children:[x(Di.View,{style:{flexDirection:"row",alignItems:"center"},children:[l(Di.View,{children:l(O,{variant:"heading-lg/semibold",children:e.name})}),l(Di.View,{style:{marginLeft:"auto"},children:x(_e,{spacing:12,direction:"horizontal",children:[l(ge,{onPress:()=>{t.push("BUNNY_CUSTOM_PAGE",{title:"Edit Font",render:()=>l(ys,{name:e.name})})},size:"sm",variant:"secondary",disabled:r,icon:y("PencilIcon")}),l(X,{size:"sm",variant:r?"secondary":"primary",text:r?"Unapply":"Apply",onPress:w(function*(){yield hs(r?null:e.name),Or({title:_.HOLD_UP,content:"Reload Discord to apply changes?",confirmText:_.RELOAD,cancelText:_.CANCEL,confirmColor:"red",onConfirm:Qt.reload})})})]})})]}),l(PS,{font:e})]})})}var Fi,Sg,Di,AS,wg=h(()=>{"use strict";a();s();ye();W();Me();vi();ke();Hn();be();fr();Le();ut();Z();re();Fi=F(xg());Vr();Sg=F(Ke()),Di=F(ne());hd();({useToken:AS}=Y(()=>H("useToken")))});var Tg={};B(Tg,{default:()=>Eg});function Eg(){ue(D),ue(Ie);var e=Ce.useNavigation();return l(Cn,{title:_.FONTS,searchKeywords:["name","description"],sortOptions:{"Name (A-Z)":(t,r)=>t.name.localeCompare(r.name),"Name (Z-A)":(t,r)=>r.name.localeCompare(t.name)},items:Object.values(Ie),safeModeHint:{message:_.SAFE_MODE_NOTICE_FONTS},CardComponent:vd,installAction:{label:"Install a font",onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Import Font",render:()=>l(ys,{})})}}})}var Cg=h(()=>{"use strict";a();s();W();Me();yl();hd();ke();Hn();He();Z();wg()});function Rg(e,t){var[r,o]=(0,ki.useState)(2),n=()=>qr(e,{prefix:t}).then(u=>o(u?1:0)).catch(()=>o(3)),i=(0,ki.useMemo)(()=>new Proxy(Ui,{get(u,c,f){var g=Reflect.get(u,c,f);if(typeof g=="function")return(...v)=>{var S=(n(),g(...v));return S?.constructor?.name==="Promise"&&(o(2),S.finally(n)),S}}}),[]);return(0,ki.useEffect)(()=>void n(),[]),[r,i]}var ki,Wr,Ag=h(()=>{"use strict";a();s();Eo();ki=F(Ke());(function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"})(Wr||(Wr={}))});function yd({asset:e}){return l(jr,{label:`${e.name} - ${e.id}`,trailing:l(Pg.Image,{source:e.id,style:{width:32,height:32}}),onPress:()=>{Ue.setString(e.name),K.showCopyToClipboard()}})}var Pg,Ig=h(()=>{"use strict";a();s();W();Z();re();rr();Pg=F(ne())});function gd(){var[e,t]=React.useState(""),r=(0,Og.useMemo)(()=>Array.from($o()),[]);return l(Ne,{children:x(tu.View,{style:{flex:1},children:[l(Ko,{style:{margin:10},onChangeText:o=>t(o)}),l(tu.FlatList,{data:r.filter(o=>o.name.includes(e)||o.id.toString()===e),renderItem:({item:o})=>l(yd,{asset:o}),ItemSeparatorComponent:ca,keyExtractor:o=>o.name})]})})}var Og,tu,Ng=h(()=>{"use strict";a();s();W();Ig();be();re();or();Og=F(Ke()),tu=F(ne())});var Mg={};B(Mg,{default:()=>Lg});function Lg(){var[e,t]=Rg("preloads/reactDevtools.js"),r=LS(),o=Ce.useNavigation();return ue(D),ue(tr),l(Ne,{children:l(ru.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:x(_e,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[l(ot,{label:_.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:()=>l(fa,{style:r.leadingText,children:"ws://"}),defaultValue:D.debuggerUrl,onChange:n=>D.debuggerUrl=n}),x(Be,{title:_.DEBUG,children:[l(I,{label:_.CONNECT_TO_DEBUG_WEBSOCKET,icon:l(I.Icon,{source:y("copy")}),onPress:()=>xa(D.debuggerUrl)}),ya()&&l(Jt,{children:l(I,{label:_.CONNECT_TO_REACT_DEVTOOLS,icon:l(I.Icon,{source:y("ic_badge_staff")}),onPress:()=>window[Qp()||"__vendetta_rdc"]?.connectToDevTools({host:D.debuggerUrl.split(":")?.[0],resolveRNStyle:ru.StyleSheet.flatten})})})]}),Yc()&&l(Jt,{children:x(Be,{title:"Loader config",children:[l(ro,{label:_.LOAD_FROM_CUSTOM_URL,subLabel:_.LOAD_FROM_CUSTOM_URL_DEC,icon:l(I.Icon,{source:y("copy")}),value:tr.customLoadUrl.enabled,onValueChange:n=>{tr.customLoadUrl.enabled=n}}),tr.customLoadUrl.enabled&&l(I,{label:l(ot,{defaultValue:tr.customLoadUrl.url,size:"md",onChange:n=>tr.customLoadUrl.url=n,placeholder:"http://localhost:4040/vendetta.js",label:_.BUNNY_URL})}),ya()&&St()&&l(ro,{label:_.LOAD_REACT_DEVTOOLS,subLabel:`${_.VERSION}: ${Kp()}`,icon:l(I.Icon,{source:y("ic_badge_staff")}),value:tr.loadReactDevTools,onValueChange:n=>{tr.loadReactDevTools=n}})]})}),x(Be,{title:"Other",children:[l(I,{arrow:!0,label:_.ASSET_BROWSER,icon:l(I.Icon,{source:y("ic_image")}),trailing:I.Arrow,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{title:_.ASSET_BROWSER,render:gd})}),l(I,{arrow:!0,label:_.ERROR_BOUNDARY_TOOLS_LABEL,icon:l(I.Icon,{source:y("ic_warning_24px")}),onPress:()=>OS({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:l(I.Icon,{style:{marginRight:8},source:y("ic_warning_24px")}),onClose:()=>IS()},options:[{label:_.BUNNY,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{render:()=>l("undefined",{})})},{label:"Discord",isDestructive:!0,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{noErrorBoundary:!0})}]})}),l(I,{label:_.INSTALL_REACT_DEVTOOLS,subLabel:_.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:l(I.Icon,{source:y("DownloadIcon")}),trailing:l(X,{size:"sm",loading:e===Wr.LOADING,disabled:e===Wr.LOADING,variant:e===Wr.TRUE?"secondary":"primary",text:e===Wr.TRUE?_.UNINSTALL:_.INSTALL,onPress:w(function*(){e===Wr.FALSE?t.downloadFile(NS,"preloads/reactDevtools.js"):e===Wr.TRUE&&t.removeFile("preloads/reactDevtools.js")}),icon:y(e===Wr.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),l(ro,{label:_.ENABLE_EVAL_COMMAND,subLabel:_.ENABLE_EVAL_COMMAND_DESC,icon:l(I.Icon,{source:y("PencilIcon")}),value:D.enableEvalCommand,onValueChange:n=>{D.enableEvalCommand=n}})]})]})})})}var ru,IS,OS,NS,LS,Dg=h(()=>{"use strict";a();s();ye();W();Me();Ag();Ng();ke();be();uo();ao();He();Le();Z();re();Pe();li();or();Vr();ru=F(ne()),{hideActionSheet:IS}=Y(()=>H("openLazy","hideActionSheet")),{showSimpleActionSheet:OS}=Y(()=>H("showSimpleActionSheet")),NS="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",LS=Cr({leadingText:{...co["heading-md/semibold"],color:wt.TEXT_MUTED,marginRight:-4}})});function _d(){ml({name:"Bunny",items:[{key:"BUNNY",title:()=>_.BUNNY,icon:{uri:ci},render:()=>Promise.resolve().then(()=>(rv(),tv)),useTrailing:()=>"(85cbac7-dev)"},{key:"BUNNY_PLUGINS",title:()=>_.PLUGINS,icon:y("ActivitiesIcon"),render:()=>Promise.resolve().then(()=>(fg(),cg))},{key:"BUNNY_THEMES",title:()=>_.THEMES,icon:y("PaintPaletteIcon"),render:()=>Promise.resolve().then(()=>(gg(),yg)),usePredicate:()=>wr()},{key:"BUNNY_FONTS",title:()=>_.FONTS,icon:y("ic_add_text"),render:()=>Promise.resolve().then(()=>(Cg(),Tg)),usePredicate:()=>Xp()},{key:"BUNNY_DEVELOPER",title:()=>_.DEVELOPER,icon:y("WrenchIcon"),render:()=>Promise.resolve().then(()=>(Dg(),Mg)),usePredicate:()=>ue(D).developerSettings??!1}]}),ml({name:"Vendetta",items:[]})}var hl=h(()=>{"use strict";a();s();zh();Me();ke();be();ao();He();mi()});var kg=Mr((nG,Fg)=>{a();s();Fg.exports=Mo().lodash});var jg=Mr((sG,Bg)=>{a();s();Bg.exports=Mo().util});var ou,Ug,Hg,Vg=h(()=>{"use strict";a();s();W();vi();ke();ke();kt();be();Na();uo();ao();et();He();Dt();uc();to();ut();Z();re();re();li();or();Vr();rr();zn();ou=F(Ke()),Ug=F(ne());fo();Hg=()=>{var e=r=>o=>r(qi.createSimpleFilter(o,_p(new Error().stack))),t=window.vendetta={patcher:{before:Qi.before,after:Qi.after,instead:Qi.instead},metro:{modules:window.modules,find:e(tt),findAll:e(Lo),findByProps:(...r)=>{r.length===1&&r[0]==="KeyboardAwareScrollView"&&r.push("listenToKeyboardEvents");var o=H(...r);if(o==null&&r.includes("ActionSheetTitleHeader")){var n=H("ActionSheetRow");return{...n,ActionSheetTitleHeader:n.BottomSheetTitleHeader,ActionSheetContentContainer:({children:i})=>((0,ou.useEffect)(()=>console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. This has been temporarily replaced with View"),[]),(0,ou.createElement)(Ug.View,null,i))}}return o},findByPropsAll:(...r)=>Mu(...r),findByName:(r,o)=>r==="create"&&typeof o>"u"?Kn("create",!1).default:Kn(r,o??!0),findByNameAll:(r,o=!0)=>Du(r,o),findByDisplayName:(r,o=!0)=>Fu(r,o),findByDisplayNameAll:(r,o=!0)=>Bu(r,o),findByTypeName:(r,o=!0)=>ju(r,o),findByTypeNameAll:(r,o=!0)=>Uu(r,o),findByStoreName:r=>Hu(r),common:{constants:xr,channels:ma,i18n:Uo,url:Ho,toasts:da,stylesheet:{createThemedStyleSheet:Sf},clipboard:Ue,assets:Pc,invites:Ic,commands:bn,navigation:Oc,navigationStack:Nc,NavigationNative:Ce,Flux:Lc,FluxDispatcher:Sr,React:pa,ReactNative:zs,moment:Df(),chroma:ei(),lodash:kg(),util:jg()}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:(r,o)=>Xt(r,o),findInTree:(r,o,n)=>eo(r,o,n),safeFetch:(r,o,n)=>vt(r,o,n),unfreeze:r=>Object.isFrozen(r)?{...r}:r,without:(r,...o)=>$i(r,o)},debug:{connectToDebugger:r=>xa(r),getDebugInfo:()=>Tr()},ui:{components:{Forms:Hs,General:zs,Alert:aa,Button:vc,HelpMessage:(...r)=>l(sa,{...r}),SafeAreaView:(...r)=>l(la,{...r}),Summary:Ca,ErrorBoundary:Ne,Codeblock:Rr,Search:Ko},toasts:{showToast:(r,o)=>K(r,o)},alerts:{showConfirmationAlert:r=>Or(r),showCustomAlert:(r,o)=>Kf(r,o),showInputAlert:r=>hv(r)},assets:{all:new Proxy({},{get(r,o){if(typeof o=="string"){if(r[o])return r[o];for(var n of $o())if(n.name)return r[o]=n}},ownKeys(r){var o=new Set;for(var n of $o())r[n.name]=n,o.add(n.name);return[...o]}}),find:r=>ai(r),getAssetByName:r=>ai(r),getAssetByID:r=>ai(r),getAssetIDByName:r=>y(r)},semanticColors:wt,rawColors:yh},plugins:{plugins:Q.plugins,fetchPlugin:r=>Q.fetchPlugin(r),installPlugin:(r,o=!0)=>Q.installPlugin(r,o),startPlugin:r=>Q.startPlugin(r),stopPlugin:(r,o=!0)=>Q.stopPlugin(r,o),removePlugin:r=>Q.removePlugin(r),getSettings:r=>Q.getSettings(r)},themes:{themes:Re,fetchTheme:(r,o)=>Sn(r,o),installTheme:r=>oo(r),selectTheme:r=>no(r==="default"?null:Re[r]),removeTheme:r=>wn(r),getCurrentTheme:()=>zo(),updateThemes:()=>Ks()},commands:{registerCommand:gi},storage:{createProxy:r=>ea(r),useProxy:r=>ue(r),createStorage:r=>Mt(r),wrapSync:r=>hr(r),awaitSyncWrapper:r=>Do(r),createMMKVBackend:r=>vr(r),createFileBackend:r=>(Qe()&&r==="vendetta_theme.json"&&(r="pyoncord/current-theme.json"),pn(r))},settings:D,loader:{identity:Kc()??void 0,config:tr},logger:{log:(...r)=>console.log(...r),info:(...r)=>console.info(...r),warn:(...r)=>console.warn(...r),error:(...r)=>console.error(...r),time:(...r)=>console.time(...r),trace:(...r)=>console.trace(...r),verbose:(...r)=>console.log(...r)},version:ba,unload:()=>{delete window.vendetta}};return()=>t.unload()}});var Gg=h(()=>{"use strict";a();s()});var zg=h(()=>{"use strict";a();s()});var bd={};B(bd,{alerts:()=>Vf,components:()=>ll,settings:()=>Bf,sheets:()=>Ef,styles:()=>wf,toasts:()=>ol});var $g=h(()=>{"use strict";a();s();Ra();or();mi();Wo();Vr();rr()});var xd={};B(xd,{_jsx:()=>hc,api:()=>nm,fonts:()=>vs,managers:()=>MS,metro:()=>Ws,plugins:()=>ja,themes:()=>En,ui:()=>bd,unload:()=>gs,utils:()=>js});function gs(){for(var e of Wg)typeof e=="function"&&e();delete window.bunny}var MS,Wg,Qg=h(()=>{"use strict";a();s();Gg();zg();Hn();po();kt();im();$g();Dt();ut();Hn();po();kt();W();Le();MS=$e(()=>(console.warn("bunny.managers.* is deprecated, and moved the top level (bunny.*). bunny.managers will be eventually removed soon"),{get fonts(){return vs},get plugins(){return ja},get themes(){return En}}),{hint:"object"}),Wg=[];gs.push=e=>{Wg.push(e)}});var Kg={};B(Kg,{default:()=>DS});var DS,qg=h(()=>{"use strict";a();s();ye();Bh();Gh();Me();hl();Vg();fo();Hn();po();kt();Na();uo();tm();xl();to();mi();Qg();DS=w(function*(){yield Promise.all([Qc(),Zf(),kf(),vf(),Jf(),Yf(),Hg(),hh(),_d(),Vh(),Mf(),wm()]).then(e=>e.forEach(t=>t&&gs.push(t))),window.bunny=xd,Q.initPlugins().then(e=>gs.push(e)).catch(()=>alert("Failed to initialize Vendetta plugins")),Em(),md(),lt.log("Bunny is ready!")})});a();s();ye();var{instead:FS}=xs();globalThis.window=globalThis;function Yg(){return Sd.apply(this,arguments)}function Sd(){return Sd=w(function*(){try{Object.freeze=Object.seal=Object,yield(Po(),pt(uh)).initMetroCache(),yield(qg(),pt(Kg)).default()}catch(r){var{ClientInfoManager:e}=(fr(),pt(Pd)),t=r instanceof Error?r.stack:void 0;console.log(t??r?.toString?.()??r),alert([`Failed to load Bunny!
`,`Build Number: ${e.Build}`,"Bunny: 85cbac7-dev",t||r?.toString?.()].join(`
`))}}),Sd.apply(this,arguments)}if(typeof globalThis.__r<"u")Yg();else{var e=function(t){var r=window.__fbBatchedBridge,o=new Array,n=FS("callFunctionReturnFlushedQueue",r,(u,c)=>u[0]==="AppRegistry"||!r.getCallableModule(u[0])?(o.push(u),r.flushedQueue()):c.apply(r,u)),i=function(){var u=w(function*(){yield Yg(),n(),t(0),o.forEach(c=>r.getCallableModule(c[0])&&r.__callFunction(...c))});return function(){return u.apply(this,arguments)}}();i()};kS=e,Object.defineProperties(globalThis,{__r:{configurable:!0,get:()=>nu,set(t){nu=function(o){if(o===0)e(t),nu=t;else return t(o)}}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(t){this.value=t}}})}var nu,kS;})();
//# sourceURL=bunny
