"use strict";(()=>{var rd=Object.create;var zn=Object.defineProperty;var td=Object.getOwnPropertyDescriptor;var od=Object.getOwnPropertyNames;var nd=Object.getPrototypeOf,ad=Object.prototype.hasOwnProperty;var h=(e,r)=>()=>(e&&(r=e(e=0)),r);var Pr=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),D=(e,r)=>{for(var t in r)zn(e,t,{get:r[t],enumerable:!0})},gu=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(var n=od(r),a=0,u=n.length,f;a<u;a++)f=n[a],!ad.call(e,f)&&f!==t&&zn(e,f,{get:(p=>r[p]).bind(null,f),enumerable:!(o=td(r,f))||o.enumerable});return e};var U=(e,r,t)=>(t=e!=null?rd(nd(e)):{},gu(r||!e||!e.__esModule?zn(t,"default",{value:e,enumerable:!0}):t,e)),Me=e=>gu(zn({},"__esModule",{value:!0}),e);var d,s=h(()=>{"use strict";d=Symbol("Symbol.asyncIterator")});var id,sd,ld,m,l=h(()=>{"use strict";id=e=>({status:"fulfilled",value:e}),sd=e=>({status:"rejected",reason:e}),ld=e=>Promise.resolve(e).then(id,sd),m=Promise.allSettled??=e=>Promise.all(Array.from(e).map(ld))});function hu(e,r,t,o,n,a,u){try{var f=e[a](u),p=f.value}catch(E){t(E);return}f.done?r(p):Promise.resolve(p).then(o,n)}function x(e){return function(){var r=this,t=arguments;return new Promise(function(o,n){var a=e.apply(r,t);function u(p){hu(a,o,n,u,f,"next",p)}function f(p){hu(a,o,n,u,f,"throw",p)}u(void 0)})}}var ne=h(()=>{s();l()});var $n=Pr((Ug,xu)=>{s();l();var di=Object.defineProperty,ud=Object.getOwnPropertyDescriptor,fd=Object.getOwnPropertyNames,cd=Object.prototype.hasOwnProperty,md=(e,r)=>{for(var t in r)di(e,t,{get:r[t],enumerable:!0})},dd=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function"){var n=function(u){!cd.call(e,u)&&u!==t&&di(e,u,{get:()=>r[u],enumerable:!(o=ud(r,u))||o.enumerable})};for(var a of fd(r))n(a)}return e},pd=e=>dd(di({},"__esModule",{value:!0}),e),vu={};md(vu,{after:()=>_d,before:()=>vd,instead:()=>yd,unpatchAll:()=>hd});xu.exports=pd(vu);var yu=["a","b","i"],Bt=new Map;function gd(e,r,t,o,n){var a=Bt.get(r)?.[e];if(!a)return n?Reflect.construct(r[e],t,o):r[e].apply(o,t);for(var u of a.b.values()){var f=u.call(o,t);Array.isArray(f)&&(t=f)}var p=[...a.i.values()].reduce((y,N)=>(...oe)=>N.call(o,oe,y),(...y)=>n?Reflect.construct(a.o,y,o):a.o.apply(o,y))(...t);for(var E of a.a.values())p=E.call(o,t,p)??p;return p}function _u(e,r,t,o){var n=Bt.get(e),a=n?.[r];if(!a?.[o].has(t))return!1;if(a[o].delete(t),yu.every(f=>a[f].size===0)){var u=Reflect.defineProperty(e,r,{value:a.o,writable:!0,configurable:!0});u||(e[r]=a.o),delete n[r]}return Object.keys(n).length==0&&Bt.delete(e),!0}function hd(){for(var[e,r]of Bt.entries())for(var t in r)for(var o of yu)for(var n of r[t]?.[o].keys()??[])_u(e,t,n,o)}var pi=e=>(r,t,o,n=!1)=>{if(typeof t[r]!="function")throw new Error(`${r} is not a function in ${t.constructor.name}`);Bt.has(t)||Bt.set(t,Object.create(null));var a=Bt.get(t);if(!a[r]){var u=t[r];a[r]={o:u,b:new Map,i:new Map,a:new Map};var f=(oe,me,hr)=>{var Ye=gd(r,t,me,oe,hr);return n&&N(),Ye},p=new Proxy(u,{apply:(oe,me,hr)=>f(me,hr,!1),construct:(oe,me)=>f(u,me,!0),get:(oe,me,hr)=>me=="toString"?u.toString.bind(u):Reflect.get(oe,me,hr)}),E=Reflect.defineProperty(t,r,{value:p,configurable:!0,writable:!0});E||(t[r]=p)}var y=Symbol(),N=()=>_u(t,r,y,e);return a[r][e].set(y,o),N},vd=pi("b"),yd=pi("i"),_d=pi("a")});var Yn={};D(Yn,{BundleUpdaterManager:()=>jo,ClientInfoManager:()=>Mt,DeviceManager:()=>Dr,FileManager:()=>Y,MMKVManager:()=>Or,ThemeManager:()=>gi});var Nr,Or,Y,Mt,Dr,jo,gi,yr=h(()=>{"use strict";s();l();Nr=window.nativeModuleProxy,Or=Nr.MMKVManager;Y=Nr.DCDFileManager??Nr.RTNFileManager;Mt=Nr.InfoDictionaryManager??Nr.RTNClientInfoManager;Dr=Nr.DCDDeviceManager??Nr.RTNDeviceManager,{BundleUpdaterManager:jo}=Nr,gi=Nr.RTNThemeManager??Nr.DCDTheme});function Ft(e){return Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ft(e)}var hi=h(()=>{s();l()});function ko(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ko=function(){return!!e})()}var vi=h(()=>{s();l()});function Su(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Eu=h(()=>{s();l()});function bu(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var Tu=h(()=>{s();l()});function Au(e,r){return r&&(bu(r)==="object"||typeof r=="function")?r:Su(e)}var wu=h(()=>{s();l();Eu();Tu()});function Wn(e,r,t){return r=Ft(r),Au(e,ko()?Reflect.construct(r,t||[],Ft(e).constructor):r.apply(e,t))}var yi=h(()=>{s();l();hi();vi();wu()});function Ut(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var Kn=h(()=>{s();l()});function ut(e,r){return ut=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},ut(e,r)}var Xn=h(()=>{s();l()});function qn(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ut(e,r)}var _i=h(()=>{s();l();Xn()});function Ho(e,r,t){return ko()?Ho=Reflect.construct:Ho=function(n,a,u){var f=[null];f.push.apply(f,a);var p=Function.bind.apply(n,f),E=new p;return u&&ut(E,u.prototype),E},Ho.apply(null,arguments)}var Ru=h(()=>{s();l();vi();Xn()});function Cu(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var Iu=h(()=>{s();l()});function Jn(e){var r=typeof Map=="function"?new Map:void 0;return Jn=function(o){if(o===null||!Cu(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(o))return r.get(o);r.set(o,n)}function n(){return Ho(o,arguments,Ft(this).constructor)}return n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ut(n,o)},Jn(e)}var Lu=h(()=>{s();l();Ru();hi();Iu();Xn()});function xi(e,r,{signal:t,edges:o}={}){var n=void 0,a=null,u=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),p=()=>{a!==null&&(e.apply(n,a),n=void 0,a=null)},E=()=>{f&&p(),me()},y=null,N=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,E()},r)},oe=()=>{y!==null&&(clearTimeout(y),y=null)},me=()=>{oe(),n=void 0,a=null},hr=()=>{oe(),p()},Ye=function(...Mo){if(!t?.aborted){n=this,a=Mo;var si=y==null;N(),u&&si&&p()}};return Ye.schedule=N,Ye.cancel=me,Ye.flush=hr,t?.addEventListener("abort",me,{once:!0}),Ye}var Pu=h(()=>{s();l()});function Si(e,r){for(var t={...e},o=0;o<r.length;o++){var n=r[o];delete t[n]}return t}var Nu=h(()=>{s();l()});var Ei=h(()=>{s();l();Pu();Nu()});var ft,Br,bi=h(()=>{"use strict";s();l();(function(e){e[e.EXISTS=1]="EXISTS",e[e.BLACKLISTED=2]="BLACKLISTED"})(ft||(ft={}));(function(e){e[e.FULL_LOOKUP=0]="FULL_LOOKUP",e[e.NOT_FOUND=1]="NOT_FOUND"})(Br||(Br={}))});var kt={};D(kt,{_patcherDelaySymbol:()=>Go,after:()=>W,before:()=>jt,default:()=>Vo,instead:()=>ct});function Ti(e){function r(...o){if(Go in o[1]){var n=o[1][Go],a=!1,u=()=>a=!0;return n(f=>{a||(o[1]=f,u=e.apply(this,o))}),()=>u()}return e.apply(this,o)}function t(...o){var n=o[1];if(!n||!("then"in n))throw new Error("target is not a then-able object");var a=!1,u=()=>a=!0;return n.then(f=>{a||(o[1]=f,u=r.apply(this,o))}),()=>u()}return Object.assign(r,{await:t})}var xd,Sd,Ed,Go,W,jt,ct,Vo,Fe=h(()=>{"use strict";s();l();({after:xd,before:Sd,instead:Ed}=$n()),Go=Symbol.for("bunny.api.patcher.delay");W=Ti(xd),jt=Ti(Sd),ct=Ti(Ed),Vo={after:W,before:jt,instead:ct}});var Yo={};D(Yo,{assetsMap:()=>mt,findAsset:()=>$o,findAssetId:()=>v,patchAssets:()=>bd});function bd(e){if(!zo){zo=e;var r=W("registerAsset",zo,([t])=>{var o=Ai();o!==-1&&wi(t.name,o)});return r}}function $o(e){return typeof e=="number"?zo.getAssetByID(e):typeof e=="string"?mt[e]:Object.values(mt).find(e)}function v(e){return mt[e]?.index}var mt,zo,ie=h(()=>{"use strict";s();l();Fe();Gt();Ht();mt=new Proxy({},{get(e,r){if(typeof r=="string"){if(e[r])return e[r];var t=Mr().assetsIndex[r];if(t!=null){for(var o in t){var n=ir(Number(o));if(typeof n=="number"){var a=zo.getAssetByID(n);a&&(a.index??=a.id??=n,a.moduleId??=o,e[r]??=a)}}return e[r]}}},ownKeys(e){var r=[];for(var t in Mr().assetsIndex)e[t]=this.get(e,t,{}),e[t]&&r.push(t);return r}})});function Ou(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Vt(e,r,t){return r&&Ou(e.prototype,r),t&&Ou(e,t),e}var Zn=h(()=>{s();l()});function Qn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ri=h(()=>{s();l()});var Ci,co,ea=h(()=>{"use strict";s();l();Kn();Zn();Ri();(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(Ci||(Ci={}));co=function(){"use strict";function e(){Ut(this,e),Qn(this,"listeners",Object.values(Ci).reduce((r,t)=>(r[t]=new Set,r),{}))}return Vt(e,[{key:"on",value:function(t,o){this.listeners[t].has(o)||this.listeners[t].add(o)}},{key:"off",value:function(t,o){this.listeners[t].delete(o)}},{key:"once",value:function(t,o){var n=(a,u)=>{this.off(a,n),o(a,u)};this.on(t,n)}},{key:"emit",value:function(t,o){for(var n of this.listeners[t])n(t,o)}}]),e}()});var Wo={};D(Wo,{createFilterDefinition:()=>sr,createSimpleFilter:()=>Td});function sr(e,r){function t(n,a,u){return Object.assign(n,{filter:e,raw:u,uniq:[u&&"raw::",r(a)].filter(Boolean).join("")})}var o=n=>(...a)=>t((u,f,p)=>e(a,u,f,p),a,n);return Object.assign(o(!1),{byRaw:o(!0),uniqMaker:r})}function Td(e,r){return sr((t,o)=>e(o),()=>`dynamic::${r}`)()}var ra=h(()=>{"use strict";s();l()});var Ii={};D(Ii,{byDisplayName:()=>pt,byFilePath:()=>oa,byMutableProp:()=>Xo,byName:()=>dt,byProps:()=>Ko,byStoreName:()=>ta,byTypeName:()=>gt});var Ko,dt,pt,gt,ta,oa,Xo,qo=h(()=>{"use strict";s();l();ra();Ht();Ko=sr((e,r)=>e.length===0?r[e[0]]:e.every(t=>r[t]),e=>`bunny.metro.byProps(${e.join(",")})`),dt=sr(([e],r)=>r.name===e,e=>`bunny.metro.byName(${e})`),pt=sr(([e],r)=>r.displayName===e,e=>`bunny.metro.byDisplayName(${e})`),gt=sr(([e],r)=>r.type?.name===e,e=>`bunny.metro.byTypeName(${e})`),ta=sr(([e],r)=>r.getName?.length===0&&r.getName()===e,e=>`bunny.metro.byStoreName(${e})`),oa=sr(([e,r],t,o,n)=>r===n&&Pe[o]?.__filePath===e,([e,r])=>`bunny.metro.byFilePath(${e},${r})`),Xo=sr(([e],r)=>r?.[e]&&!Object.getOwnPropertyDescriptor(r,e)?.get,e=>`bunny.metro.byMutableProp(${e})`)});function Du(e,r,t){return e.default&&e.__esModule&&t(e.default,r,!0)?{exports:t.raw?e:e.default,defaultExport:!t.raw}:!t.raw&&t(e,r,!1)?{exports:e,defaultExport:!1}:{}}function Li(e){var{cacheId:r,finish:t}=aa(e.uniq,!1);for(var[o,n]of na(e.uniq,!1)){var{exports:a,defaultExport:u}=Du(n,o,e);if(a!==void 0)return r(o,a),{id:o,defaultExport:u}}return t(!0),{}}function Ad(e){return Li(e)?.id}function we(e){var{id:r,defaultExport:t}=Li(e);if(r!=null)return t?ir(r).default:ir(r)}function Pi(e){var{cacheId:r,finish:t}=aa(e.uniq,!0),o=[];for(var[n,a]of na(e.uniq,!0)){var{exports:u,defaultExport:f}=Du(a,n,e);u!==void 0&&typeof f=="boolean"&&(o.push({id:n,defaultExport:f}),r(n,u))}return t(o.length===0),o}function wd(e){return Pi(e).map(r=>r.id)}function ht(e){return Pi(e).map(r=>{if(r.id){var{id:t,defaultExport:o}=r;return o?ir(t).default:ir(t)}})}var mo=h(()=>{"use strict";s();l();Gt();Ht()});var Oi={};D(Oi,{getProxyFactory:()=>Ni,lazyDestructure:()=>H,proxyLazy:()=>xe});function xe(e,r={}){var t,o=r.hint!=="object"?function(){}:{},n=()=>t??=e(),a=new Proxy(o,Cd);return Mu.set(a,n),po.set(o,{factory:e,options:r}),a}function H(e,r={}){var t=xe(e);return new Proxy({},{get(o,n){return n===Symbol.iterator?function*(){throw yield t,yield new Proxy({},{get:(a,u)=>xe(()=>t[u],r)}),new Error("This is not a real iterator, this is likely used incorrectly")}:xe(()=>t[n],r)}})}function Ni(e){return Mu.get(e)}var Bu,Rd,Mu,po,Cd,Se=h(()=>{"use strict";s();l();Bu=new Set(["arguments","caller","prototype"]),Rd=e=>typeof e=="string"&&Bu.has(e),Mu=new WeakMap,po=new WeakMap,Cd={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(e=>[e,(r,...t)=>{var o=po.get(r),n=o?.factory();if(!n)throw new Error(`Trying to Reflect.${e} of ${typeof n}`);return Reflect[e](n,...t)}])),has(e,r){var t=po.get(e);if(t?.options){var{exemptedEntries:o}=t.options;if(o&&r in o)return!0}var n=t?.factory();if(!n)throw new Error(`Trying to Reflect.has of ${typeof n}`);return Reflect.has(n,r)},get(e,r,t){var o=po.get(e);if(o?.options){var{exemptedEntries:n}=o.options;if(n?.[r])return n[r]}var a=o?.factory();if(!a)throw new Error(`Trying to Reflect.get of ${typeof a}`);return Reflect.get(a,r,t)},ownKeys:e=>{var r=po.get(e),t=r?.factory();if(!t)throw new Error(`Trying to Reflect.ownKeys of ${typeof t}`);var o=Reflect.ownKeys(t);return Bu.forEach(n=>!o.includes(n)&&o.push(n)),o},getOwnPropertyDescriptor:(e,r)=>{var t=po.get(e),o=t?.factory();if(!o)throw new Error(`Trying to getOwnPropertyDescriptor of ${typeof o}`);if(Rd(r))return Reflect.getOwnPropertyDescriptor(e,r);var n=Reflect.getOwnPropertyDescriptor(o,r);return n&&Object.defineProperty(e,r,n),n}}});var Di={};D(Di,{_lazyContextSymbol:()=>ia,createLazyModule:()=>Fr,getLazyContext:()=>Uu});function Id(e){var r=Mr().findIndex[e.uniq];if(r){for(var t in r)if(t[0]!=="_")return Number(t)}}function Ld(e,r){var t=Uu(e);if(!t)throw new Error("Subscribing a module for non-proxy-find");if(!t.indexed)throw new Error("Attempting to subscribe to a non-indexed find");return Bi(t.moduleId,()=>{r(we(t.filter))})}function Uu(e){return Fu.get(e)}function Fr(e){var r=void 0,t=Id(e),o={filter:e,indexed:!!t,moduleId:t,getExports(a){return!t||Pe[t]?.isInitialized?(a(this.forceLoad()),()=>{}):this.subscribe(a)},subscribe(a){return Ld(n,a)},get cache(){return r},forceLoad(){if(r??=we(e),!r)throw new Error(`${e.uniq} is ${typeof r}! (id ${o.moduleId??"unknown"})`);return r}},n=xe(()=>o.forceLoad(),{exemptedEntries:{[ia]:o,[Go]:a=>o.getExports(a)}});return Fu.set(n,o),n}var ia,Fu,Jo=h(()=>{"use strict";s();l();Fe();Se();mo();Gt();Ht();ia=Symbol.for("bunny.metro.lazyContext"),Fu=new WeakMap});var F,R,Mi,go,Re,Fi,Ui,ji,ki,Hi,Pd,Gi,Vi,Zo,Nd,zi,Q=h(()=>{"use strict";s();l();qo();mo();Jo();F=(...e)=>we(Ko(...e)),R=(...e)=>Fr(Ko(...e)),Mi=(...e)=>ht(Ko(...e)),go=(e,r=!0)=>we(r?dt(e):dt.byRaw(e)),Re=(e,r=!0)=>Fr(r?dt(e):dt.byRaw(e)),Fi=(e,r=!0)=>ht(r?dt(e):dt.byRaw(e)),Ui=(e,r=!0)=>we(r?pt(e):pt.byRaw(e)),ji=(e,r=!0)=>Fr(r?pt(e):pt.byRaw(e)),ki=(e,r=!0)=>ht(r?pt(e):pt.byRaw(e)),Hi=(e,r=!0)=>we(r?gt(e):gt.byRaw(e)),Pd=(e,r=!0)=>Fr(r?gt(e):gt.byRaw(e)),Gi=(e,r=!0)=>ht(r?gt(e):gt.byRaw(e)),Vi=e=>we(ta(e)),Zo=e=>Fr(ta(e)),Nd=(e,r=!1)=>we(oa(e,r)),zi=(e,r=!1)=>Fr(oa(e,r))});var vt=Pr((Vv,ju)=>{"use strict";s();l();Q();ju.exports={react:R("createElement"),"react-native":R("AppRegistry"),util:R("inspect","isNullOrUndefined"),moment:R("isMoment"),"chroma-js":R("brewer"),lodash:R("forEachRight"),"@shopify/react-native-skia":R("useFont")}});var ae=Pr((Yv,ku)=>{s();l();ku.exports=vt()["react-native"]});var Gu,Hu,$i,Vu,ho,Ze,Wr,zu=h(()=>{"use strict";s();l();ne();yr();Gu=U(ae()),Hu=/[<>:"/\\|?*]/g,$i=e=>Gu.Platform.select({default:e,ios:Y.saveFileToGallery?e:`Documents/${e}`}),Vu=e=>(Hu.test(e)&&(e=e.replace(Hu,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`),ho=function(){var e=x(function*(r){(yield Or.getItem(r))&&Or.removeItem(r);var t=Vu(r);(yield Y.fileExists(`${Y.getConstants().DocumentsDirPath}/${t}`))&&(yield Y.removeFile?.("documents",t))});return function(t){return e.apply(this,arguments)}}(),Ze=(e,r={})=>{var t=Vu(e),o=JSON.stringify(r);return Wr(t,r,x(function*(){var n=`${Y.getConstants().DocumentsDirPath}/${t}`;if(!(yield Y.fileExists(n))){var a=(yield Or.getItem(e))??o;if(a==="!!LARGE_VALUE!!"){var u=`${Y.getConstants().CacheDirPath}/mmkv/${e}`;(yield Y.fileExists(u))?a=yield Y.readFile(u,"utf8"):(console.log(`${e}: Experienced data loss :(`),a=o)}try{JSON.parse(a)}catch{console.error(`${e} had an unparseable data while migrating`),a=o}yield Y.writeFile("documents",$i(t),a,"utf8"),(yield Or.getItem(e))!==null&&(Or.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}})())},Wr=(e,r={},t)=>({get:x(function*(){yield t;var o=`${Y.getConstants().DocumentsDirPath}/${e}`;if(yield Y.fileExists(o)){var n=yield Y.readFile(o,"utf8");try{return JSON.parse(n)}catch{}}return yield Y.writeFile("documents",$i(e),JSON.stringify(r),"utf8"),JSON.parse(yield Y.readFile(o,"utf8"))}),set:function(){var o=x(function*(n){yield t,yield Y.writeFile("documents",$i(e),JSON.stringify(n),"utf8")});return function(n){return o.apply(this,arguments)}}()})});var sa={};D(sa,{awaitStorage:()=>Kr,createFileBackend:()=>Wr,createMMKVBackend:()=>Ze,createProxy:()=>vo,createStorage:()=>He,purgeStorage:()=>ho,useProxy:()=>j,wrapSync:()=>lr});function vo(e={}){var r=new co,t=e,o=new WeakMap,n=new WeakSet;function a(u,f){return new Proxy(u,{get(p,E){if(E===$u)return r;var y=[...f,E],N=p[E];if(N!=null){if(r.emit("GET",{parent:t,path:y,value:N}),typeof N=="object"){if(n.has(N))return N;if(o.has(N))return o.get(N);var oe=a(N,y);return o.set(N,oe),oe}return N}return N},set(p,E,y){if(typeof y=="object")if(o.has(y))p[E]=o.get(y);else{var N=a(y,[...f,E]);o.set(y,N),n.add(y),p[E]=N}else p[E]=y;return r.emit("SET",{parent:t,path:[...f,E],value:p[E]}),!0},deleteProperty(p,E){var y=typeof p[E]=="object"?o.get(p[E]):p[E],N=delete p[E];return N&&r.emit("DEL",{value:y,parent:t,path:[...f,E]}),N}})}return{proxy:a(e,[]),emitter:r}}function j(e){var r=e?.[$u];if(!r)throw new Error("storage?.[emitterSymbol] is undefined");var[,t]=React.useReducer(o=>~o,0);return React.useEffect(()=>{var o=(n,a)=>{n==="DEL"&&a.value===e||t()};return r.on("SET",o),r.on("DEL",o),()=>{r.off("SET",o),r.off("DEL",o)}},[]),e}function He(e){return Yi.apply(this,arguments)}function Yi(){return Yi=x(function*(e){var r=yield e.get(),{proxy:t,emitter:o}=vo(r),n=()=>e.set(t);return o.on("SET",n),o.on("DEL",n),t}),Yi.apply(this,arguments)}function lr(e){var r=void 0,t=[],o=n=>r?n():t.push(n);return e.then(n=>{r=n,t.forEach(a=>a())}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(n=>[n,(a,...u)=>Reflect[n](r??a,...u)])),get(n,a,u){return a===Yu?o:Reflect.get(r??n,a,u)}})}function Kr(...e){return Promise.all(e.map(r=>new Promise(t=>r[Yu](t))))}var $u,Yu,ue=h(()=>{"use strict";s();l();ne();ea();zu();$u=Symbol.for("vendetta.storage.emitter"),Yu=Symbol.for("vendetta.storage.accessor")});var Qi={};D(Qi,{BUNNY_PROXY_PREFIX:()=>yo,DISCORD_SERVER:()=>Wi,DISCORD_SERVER_ID:()=>Ji,GITHUB:()=>Ki,HTTP_REGEX:()=>Od,HTTP_REGEX_MULTI:()=>Xi,OFFICIAL_PLUGINS_REPO_URL:()=>qi,OLD_BUNNY_PROXY_PREFIX:()=>Dd,PLUGINS_CHANNEL_ID:()=>Zi,THEMES_CHANNEL_ID:()=>Qo,VD_PROXY_PREFIX:()=>_r});var Wi,Ki,Od,Xi,_r,yo,Dd,qi,Ji,Zi,Qo,yt=h(()=>{"use strict";s();l();Wi="https://discord.gg/XjYgWXHb9Q",Ki="https://github.com/pyoncord",Od=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,Xi=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,_r="https://vd-plugins.github.io/proxy",yo="https://bn-plugins.github.io/vd-proxy",Dd="https://bunny-mod.github.io/plugins-proxy",qi="https://bn-plugins.github.io/dist/repo.json",Ji="1015931589865246730",Zi="1091880384561684561",Qo="1091880434939482202"});function es(e,r=0){for(var t=3735928559^r,o=1103547991^r,n=0,a;n<e.length;n++)a=e.charCodeAt(n),t=Math.imul(t^a,2654435761),o=Math.imul(o^a,1597334677);return t=Math.imul(t^t>>>16,2246822507),t^=Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(t^t>>>13,3266489909),[o>>>0,t>>>0]}function Wu(e,r=0){var[t,o]=es(e,r);return t.toString(36).padStart(7,"0")+o.toString(36).padStart(7,"0")}var rs=h(()=>{"use strict";s();l()});var xr,Ku=h(()=>{"use strict";s();l();Sr();xr=(e,r)=>_o(e,r,{walkable:["props","children","child","sibling"]})});function ts(e,r,t,o){if(!(o>t.maxDepth)&&e){try{if(r(e))return e}catch{}if(Array.isArray(e)){for(var n of e)if(!(typeof n!="object"||n===null))try{var a=ts(n,r,t,o+1);if(a)return a}catch{}}else if(typeof e=="object"){for(var u of Object.keys(e))if(!(typeof e[u]!="object"||e[u]===null)&&!(t.walkable.length&&!t.walkable.includes(u))&&!t.ignore.includes(u))try{var f=ts(e[u],r,t,o+1);if(f)return f}catch{}}}}var _o,Xu=h(()=>{"use strict";s();l();_o=(e,r,{walkable:t=[],ignore:o=[],maxDepth:n=100}={})=>ts(e,r,{walkable:t,ignore:o,maxDepth:n},0)});function qu(e,r,t){var o=e;if(r in e)return void t(o[r]);var n;return Object.defineProperty(o,r,{get:()=>n,set(a){n=t(a)??a},configurable:!0,enumerable:!1}),()=>{delete o[r],o[r]=n}}var Ju=h(()=>{"use strict";s();l()});function os(e,r){if(!e){var t=typeof r=="function"?r():r,o="[Invariant Violation]",n=t?`${o}: ${t}`:o;throw new Error(n)}}var Zu=h(()=>{"use strict";s();l()});var ns={};D(ns,{DiscordLogger:()=>en,logger:()=>Ne});var en,Ne,Xr=h(()=>{"use strict";s();l();Q();en=Re("Logger"),Ne=new en("Bunny")});function Ge(e,r){return as.apply(this,arguments)}function as(){return as=x(function*(e,r,t=1e4){var o=yield fetch(e,{signal:Bd(t),...r});if(!o.ok)throw new Error(`Request returned non-ok: ${o.status} ${o.statusText}`);return o}),as.apply(this,arguments)}function Bd(e){var r=new AbortController;return setTimeout(()=>r.abort(`Timed out after ${e}ms`),e),r.signal}var Qu=h(()=>{"use strict";s();l();ne()});var la={};D(la,{Emitter:()=>co,constants:()=>Qi,cyrb64:()=>es,findInReactTree:()=>xr,findInTree:()=>_o,hookDefineProperty:()=>qu,invariant:()=>os,lazy:()=>Oi,logger:()=>ns,safeFetch:()=>Ge});var Sr=h(()=>{"use strict";s();l();yt();rs();ea();Ku();Xu();Ju();Zu();Se();Xr();Qu()});var ua=Pr((jy,ef)=>{s();l();ef.exports=vt()["chroma-js"]});var Wt={};D(Wt,{applyTheme:()=>rn,color:()=>he,fetchTheme:()=>$t,getCurrentTheme:()=>ca,getThemeFromLoader:()=>xt,initThemes:()=>gs,installTheme:()=>qr,patchChatBackground:()=>ps,removeTheme:()=>Yt,selectTheme:()=>Jr,themes:()=>ee,updateThemes:()=>fa});function is(e){return ss.apply(this,arguments)}function ss(){return ss=x(function*(e){if(typeof e!="object")throw new Error("Theme must be an object");yield Wr(hs()||"theme.json").set(e)}),ss.apply(this,arguments)}function ps(){var e=[W("default",Fd,(r,t)=>_t?React.createElement(xo.ImageBackground,{style:{flex:1,height:"100%"},source:Ve?.data?.background?.url&&{uri:Ve.data.background.url}||0,blurRadius:typeof Ve?.data?.background?.blur=="number"?Ve?.data?.background?.blur:0,children:t}):t),W("render",Ud.prototype,(r,t)=>{if(!(!_t||!Ve?.data?.background?.url)){var o=xr(t,n=>n&&"HACK_fixModalInteraction"in n.props&&n?.props?.style);o?o.props.style=[o.props.style,{backgroundColor:(0,zt.default)(o.props.style.backgroundColor||"black").alpha(1-(Ve?.data.background?.alpha??1)).hex()}]:console.error("Didn't find Messages when patching MessagesWrapper!")}})];return()=>e.forEach(r=>r())}function af(e){if(zt.default.valid(e))return(0,zt.default)(e).hex();var r=Number((0,xo.processColor)(e));return zt.default.rgb(r>>16&255,r>>8&255,r&255,r>>24&255).hex()}function kd(e){if(e.semanticColors){var{semanticColors:r}=e;for(var t in r)for(var o in r[t])r[t][o]&&=af(r[t][o])}if(e.rawColors){var{rawColors:n}=e;for(var a in n)e.rawColors[a]=af(n[a]);xo.Platform.OS==="android"&&Hd(n)}return e.spec??=2,e}function Hd(e){var r={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var t in r){var[o,n]=r[t];e[o]&&(e[t]=(0,zt.default)(e[o]).alpha(n).hex())}}function $t(e){return ls.apply(this,arguments)}function ls(){return ls=x(function*(e,r=!1){var t;try{t=yield(yield Ge(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}ee[e]={id:e,selected:r,data:kd(t)},r&&(is(ee[e]),rn(ee[e],Ee))}),ls.apply(this,arguments)}function qr(e){return us.apply(this,arguments)}function us(){return us=x(function*(e){if(typeof e!="string"||e in ee)throw new Error("Theme already installed");yield $t(e)}),us.apply(this,arguments)}function Jr(e,r=!0){if(e&&(e.selected=!0),Object.keys(ee).forEach(t=>ee[t].selected=ee[t].id===e?.id),e==null&&r)return is({});if(e)return is(e)}function Yt(e){return fs.apply(this,arguments)}function fs(){return fs=x(function*(e){var r=ee[e];return r.selected&&(yield Jr(null)),delete ee[e],r.selected}),fs.apply(this,arguments)}function xt(){return tn()}function fa(){return cs.apply(this,arguments)}function cs(){return cs=x(function*(){yield Kr(ee);var e=xt();yield m(Object.keys(ee).map(r=>$t(r,e?.id===r)))}),cs.apply(this,arguments)}function ca(){return Ve}function ds(e){return Vd.has(e)}function zd(){var e=([r])=>r===Er?[Ee]:void 0;Object.keys(he.RawColor).forEach(r=>{Object.defineProperty(he.RawColor,r,{configurable:!0,enumerable:!0,get:()=>_t?Ve?.data?.rawColors?.[r]??sf[r]:sf[r]})}),jt("isThemeDark",nf,e),jt("isThemeLight",nf,e),jt("updateTheme",gi,e),W("get",rf,([r],t)=>{r==="SelectivelySyncedUserSettingsStore"?(ms=!0,t?._state?.appearance?.settings?.theme&&_t&&(Ee=t._state.appearance.settings.theme,t._state.appearance.settings.theme=Er)):r==="ThemeStore"&&(ms=!0,t?._state?.theme&&_t&&(Ee=t._state.theme,t._state.theme=Er))}),jt("set",rf,r=>{if(r[1]){var t=r[0],o=JSON.parse(JSON.stringify(r[1])),n={SelectivelySyncedUserSettingsStore:()=>{if(o._state?.appearance?.settings?.theme){var{theme:a}=o._state?.appearance?.settings??{};ds(a)?Ee=a:o._state.appearance.settings.theme=Ee}},ThemeStore:()=>{if(o._state?.theme){var{theme:a}=o._state;ds(a)?Ee=a:o._state.theme=Ee}}};return t in n?(n[t](),[t,o]):r}}),ct("resolveSemanticColor",he.default.meta??he.default.internal,(r,t)=>{if(!_t||!Ve)return t(...r);if(r[0]!==Er)return t(...r);r[0]=Ee;var[o,n]=lf(Ee,r[1]),a=Ee==="midnight"?2:Ee==="light"?1:0;var u=jd[o]??o,f=(Ve.data?.semanticColors?.[o]??Ve.data?.semanticColors?.[u])?.[a];if(f)return f;var p=Ve.data?.rawColors?.[n.raw];return p?n.opacity===1?p:(0,zt.default)(p).alpha(n.opacity).hex():t(...r)})}function $d(e=Ee){var r=Md.theme.toLowerCase();return ds(r)?r:e}function rn(e,r){r||(r=$d()),Ve=e,_t=!!Ve,Ee=r,Er=`vd-theme-${Gd++}-${r}`,e&&(he.Theme[Er.toUpperCase()]=Er,of.DIVIDER_COLORS[Er]=of.DIVIDER_COLORS[Ee],Object.keys(he.Shadow).forEach(t=>he.Shadow[t][Er]=he.Shadow[t][Ee]),Object.keys(he.SemanticColor).forEach(t=>{he.SemanticColor[t][Er]={...he.SemanticColor[t][Ee],override:e?.data?.semanticColors?.[t]?.[0]}})),ms&&(tf.setShouldSyncAppearanceSettings(!1),tf.updateTheme(e?Er:r))}function gs(){var e=xt();_t=!!e,zd(),rn(e,Ee),fa().catch(r=>console.error("Failed to update themes",r))}function lf(e,r){var t=r[lf._sym??=Object.getOwnPropertySymbols(r)[0]],o=he.SemanticColor[t];return[t,o[e]]}var zt,xo,he,rf,tf,Md,of,Fd,Ud,nf,ee,jd,sf,Gd,Er,Ee,_t,Ve,ms,Vd,Qe=h(()=>{"use strict";s();l();ne();br();yr();Fe();ue();Sr();Se();qo();Jo();Q();zt=U(ua()),xo=U(ae());he=R("SemanticColor"),rf=xe(()=>{var e=F("impl");return typeof e?.impl=="object"?e.impl:F("storage")}),tf=R("updateTheme"),Md=Zo("ThemeStore"),of=R("DIVIDER_COLORS"),Fd=Re("MessagesWrapperConnected",!1),{MessagesWrapper:Ud}=H(()=>F("MessagesWrapper")),nf=Fr(Xo("isThemeDark")),ee=lr(He(Ze("VENDETTA_THEMES"))),jd={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};sf={...he.RawColor},Gd=0,Er="vd-theme",Ee="darker",_t=!1,ms=!1,Vd=new Set(["darker","midnight","dark","light"])});var bs={};D(bs,{getLoaderConfigPath:()=>Ss,getLoaderIdentity:()=>Wd,getLoaderName:()=>ma,getLoaderVersion:()=>vs,getReactDevToolsProp:()=>ys,getReactDevToolsVersion:()=>_s,getStoredTheme:()=>tn,getSysColors:()=>uf,getThemeFilePath:()=>hs,getVendettaLoaderIdentity:()=>on,isFontSupported:()=>Es,isLoaderConfigSupported:()=>da,isPyonLoader:()=>pe,isReactDevToolsPreloaded:()=>So,isSysColorsSupported:()=>xs,isThemeSupported:()=>ur,isVendettaLoader:()=>Oe});function Oe(){return jr!=null}function pe(){return Ur!=null}function Yd(){if(!pe()||Oe())return null;var e={name:Ur.loaderName,features:{}};return da()&&(e.features.loaderConfig=!0),xs()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:()=>uf(),configurable:!0})),ur()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:()=>{var r=tn()?.id;if(!r)return null;var{themes:t}=(Qe(),Me(Wt));return t[r]??tn()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:()=>e,configurable:!0}),e}function Wd(){return pe()?Ur:Oe()?on():null}function on(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:Yd()}function ma(){return pe()?Ur.loaderName:Oe()?jr.name:"Unknown"}function vs(){return pe()?Ur.loaderVersion:null}function da(){return pe()?!0:Oe()?jr.features.loaderConfig:!1}function ur(){return pe()?Ur.hasThemeSupport:Oe()?jr.features.themes!=null:!1}function tn(){if(pe())return Ur.storedTheme;if(Oe()){var e=jr.features.themes?.prop;return e&&globalThis[e]||null}return null}function hs(){return pe()?"pyoncord/current-theme.json":Oe()?"vendetta_theme.json":null}function So(){return pe()?!!window.__reactDevTools:Oe()?jr.features.devtools!=null:!1}function ys(){return So()?pe()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):Oe()?jr.features.devtools.prop:null:null}function _s(){return So()?pe()?window.__reactDevTools.version||null:Oe()?jr.features.devtools.version:null:null}function xs(){return pe()?Ur.isSysColorsSupported:Oe()?jr.features.syscolors!=null:!1}function uf(){return xs()?pe()?Ur.sysColors:Oe()?jr.features.syscolors.prop:null:null}function Ss(){return pe()?"pyoncord/loader.json":Oe()?"vendetta_loader.json":"loader.json"}function Es(){return pe()?Ur.fontPatch===2:!1}var Ur,jr,br=h(()=>{"use strict";s();l();Ur=globalThis.__PYON_LOADER__,jr=globalThis.__vendetta_loader;on()});var pa={};D(pa,{loaderConfig:()=>fr,settings:()=>I});var I,fr,Ce=h(()=>{"use strict";s();l();br();ue();I=lr(He(Ze("VENDETTA_SETTINGS"))),fr=lr(He(Wr(Ss(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var Rs={};D(Rs,{default:()=>Kd});var ff,mf,Ts,ws,Eo,As,Zr,cf,nn,Kd,Cs=h(()=>{"use strict";s();l();Gt();ff=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),mf={},Ts={},ws=Is("redesign_module");for([cf,nn]of ws.getModules())for(Zr of ff){if(Eo=void 0,nn[Zr])Eo=nn;else if(nn.default?.[Zr])Eo=nn.default;else continue;As=Reflect.ownKeys(Eo).length,!(Ts[Zr]&&As>=Ts[Zr])&&(mf[Zr]=Eo[Zr],Ts[Zr]=Reflect.ownKeys(Eo).length,ws.cacheId(cf),As===1&&ff.delete(Zr))}ws.finish();Kd=mf});var Ns={};D(Ns,{getCachedPolyfillModules:()=>ep,getImportingModuleId:()=>Ai,getModules:()=>na,metroModules:()=>Pe,requireModule:()=>ir,subscribeModule:()=>Bi});function ha(e){Object.defineProperty(Pe,e,{enumerable:!1}),vf.add(e),Ds(Number(e))}function an(e){return!e||e===window||e["<!@ pylix was here :fuyusquish: !@>"]===null||e.__proto__===Object.prototype&&Reflect.ownKeys(e).length===0}function Qd(e,r){if(Os(r,e),e.initSentry&&=()=>{},e.default?.track&&e.default.trackMaker&&(e.default.track=()=>Promise.resolve()),e.registerAsset&&(ie(),Me(Yo)).patchAssets(e),!gf&&["customBubblingEventTypes","customDirectEventTypes","register","get"].every(u=>e[u])&&(Ps("register",e,(u,f)=>{try{return f(...u)}catch{}}),gf=!0),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(u,f,p){if(f==="isDeveloper"){var{settings:E}=(Ce(),Me(pa));return E.enableDiscordDeveloperSettings??!1}return Reflect.get(u,f,p)}})),!pf&&e.fileFinishedImporting&&(qd("fileFinishedImporting",e,([u])=>{bo===-1||!u||(Pe[bo].__filePath=u)}),pf=!0),!df&&window["__core-js_shared__"]){var t=u=>typeof u=="function"&&Zd.apply(u,[]);window["__core-js_shared__"].inspectSource=t,df=!0}if(e.findHostInstance_DEPRECATED){var o=Pe[r-1]?.publicModule.exports,n=o.default?.reactProfilingEnabled?1:-1;Pe[r+n]?.isInitialized||ha(r+n)}e.isMoment&&Ps("defineLocale",e,(u,f)=>{var p=e.locale();f(...u),e.locale(p)});var a=ga.get(Number(r));a&&(a.forEach(u=>u()),ga.delete(Number(r)))}function Ai(){return bo}function Bi(e,r){var t=ga.get(e)??new Set;return t.add(r),ga.set(e,t),()=>t.delete(r)}function ir(e){if(Pe[0]?.isInitialized||Ls(0),!vf.has(e)){if(Number(e)===-1)return Cs(),Me(Rs);if(Pe[e]?.isInitialized&&!Pe[e]?.hasError)return Ls(e);var r=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(Jd);var t;try{t=Ls(e)}catch{ha(e),t=void 0}return ErrorUtils.setGlobalHandler(r),t}}function*na(e,r=!1){yield[-1,(Cs(),Me(Rs))];var t=Mr().findIndex[e];if(r&&!t?.[`_${Br.FULL_LOOKUP}`]&&(t=void 0),!t?.[`_${Br.NOT_FOUND}`]){for(var o in t)if(o[0]!=="_"){var n=ir(Number(o));an(n)||(yield[o,n])}for(var a in Pe){var u=ir(Number(a));an(u)||(yield[a,u])}}}function*ep(e){var r=Mr().polyfillIndex[e];for(var t in r){var o=ir(Number(t));an(o)||(yield[t,o])}if(!r[`_${Br.FULL_LOOKUP}`])for(var n in Pe){var a=ir(Number(n));an(a)||(yield[n,a])}}var Xd,qd,Ps,Pe,Ls,ga,vf,Jd,Zd,df,pf,gf,bo,hf,Ht=h(()=>{"use strict";s();l();Gt();bi();Xd=function(e){var r=Number(e),t=Pe[r],o=Mr().exportsIndex[r];if(o&ft.BLACKLISTED)return ha(r),"continue";t.factory&&Ps("factory",t,(n,a)=>{var u=bo;bo=r;var{1:f,4:p}=n;n[2]=E=>{var y=f(E);return y&&y.__esModule?y.default:y},n[3]=E=>{var y=f(E);if(y&&y.__esModule)return y;var N={};return y&&Object.assign(N,y),N.default=y,N},a(...n),an(p.exports)?ha(r):Qd(p.exports,r),bo=u})},{before:qd,instead:Ps}=$n(),Pe=window.modules,Ls=window.__r,ga=new Map,vf=new Set,Jd=()=>{},Zd=Function.prototype.toString,df=!1,pf=!1,gf=!1,bo=-1;for(hf in Pe)Xd(hf)});var Ef={};D(Ef,{getCacherForUniq:()=>aa,getMetroCache:()=>Mr,getPolyfillModuleCacher:()=>Is,indexAssetName:()=>wi,indexBlacklistFlag:()=>Ds,indexExportsFlags:()=>Os,initMetroCache:()=>rp});function yf(){var e={_v:_f,_buildNumber:Mt.Build,_modulesCount:Object.keys(window.modules).length,exportsIndex:{},findIndex:{},polyfillIndex:{},assetsIndex:{}};return setTimeout(()=>{for(var r in window.modules)(Ht(),Me(Ns)).requireModule(r)},100),Ue=e,e}function rp(){return Bs.apply(this,arguments)}function Bs(){return Bs=x(function*(){var e=yield Or.getItem(xf);if(e==null)return void yf();try{if(Ue=JSON.parse(e),Ue._v!==_f)throw Ue=null,"cache invalidated; cache version outdated";if(Ue._buildNumber!==Mt.Build)throw Ue=null,"cache invalidated; version mismatch";if(Ue._modulesCount!==Object.keys(window.modules).length)throw Ue=null,"cache invalidated; modules count mismatch"}catch{yf()}}),Bs.apply(this,arguments)}function Sf(e){if(e){var r=ft.EXISTS;return r}}function Os(e,r){var t=Sf(r);t&&t!==ft.EXISTS&&(Ue.exportsIndex[e]=t)}function Ds(e){Ue.exportsIndex[e]|=ft.BLACKLISTED}function aa(e,r){var t=Ue.findIndex[e]??={};return{cacheId(o,n){t[o]??=Sf(n),sn()},finish(o){r&&(t[`_${Br.FULL_LOOKUP}`]=1),o&&(t[`_${Br.NOT_FOUND}`]=1),sn()}}}function Is(e){var r=Ue.polyfillIndex[e]??={};return{getModules(){return(Ht(),Me(Ns)).getCachedPolyfillModules(e)},cacheId(t){r[t]=1,sn()},finish(){r[`_${Br.FULL_LOOKUP}`]=1,sn()}}}function wi(e,r){isNaN(r)||((Ue.assetsIndex[e]??={})[r]=1,sn())}var _f,xf,Ue,Mr,sn,Gt=h(()=>{"use strict";s();l();ne();yr();Ei();bi();_f=52,xf="__bunny_metro_cache_key__",Ue=null,Mr=window.__getMetroCache=()=>Ue;sn=xi(()=>{Or.setItem(xf,JSON.stringify(Ue))},1e3)});var ya={};D(ya,{Flux:()=>ks,FluxDispatcher:()=>Tr,NavigationNative:()=>fe,React:()=>fn,ReactNative:()=>va,assets:()=>Ms,channels:()=>ln,clipboard:()=>er,commands:()=>Kt,constants:()=>St,i18n:()=>Et,invites:()=>Fs,messageUtil:()=>cr,navigation:()=>Us,navigationStack:()=>js,semver:()=>To,toasts:()=>un,tokens:()=>Xt,url:()=>bt});var St,ln,Et,bt,er,Ms,Fs,Kt,Us,un,cr,js,fe,Xt,To,ks,Tr,fn,va,V=h(()=>{"use strict";s();l();Q();St=R("Fonts","Permissions"),ln=R("getVoiceChannelId"),Et=R("Messages"),bt=R("openURL","openDeeplink"),er=R("setString","getString","hasString"),Ms=R("registerAsset"),Fs=R("acceptInviteAndTransitionToInviteChannel"),Kt=R("getBuiltInCommands"),Us=R("pushLazy"),un=zi("modules/toast/native/ToastActionCreators.tsx",!0),cr=R("sendBotMessage"),js=R("createStackNavigator"),fe=R("NavigationContainer"),Xt=R("colors","unsafe_rawColors"),To=R("parse","clean"),ks=R("connectStores"),Tr=F("_interceptors"),fn=window.React=R("createElement"),va=window.ReactNative=R("AppRegistry")});var Hs=Pr((E_,bf)=>{s();l();bf.exports=vt().moment});function Af({locale:e}){try{Tf.default.locale(e.toLowerCase())}catch(r){Ne.error("Failed to fix timestamps...",r)}Tr.unsubscribe("I18N_LOAD_SUCCESS",Af)}var Tf,wf,Rf=h(()=>{"use strict";s();l();Xr();V();Tf=U(Hs());wf=()=>{Tr.subscribe("I18N_LOAD_SUCCESS",Af)}});var If,Cf=h(()=>{If={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",CONTINUE:"Continue",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DESC_EXTRACT_FONTS_FROM_THEME:'Looks out for "fonts" field in your currently applied theme and install it.',DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",DONE:"Done",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",EXTRACT:"Extract",FONT_NAME:"Font Name",FONTS:"Fonts",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install an add-on",INSTALL_FONT:"Install a font",INSTALL_PLUGIN:"Install a plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LABEL_EXTRACT_FONTS_FROM_THEME:"Extract font from theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",REMOVE:"Remove",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart is required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_FONTS:"You are in Safe Mode, meaning fonts have been temporarily disabled. {enabled, select, true {If a font appears to be causing the issue, you can press below to disable it persistently.} other {}}",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SEPARATOR:", ",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_EXTRACTOR_DESC:"This pack overrides the following: {fonts}",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function Nf(){var e=({locale:r})=>{var t={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},o=Lf=t[r]??r;if(o.startsWith("en-")){Ao=null;return}Pf.has(o)?Ao=o:(Pf.add(o),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${o}/bunny.json`).then(n=>n.json()).then(n=>Gs[o]=n).then(()=>o===Lf&&(Ao=o)).catch(n=>console.error(`An error occured while fetching strings for ${o}: ${n}`)))};return Tr.subscribe("I18N_LOAD_SUCCESS",e),()=>Tr.unsubscribe("I18N_LOAD_SUCCESS",e)}function rr(e,r){var t=c[e];return new op(t).format(r)}var op,Ao,Lf,Pf,Gs,c,ce=h(()=>{"use strict";s();l();V();Q();Cf();op=Re("MessageFormat"),Ao=null,Lf=null,Pf=new Set,Gs={},c=new Proxy({},{get:(e,r)=>Ao&&Gs[Ao]?.[r]?Gs[Ao]?.[r]:If[r]})});var _a,Of=h(()=>{_a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABoBJREFUeF7lW1nIVlUUXasom80kijJKaVQzGtTUjCJteNBmeqigssnIpDIqwmw0GqhQi4iw8SEaHtKgMpNKM7SiyUZpLppoTi0rd2f9nCu36/2+79zxv/5t8MV/n333WWefffb0EQ0iM+sH4AEAowG8CGAqycVVqsgqhWeVbWavAtg/tu4vABNIPphVVih/YwAws2EAlrRQfChJgVM6NQmARwGc0GKHX5PcofTdA2gSAJ8A2KXNJueQPLpsEJoEwI8A+rTZ4GrnIAeQ/KpMEJoEwCoAm3TY3DKSezcKADPbCMDWADYEIK/9B4CVJC2LomYWwv8PgC1JCqxSqJAFmNlOAF6PAfA3ACn3MYBLSD4bqmUgABI3l+T4ULmd+IoCcDeAs9p8RI5NPDNJrminTAYAZAVbkJSlFaaiALwJYEiAFh8CuJHk7Fa8ZqaNbRAgSyzjSc4N5G3LVhQAmfiYDIosBXAGyXeSa8xMJ9orUNb7AAZm9TNpsosCMNnd/9sDlY7Y/gRwAYDZJOUzusjMfvK+JFRcX5J6OgtRUQB2B/BBDg3k8ZeQHBED4AsASoZCaTTJRaHMrfiKAqD1jwM4NqcinwE4mOTnZiYgBWgozSN5RChzJQB40x0A4KMCivwO4GQAFwI4JIMcRYa9i74GhSwgZr5XuWs8LYPyaazPAMh6ojvLeop8tywA5L0V/FSSsbXZ4Eh3DV7udgD8VdgMwK8+JC6iU5a115GcmmVBkrcUC4hdhYPcPX6+RhAWkDysMQB4SzgXwB0Zoroi+q8iKcvLTaVaQMwSZgGYWBMIfUj+nBeBSgDwljADwHk1XIdCL0FlAMRAOL/i0tsgku82zgI8AMruLgNwfV4FA9btQ/KtAL5UlkotIOYTjgdwr6o5eRVts244SWWZuagWALw1DFUGCGBwLk1bLxpG8pW8MmsDwIPQ25W+7wNwTF6FU9bJ2U7L+xLUCkDsSij5keLblASEagmjSL6XVV63AOCtQSVw3d2yytxr3JN7LUklZsHUnQAMcnUE1RRVTi+TXgIwjqSsoiN1CwBmtqvzA28A2LyjhvkYlCKr9vhcp+W1A2BmewB4AcB2nZQr+Hc1aaaQlK9pSbUC4E9eLfCynF8IRoo/JpJUMXYdqgUAM9N3RgFYGKJxDh71FK5WAwbAvgAeShRnPgWwZxoIdQFwEwCV0DfOsbmQJWPi993MZGGqMsdT5e9VdE3GC5UCYGY69ehUQjaSh0dv/5B4j0FCXJ8hrWexHMAIkj9EH6oEADNTZUjNj+MqeOaSIM0nOTb5n2amStH8FEQVNh8eWcJaAHybe7gfU9kLgEzmbd/91VCCujArXdd3hdA2M73fKobKzDTYIK+uRsel7tT75jnKnGvUUtuWpMrra8nMNG12aguZatjKMa7pAsDMtnK9tkdylKVz6lz6snsATFKPwB+M+gtppx//sBoyCyMAkuNppWtYg0CVxeT4tvfPbKcI8zHXpD2RZnaOW3RXDQo27ROrSfYSAGowylv/30iR4qYCQBFSVe9zk0Fd5GKH0QJAPfpO96XJG8mjmyJHOcHFAuA1APvlkbIerzmN5P3SXwBc7IaOblmPN5NVdaXK/RUDRACoTqcOq4KfptA37l1XuKpma0QKrlQ/2LEEJY8i+XQXAD4Q6u+uwZwKKrbtdNWYjMboNDClf0qTl+ktb5W6RsLMbDc/naZK80Cvt/YQSvruYJIr46GwanQTAJzph5Y1/Vk2aVZQCck8xR4kpUgpZGYCQDHNOK9/p6bpRSRvS02GzEx1tZGlaAbopH8DcDnJO0uS2VaMmWnzk1xz9hrXldIob9o+ldf0W+cPZiafkLvbmtDsSY3MytQ7mXUVwJiZrFozTKoK6QcZSVrXAszsSABPFVRIs4MzyjTxgvoo4TsAwCm+Yy2rEC1PswC9CAfm+KBMSsWPW0l+l2N9LUt8UfYKf8Vn/gcAM9MT82VGTeTYngBwdqeB6Ixya2FPAnCSKx4+HPhlBRJ6vsaS/DZwTePYkgCozx7SqpJXl69YmqzFNW6HHRSKxwGhc79XApgV2npqOiBxAE73/ftWOquRqbJT7mGEJoIRhcIaZVGjMm14QT+BucHVDKa7oUSlkT2KIgAUT6/zIwbXYFTmpLxZU909kiIAprhM6+bEDqf7Hy93pY09lSIAFriO7aF+k7/4aYs0i+hxOEQAqIGgNrJ+iDS5p3j4kNP6F9f7+CyBdXonAAAAAElFTkSuQmCC"});function Bf(e){var r=Ni(e[0]);return r&&(e[0]=r()),e}var Df,Ar,i,b,J=h(()=>{"use strict";s();l();Se();Q();Df=R("jsx","jsxs","Fragment");Ar=Symbol.for("react.fragment"),i=(...e)=>Df.jsx(...Bf(e)),b=(...e)=>Df.jsxs(...Bf(e))});var ap,kr,be,xa,Sa,Ea,ba,qt,se,W_,je,K_,X_,A,q_,J_,De,Jt,Mf,Z_,Q_,Ff,Uf,ex,wr,rx,ge,ze,tx,ox,nx,ax,jf,Ta,kf,ip,K,Vs,ix,sx,lx,ux,fx,cx,mx,dx,Aa,px,Hf,Gf,gx,hx,vx,yx,Qr,zs,_x,xx,Sx,Ex,bx,Tx,wo,Ax,wa,re=h(()=>{"use strict";s();l();Se();ra();mo();Q();ap=sr(([e],r)=>r[e]&&Object.keys(r).length===1,e=>`bunny.metro.common.components.bySingularProp(${e})`),kr=e=>xe(()=>we(ap(e))?.[e]),be=e=>xe(()=>F(e)[e]),xa=ji("FluxContainer(Alert)"),Sa=R("Looks","Colors","Sizes"),Ea=Re("HelpMessage"),ba=xe(()=>F("useSafeAreaInsets").SafeAreaView),qt=be("ActionSheetRow"),se=kr("Button"),W_=be("TwinButtons"),je=kr("IconButton"),K_=be("RowButton"),X_=be("PressableScale"),A=be("TableRow"),q_=be("TableRowIcon"),J_=be("TableRowTrailingText"),De=be("TableRowGroup"),Jt=be("TableSwitchRow"),Mf=kr("FormSwitch"),Z_=kr("FormRadio"),Q_=kr("FormCheckbox"),Ff=kr("FormSwitch"),Uf=kr("FormRadio"),ex=kr("FormCheckbox"),wr=be("Card"),rx=xe(()=>F("RedesignCompat").RedesignCompat),ge=be("Stack"),ze=kr("TextInput"),tx=be("SegmentedControl"),ox=be("SegmentedControlPages"),nx=kr("useSegmentedControlState"),ax=be("CompatSegmentedControl"),jf=be("FloatingActionButton"),Ta=be("ActionSheet"),kf=be("BottomSheetTitleHeader"),ip=R("Text","LegacyText"),K=xe(()=>ip.Text),Vs=R("Form","FormSection"),{Form:ix,FormArrow:sx,FormCTA:lx,FormCTAButton:ux,FormCardSection:fx,FormCheckbox:cx,FormCheckboxRow:mx,FormCheckmark:dx,FormDivider:Aa,FormHint:px,FormIcon:Hf,FormInput:Gf,FormLabel:gx,FormRadio:hx,FormRadioGroup:vx,FormRadioRow:yx,FormRow:Qr,FormSection:zs,FormSelect:_x,FormSliderRow:xx,FormSubLabel:Sx,FormSwitch:Ex,FormSwitchRow:bx,FormTernaryCheckBox:Tx,FormText:wo,FormTitle:Ax}=H(()=>Vs),wa=be("FlashList")});var Ra={};D(Ra,{isSemanticColor:()=>Ys,rawColors:()=>$s,resolveSemanticColor:()=>Ws,semanticColors:()=>ve});function Ys(e){return Vf.isSemanticColor(e)}function Ws(e,r=lp.theme){return Vf.resolveSemanticColor(r,e)}var ve,$s,lp,Vf,Tt=h(()=>{"use strict";s();l();Qe();V();Q();ve=he?.default?.colors??St?.ThemeColorMap,$s=he?.default?.unsafe_rawColors??St?.Colors,lp=Zo("ThemeStore"),Vf=he.default.meta??=he.default.internal});var Ks={};D(Ks,{TextStyleSheet:()=>mr,createStyles:()=>et,createThemedStyleSheet:()=>Zt});function et(e){return xe(()=>up.createStyles(e))}function Zt(e){for(var r in e)e[r]=new Proxy(zf.StyleSheet.flatten(e[r]),{get(t,o,n){var a=Reflect.get(t,o,n);return Ys(a)?Ws(a):a}});return e}var zf,up,mr,Hr=h(()=>{"use strict";s();l();Se();Q();Tt();zf=U(ae()),up=R("createStyles"),{TextStyleSheet:mr}=H(()=>F("TextStyleSheet"))});function Rr({selectable:e,style:r,children:t}){return e?Ro.Platform.select({ios:i(fp,{style:r,children:t}),default:i($f,{style:r,children:t,selectable:!0})}):i($f,{style:r,children:t})}var Ro,Yf,fp,$f,Wf=h(()=>{"use strict";s();l();J();V();Tt();Hr();Ro=U(ae()),Yf=et({codeBlock:{fontFamily:St.Fonts.CODE_NORMAL,fontSize:12,textAlignVertical:"center",backgroundColor:ve.BACKGROUND_SECONDARY,color:ve.TEXT_NORMAL,borderWidth:1,borderRadius:12,borderColor:ve.BACKGROUND_TERTIARY,padding:10}}),fp=({style:e,children:r})=>i(Ro.TextInput,{editable:!1,multiline:!0,style:[Yf().codeBlock,e&&e],value:r}),$f=({selectable:e,style:r,children:t})=>i(Ro.Text,{selectable:e,style:[Yf().codeBlock,r&&r],children:t})});var Xs,Kf,cp,de,qs=h(()=>{"use strict";s();l();yi();Kn();Zn();Ri();_i();J();ce();V();re();Cr();Hr();Xs=U(ae()),Kf=Zt({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),de=function(e){"use strict";qn(r,e);function r(t){Ut(this,r);var o;return o=Wn(this,r,[t]),o.state={hasErr:!1},o}return Vt(r,[{key:"render",value:function(){return this.state.hasErr?b(Xs.ScrollView,{style:Kf.view,children:[i(wo,{style:Kf.title,children:c.UH_OH}),i(Rr,{selectable:!0,style:{marginBottom:5},children:this.state.error.name}),i(Rr,{selectable:!0,style:{marginBottom:5},children:this.state.error.message}),this.state.error.stack&&i(Xs.ScrollView,{style:{maxHeight:420,marginBottom:5},children:i(Rr,{selectable:!0,children:this.state.error.stack})}),i(se,{size:"md",variant:"destructive",onPress:()=>this.setState({hasErr:!1}),text:c.RETRY})]}):this.props.children}}]),r}(cp=fn.Component);Qn(de,"getDerivedStateFromError",e=>({hasErr:!0,error:e}))});function mp(){return i(Ca.Image,{style:{width:16,height:16},source:v("search")})}var Ca,At,Xf=h(()=>{"use strict";s();l();J();ce();ie();re();qs();Ca=U(ae());At=({onChangeText:e,placeholder:r,style:t,isRound:o})=>{var[n,a]=React.useState(""),u=f=>{a(f),e?.(f)};return i(de,{children:i(Ca.View,{style:t,children:i(ze,{grow:!0,isClearable:!0,leadingIcon:mp,placeholder:r??c.SEARCH,onChange:u,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,isRound:o,value:n})})})}});function mn({label:e,icon:r,noPadding:t=!1,noAnimation:o=!1,children:n}){var[a,u]=React.useState(!0);return b(Ar,{children:[i(A,{label:e,icon:r&&i(A.Icon,{source:v(r)}),trailing:i(Qr.Arrow,{style:{transform:[{rotate:`${a?180:90}deg`}]}}),onPress:()=>{u(!a),o||cn.LayoutAnimation.configureNext(cn.LayoutAnimation.Presets.easeInEaseOut)}}),!a&&i(Ar,{children:i(cn.View,{style:!t&&{paddingHorizontal:15},children:n})})]})}var cn,qf=h(()=>{"use strict";s();l();J();ie();re();cn=U(ae())});var Ia={};D(Ia,{Codeblock:()=>Rr,ErrorBoundary:()=>de,Search:()=>At,Summary:()=>mn});var Cr=h(()=>{"use strict";s();l();Wf();qs();Xf();qf()});function La(e,r,t,o,n){return x(function*(){if(e)return void e();var a=yield t().then(u=>u.default);typeof o=="string"&&(o={title:o}),r??=dp.getRootNavigationRef(),r.navigate("BUNNY_CUSTOM_PAGE",{...o,render:()=>i(a,{...n})})})}var dp,Co,Js=h(()=>{"use strict";s();l();ne();J();V();Q();Cr();dp=R("getRootNavigationRef"),Co=React.memo(()=>{var e=fe.useNavigation(),r=fe.useRoute(),{render:t,...o}=r.params;return React.useEffect(()=>void e.setOptions({...o}),[]),i(de,{children:i(t,{})})})});function pp(){var e=fe.useNavigation();return i(Ar,{children:Object.keys(Ir).map(r=>Ir[r].length>0&&i(zs,{title:r,children:Ir[r].filter(t=>t.usePredicate?.()??!0).map((t,o,n)=>b(Ar,{children:[i(Qr,{label:t.title(),leading:i(Hf,{source:t.icon}),trailing:i(Qr.Arrow,{label:t.rawTabsConfig?.useTrailing?.()||void 0}),onPress:La(t.onPress,e,t.render,t.title())}),o!==n.length-1&&i(Aa,{})]}))},r))})}function Jf(e){e.push(W("default",Re("getScreens",!1),(t,o)=>({...o,VendettaCustomPage:{title:"Bunny",render:()=>i(Co,{})},BUNNY_CUSTOM_PAGE:{title:"Bunny",render:()=>i(Co,{})}})));var r=W("default",Re("UserSettingsOverviewWrapper",!1),(t,o)=>{var n=xr(o.props.children,a=>a.type?.name==="UserSettingsOverview");e.push(W("renderSupportAndAcknowledgements",n.type.prototype,(a,{props:{children:u}})=>{var f=u.findIndex(p=>p?.type?.name==="UploadLogsButton");f!==-1&&u.splice(f,1)})),e.push(W("render",n.type.prototype,(a,u)=>{var f=[Et.Messages.BILLING_SETTINGS,Et.Messages.PREMIUM_SETTINGS],p=xr(u.props.children,y=>y?.children?.[1]?.type===zs)?.children||u.props.children;if(p){var E=p.findIndex(y=>f.includes(y?.props.label));p.splice(-~E||4,0,i(pp,{}))}}))},!0);e.push(r)}var Zf=h(()=>{"use strict";s();l();J();Fe();Sr();V();re();Q();Io();Js()});function hp(){var e=!1;return React.useEffect(()=>void(e=!0),[]),e}function Qf(e){var r=()=>Object.values(Ir).flatMap(n=>n.map(a=>({[a.key]:{type:"pressable",title:a.title,icon:a.icon,usePredicate:a.usePredicate,onPress:La(a.onPress,null,a.render,a.title()),withArrow:!0,...a.rawTabsConfig}}))).reduce((n,a)=>Object.assign(n,a)),t=Pa.SETTING_RENDERER_CONFIG,o=Pa.SETTING_RENDERER_CONFIG;Object.defineProperty(Pa,"SETTING_RENDERER_CONFIG",{enumerable:!0,configurable:!0,get:()=>({...o,VendettaCustomPage:{type:"route",title:()=>"Bunny",screen:{route:"VendettaCustomPage",getComponent:()=>Co}},BUNNY_CUSTOM_PAGE:{type:"route",title:()=>"Bunny",screen:{route:"BUNNY_CUSTOM_PAGE",getComponent:()=>Co}},...r()}),set:n=>o=n}),e.push(()=>{Object.defineProperty(Pa,"SETTING_RENDERER_CONFIG",{value:t,writable:!0,get:void 0,set:void 0})}),e.push(W("default",gp,(n,a)=>{if(!hp()){var{sections:u}=xr(a,p=>p.props?.sections).props,f=-~u.findIndex(p=>p.label===Et.Messages.ACCOUNT_SETTINGS)||1;Object.keys(Ir).forEach(p=>{u.splice(f++,0,{label:p,title:p,settings:Ir[p].map(E=>E.key)})})}}))}var Pa,gp,ec=h(()=>{"use strict";s();l();Fe();Sr();V();Q();Io();Js();Pa=R("SETTING_RENDERER_CONFIG"),gp=Re("SettingsOverviewScreen",!1)});var Qs={};D(Qs,{patchSettings:()=>Zs,registerSection:()=>Na,registeredSections:()=>Ir});function Na(e){return Ir[e.name]=e.items,()=>delete Ir[e.name]}function Zs(){var e=new Array;return Jf(e),Qf(e),()=>e.forEach(r=>r())}var Ir,Io=h(()=>{"use strict";s();l();Zf();ec();Ir={}});var Oa={};D(Oa,{showToast:()=>k});var vp,k,Lr=h(()=>{"use strict";s();l();ce();ie();Se();V();Q();({uuid4:vp}=H(()=>F("uuid4"))),k=(e,r)=>un.open({key:`vd-toast-${vp()}`,content:e,source:r,icon:r});k.showCopyToClipboard=(e=c.COPIED_TO_CLIPBOARD)=>{k(e,v("toast_copy_link"))}});function Da({label:e,version:r,icon:t}){return i(A,{label:e,icon:i(A.Icon,{source:v(t)}),trailing:i(wo,{children:r}),onPress:()=>{er.setString(`${e} - ${r}`),k.showCopyToClipboard()}})}var rc=h(()=>{"use strict";s();l();J();ie();V();re();Lr()});var Ma={};D(Ma,{connectToDebugger:()=>gn,getDebugInfo:()=>rt,patchLogHook:()=>rl,socket:()=>dr,toggleSafeMode:()=>pn,versionHash:()=>dn});function pn(){return el.apply(this,arguments)}function el(){return el=x(function*(){I.safeMode={...I.safeMode,enabled:!I.safeMode?.enabled},ur()&&(xt()?.id&&(I.safeMode.currentThemeId=xt().id),I.safeMode?.enabled?yield Jr(null):I.safeMode?.currentThemeId&&(yield Jr(ee[I.safeMode?.currentThemeId]))),setTimeout(jo.reload,400)}),el.apply(this,arguments)}function gn(e){if(dr!==void 0&&dr.readyState!==WebSocket.CLOSED&&dr.close(),!e){k("Invalid debugger URL!",v("Small"));return}dr=new WebSocket(`ws://${e}`),dr.addEventListener("open",()=>k("Connected to debugger.",v("Check"))),dr.addEventListener("message",r=>{try{(0,eval)(r.data)}catch(t){console.error(t)}}),dr.addEventListener("error",r=>{console.log(`Debugger error: ${r.message}`),k("An error occurred with the debugger connection!",v("Small"))})}function rl(){var e=W("nativeLoggingHook",globalThis,r=>{dr?.readyState===WebSocket.OPEN&&dr.send(JSON.stringify({message:r[0],level:r[1]})),Ne.log(r[0])});return()=>{dr&&dr.close(),e()}}function rt(){var e=window.HermesInternal.getRuntimeProperties(),r=e["OSS Release Version"],t="for RN ",o=Ba.Platform.constants,n=o.reactNativeVersion;return{vendetta:{version:dn.split("-")[0],loader:ma()},bunny:{version:dn,loader:{name:ma(),version:vs()}},discord:{version:Mt.Version,build:Mt.Build},react:{version:React.version,nativeVersion:r.startsWith(t)?r.substring(t.length):`${n.major}.${n.minor}.${n.patch}`},hermes:{version:r,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...Ba.Platform.select({android:{os:{name:"Android",version:o.Release,sdk:o.Version}},ios:{os:{name:o.systemName,version:o.osVersion}}}),...Ba.Platform.select({android:{device:{manufacturer:o.Manufacturer,brand:o.Brand,model:o.Model,codename:Dr.device}},ios:{device:{manufacturer:Dr.deviceManufacturer,brand:Dr.deviceBrand,model:Dr.deviceModel,codename:Dr.device}}})}}var Ba,dr,dn,tt=h(()=>{"use strict";s();l();ne();ie();br();yr();Fe();Ce();Qe();Xr();Lr();Ba=U(ae());dn="e3df56d-main"});function tl(){var e=rt();j(I);var r=[{label:c.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:c.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],t=[{label:c.LOADER,version:`${e.bunny.loader.name} (${e.bunny.loader.version})`,icon:"ic_download_24px"},{label:c.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:c.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:c.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:c.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:Fa.Platform.select({android:c.CODENAME,ios:c.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return i(Fa.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:b(ge,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[i(De,{title:c.VERSIONS,children:r.map(o=>i(Da,{label:o.label,version:o.version,icon:o.icon}))}),i(De,{title:c.PLATFORM,children:t.map(o=>i(Da,{label:o.label,version:o.version,icon:o.icon}))})]})})}var Fa,tc=h(()=>{"use strict";s();l();J();ce();rc();tt();Ce();ue();re();Fa=U(ae())});var nc={};D(nc,{default:()=>oc});function oc(){j(I);var e=rt(),r=fe.useNavigation();return i(Ua.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:b(ge,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[b(De,{title:c.INFO,children:[i(A,{label:c.BUNNY,icon:i(A.Icon,{source:{uri:_a}}),trailing:i(A.TrailingText,{text:e.bunny.version})}),i(A,{label:"Discord",icon:i(A.Icon,{source:v("Discord")}),trailing:i(A.TrailingText,{text:`${e.discord.version} (${e.discord.build})`})}),i(A,{arrow:!0,label:c.ABOUT,icon:i(A.Icon,{source:v("CircleInformationIcon-primary")}),trailing:A.Arrow,onPress:()=>r.push("BUNNY_CUSTOM_PAGE",{title:c.ABOUT,render:()=>i(tl,{})})})]}),b(De,{title:c.LINKS,children:[i(A,{label:c.DISCORD_SERVER,icon:i(A.Icon,{source:v("Discord")}),trailing:A.Arrow,onPress:()=>bt.openDeeplink(Wi)}),i(A,{label:c.GITHUB,icon:i(A.Icon,{source:v("img_account_sync_github_white")}),trailing:A.Arrow,onPress:()=>bt.openURL(Ki)})]}),b(De,{title:c.ACTIONS,children:[i(A,{label:c.RELOAD_DISCORD,icon:i(A.Icon,{source:v("ic_message_retry")}),onPress:()=>Ua.NativeModules.BundleUpdaterManager.reload()}),i(A,{label:I.safeMode?.enabled?c.RELOAD_IN_NORMAL_MODE:c.RELOAD_IN_SAFE_MODE,subLabel:I.safeMode?.enabled?c.RELOAD_IN_NORMAL_MODE_DESC:c.RELOAD_IN_SAFE_MODE_DESC,icon:i(A.Icon,{source:v("ic_privacy_24px")}),onPress:pn}),i(Jt,{label:c.DEVELOPER_SETTINGS,icon:i(A.Icon,{source:v("ic_progress_wrench_24px")}),value:I.developerSettings,onValueChange:t=>{I.developerSettings=t}})]}),i(De,{title:c.MISCELLANEOUS,children:i(Jt,{label:c.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:c.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:i(A.Icon,{source:v("ic_progress_wrench_24px")}),value:I.enableDiscordDeveloperSettings,onValueChange:t=>{I.enableDiscordDeveloperSettings=t}})})]})})}var Ua,ac=h(()=>{"use strict";s();l();J();ce();ol();tc();ie();tt();Ce();ue();yt();V();re();Ua=U(ae())});var ja={};D(ja,{common:()=>ya,factories:()=>Wo,filters:()=>Ii,findAllExports:()=>ht,findAllModule:()=>Pi,findAllModuleId:()=>wd,findByDisplayName:()=>Ui,findByDisplayNameAll:()=>ki,findByDisplayNameLazy:()=>ji,findByFilePath:()=>Nd,findByFilePathLazy:()=>zi,findByName:()=>go,findByNameAll:()=>Fi,findByNameLazy:()=>Re,findByProps:()=>F,findByPropsAll:()=>Mi,findByPropsLazy:()=>R,findByStoreName:()=>Vi,findByStoreNameLazy:()=>Zo,findByTypeName:()=>Hi,findByTypeNameAll:()=>Gi,findByTypeNameLazy:()=>Pd,findExports:()=>we,findModule:()=>Li,findModuleId:()=>Ad,lazy:()=>Di});var ot=h(()=>{"use strict";s();l();V();ra();qo();mo();Jo();Q()});function nl(e){var{width:r}=(0,hn.useWindowDimensions)();return"extraContent"in e&&(e.content=b(hn.View,{style:{maxWidth:r-70,flexShrink:1,gap:16},children:[i(K,{variant:"text-md/medium",color:"text-muted",children:e.content}),i(hn.View,{children:e.extraContent})]}),delete e.extraContent),i(yp,{...e})}var hn,yp,_p,ic,sc=h(()=>{"use strict";s();l();J();Se();ot();re();hn=U(ae()),{AlertModal:yp,AlertActionButton:_p}=H(()=>F("AlertModal","AlertActions")),ic=_p});function al(e){var r;try{r=new URL(e)}catch{return!1}return r.protocol==="http:"||r.protocol==="https:"}var lc=h(()=>{"use strict";s();l()});var fc=Pr((uc,ka)=>{s();l();yi();Kn();Zn();_i();Lu();((e,r)=>{typeof define=="function"&&define.amd?define([],r):typeof ka=="object"&&ka.exports?ka.exports=r():e.fuzzysort=r()})(uc,e=>{"use strict";var r=(_,g)=>{if(!_||!g)return _e;var S=me(_);Pt(g)||(g=oe(g));var w=S.bitflags;return(w&g._bitflags)!==w?_e:Ye(S,g)},t=(_,g,S)=>{if(!_)return S?.all?hr(g,S):mi;var w=me(_),L=w.bitflags,C=w.containsSpace,T=y(S?.threshold||0),B=S?.limit||ci,P=0,z=0,G=g.length;function ke(Dt){P<B?(Vn.add(Dt),++P):(++z,Dt._score>Vn.peek()._score&&Vn.replaceTop(Dt))}if(S?.key)for(var Le=S.key,$=0;$<G;++$){var Be=g[$],X=Gn(Be,Le);if(X&&(Pt(X)||(X=oe(X)),(L&X._bitflags)===L)){var q=Ye(w,X);q!==_e&&(q._score<T||(q.obj=Be,ke(q)))}}else if(S?.keys){var Yr=S.keys,vr=Yr.length;e:for(var $=0;$<G;++$){var Be=g[$];{for(var Ae=0,le=0;le<vr;++le){var Le=Yr[le],X=Gn(Be,Le);if(!X){fi[le]=Fo;continue}Pt(X)||(X=oe(X)),fi[le]=X,Ae|=X._bitflags}if((L&Ae)!==L)continue}if(C)for(var Ke=0;Ke<w.spaceSearches.length;Ke++)$r[Ke]=We;for(var le=0;le<vr;++le){if(X=fi[le],X===Fo){uo[le]=Fo;continue}if(uo[le]=Ye(w,X,!1,C),uo[le]===_e){uo[le]=Fo;continue}if(C)for(var O=0;O<w.spaceSearches.length;O++){if(Lt[O]>-1e3&&$r[O]>We){var Xe=($r[O]+Lt[O])/4;Xe>$r[O]&&($r[O]=Xe)}Lt[O]>$r[O]&&($r[O]=Lt[O])}}if(C){for(var nr=0;nr<w.spaceSearches.length;nr++)if($r[nr]===We)continue e}else{for(var Nt=!1,Ot=0;Ot<vr;Ot++)if(uo[Ot]._score!==We){Nt=!0;break}if(!Nt)continue}for(var ar=new f(vr),qe=0;qe<vr;qe++)ar[qe]=uo[qe];if(C)for(var Z=0,fo=0;fo<w.spaceSearches.length;fo++)Z+=$r[fo];else for(var Z=We,Je=0;Je<vr;Je++){var q=ar[Je];if(q._score>-1e3&&Z>We){var Xe=(Z+q._score)/4;Xe>Z&&(Z=Xe)}q._score>Z&&(Z=q._score)}if(ar.obj=Be,ar._score=Z,S?.scoreFn){if(Z=S.scoreFn(ar),!Z)continue;Z=y(Z),ar._score=Z}Z<T||ke(ar)}}else for(var $=0;$<G;++$){var X=g[$];if(X&&(Pt(X)||(X=oe(X)),(L&X._bitflags)===L)){var q=Ye(w,X);q!==_e&&(q._score<T||ke(q))}}if(P===0)return mi;for(var Uo=new Array(P),$=P-1;$>=0;--$)Uo[$]=Vn.poll();return Uo.total=P+z,Uo},o=(_,g="<b>",S="</b>")=>{for(var w=typeof g=="function"?g:void 0,L=_.target,C=L.length,T=_.indexes,B="",P=0,z=0,G=!1,ke=[],Le=0;Le<C;++Le){var $=L[Le];if(T[z]===Le){if(++z,G||(G=!0,w?(ke.push(B),B=""):B+=g),z===T.length){w?(B+=$,ke.push(w(B,P++)),B="",ke.push(L.substr(Le+1))):B+=$+S+L.substr(Le+1);break}}else G&&(G=!1,w?(ke.push(w(B,P++)),B=""):B+=S);B+=$}return w?ke:B},n=_=>{typeof _=="number"?_=""+_:typeof _!="string"&&(_="");var g=Mo(_);return p(_,{_targetLower:g._lower,_targetLowerCodes:g.lowerCodes,_bitflags:g.bitflags})},a=()=>{li.clear(),ui.clear()},u=function(){function _(){Ut(this,_)}return Vt(_,[{key:"indexes",get:function(){return this._indexes.slice(0,this._indexes.len).sort((S,w)=>S-w)}},{key:"indexes",set:function(S){return this._indexes=S}},{key:"highlight",value:function(S,w){return o(this,S,w)}},{key:"score",get:function(){return E(this._score)}},{key:"score",set:function(S){this._score=y(S)}}]),_}(),f=function(_){qn(g,_);function g(){return Ut(this,g),Wn(this,g,arguments)}return Vt(g,[{key:"score",get:function(){return E(this._score)}},{key:"score",set:function(w){this._score=y(w)}}]),g}(Jn(Array)),p=(_,g)=>{var S=new u;return S.target=_,S.obj=g.obj??_e,S._score=g._score??We,S._indexes=g._indexes??[],S._targetLower=g._targetLower??"",S._targetLowerCodes=g._targetLowerCodes??_e,S._nextBeginningIndexes=g._nextBeginningIndexes??_e,S._bitflags=g._bitflags??0,S},E=_=>_===We?0:_>1?_:Math.E**(((-_+1)**.04307-1)*-2),y=_=>_===0?We:_>1?_:1-Math.pow(Math.log(_)/-2+1,1/.04307),N=_=>{typeof _=="number"?_=""+_:typeof _!="string"&&(_=""),_=_.trim();var g=Mo(_),S=[];if(g.containsSpace){var w=_.split(/\s+/);w=[...new Set(w)];for(var L=0;L<w.length;L++)if(w[L]!==""){var C=Mo(w[L]);S.push({lowerCodes:C.lowerCodes,_lower:w[L].toLowerCase(),containsSpace:!1})}}return{lowerCodes:g.lowerCodes,_lower:g._lower,containsSpace:g.containsSpace,bitflags:g.bitflags,spaceSearches:S}},oe=_=>{if(_.length>999)return n(_);var g=li.get(_);return g!==void 0||(g=n(_),li.set(_,g)),g},me=_=>{if(_.length>999)return N(_);var g=ui.get(_);return g!==void 0||(g=N(_),ui.set(_,g)),g},hr=(_,g)=>{var S=[];S.total=_.length;var w=g?.limit||ci;if(g?.key)for(var L=0;L<_.length;L++){var C=_[L],T=Gn(C,g.key);if(T!=_e){Pt(T)||(T=oe(T));var B=p(T.target,{_score:T._score,obj:C});if(S.push(B),S.length>=w)return S}}else if(g?.keys)for(var L=0;L<_.length;L++){for(var C=_[L],P=new f(g.keys.length),z=g.keys.length-1;z>=0;--z){var T=Gn(C,g.keys[z]);if(!T){P[z]=Fo;continue}Pt(T)||(T=oe(T)),T._score=We,T._indexes.len=0,P[z]=T}if(P.obj=C,P._score=We,S.push(P),S.length>=w)return S}else for(var L=0;L<_.length;L++){var T=_[L];if(T!=_e&&(Pt(T)||(T=oe(T)),T._score=We,T._indexes.len=0,S.push(T),S.length>=w))return S}return S},Ye=(_,g,S=!1,w=!1)=>{if(S===!1&&_.containsSpace)return pu(_,g,w);for(var L=_._lower,C=_.lowerCodes,T=C[0],B=g._targetLowerCodes,P=C.length,z=B.length,$=0,G=0,ke=0;;){var Le=T===B[G];if(Le){if(zr[ke++]=G,++$,$===P)break;T=C[$]}if(++G,G>=z)return _e}var $=0,Be=!1,X=0,q=g._nextBeginningIndexes;q===_e&&(q=g._nextBeginningIndexes=Qm(g.target)),G=zr[0]===0?0:q[zr[0]-1];var Yr=0;if(G!==z)for(;;)if(G>=z){if($<=0||(++Yr,Yr>200))break;--$;var vr=kn[--X];G=q[vr]}else{var Le=C[$]===B[G];if(Le){if(kn[X++]=G,++$,$===P){Be=!0;break}++G}else G=q[G]}var Ae=P<=1?-1:g._targetLower.indexOf(L,zr[0]),le=!!~Ae,Ke=le?Ae===0||g._nextBeginningIndexes[Ae-1]===Ae:!1;if(le&&!Ke){for(var O=0;O<q.length;O=q[O])if(!(O<=Ae)){for(var Xe=0;Xe<P&&C[Xe]===g._targetLowerCodes[O+Xe];Xe++);if(Xe===P){Ae=O,Ke=!0;break}}}var nr=qe=>{for(var Z=0,fo=0,Je=1;Je<P;++Je)qe[Je]-qe[Je-1]!==1&&(Z-=qe[Je],++fo);var Uo=qe[P-1]-qe[0]-(P-1);if(Z-=(12+Uo)*fo,qe[0]!==0&&(Z-=qe[0]*qe[0]*.2),!Be)Z*=1e3;else{for(var Dt=1,Je=q[0];Je<z;Je=q[Je])++Dt;Dt>24&&(Z*=(Dt-24)*10)}return Z-=(z-P)/2,le&&(Z/=1+P*P*1),Ke&&(Z/=1+P*P*1),Z-=(z-P)/2,Z};if(Be)if(Ke){for(var O=0;O<P;++O)zr[O]=Ae+O;var Nt=zr,Ot=nr(zr)}else var Nt=kn,Ot=nr(kn);else{if(le)for(var O=0;O<P;++O)zr[O]=Ae+O;var Nt=zr,Ot=nr(Nt)}g._score=Ot;for(var O=0;O<P;++O)g._indexes[O]=Nt[O];g._indexes.len=P;var ar=new u;return ar.target=g.target,ar._score=g._score,ar._indexes=g._indexes,ar},pu=(_,g,S)=>{for(var w=new Set,L=0,C=_e,T=0,B=_.spaceSearches,P=B.length,z=0,G=()=>{for(var nr=z-1;nr>=0;nr--)g._nextBeginningIndexes[Hn[nr*2+0]]=Hn[nr*2+1]},ke=!1,O=0;O<P;++O){Lt[O]=We;var Le=B[O];if(C=Ye(Le,g),S){if(C===_e)continue;ke=!0}else if(C===_e)return G(),_e;var $=O===P-1;if(!$){for(var Be=C._indexes,X=!0,q=0;q<Be.len-1;q++)if(Be[q+1]-Be[q]!==1){X=!1;break}if(X)for(var Yr=Be[Be.len-1]+1,vr=g._nextBeginningIndexes[Yr-1],Ae=Yr-1;Ae>=0&&vr===g._nextBeginningIndexes[Ae];Ae--)g._nextBeginningIndexes[Ae]=Yr,Hn[z*2+0]=Ae,Hn[z*2+1]=vr,z++}L+=C._score/P,Lt[O]=C._score/P,C._indexes[0]<T&&(L-=(T-C._indexes[0])*2),T=C._indexes[0];for(var le=0;le<C._indexes.len;++le)w.add(C._indexes[le])}if(S&&!ke)return _e;G();var Ke=Ye(_,g,!0);if(Ke!==_e&&Ke._score>L){if(S)for(var O=0;O<P;++O)Lt[O]=Ke._score/P;return Ke}S&&(C=g),C._score=L;var O=0;for(var Xe of w)C._indexes[O++]=Xe;return C._indexes.len=O,C},Mo=_=>{for(var g=_.length,S=_.toLowerCase(),w=[],L=0,C=!1,T=0;T<g;++T){var B=w[T]=S.charCodeAt(T);if(B===32){C=!0;continue}var P=B>=97&&B<=122?B-97:B>=48&&B<=57?26:B<=127?30:31;L|=1<<P}return{lowerCodes:w,bitflags:L,containsSpace:C,_lower:S}},si=_=>{for(var g=_.length,S=[],w=0,L=!1,C=!1,T=0;T<g;++T){var B=_.charCodeAt(T),P=B>=65&&B<=90,z=P||B>=97&&B<=122||B>=48&&B<=57,G=P&&!L||!C||!z;L=P,C=z,G&&(S[w++]=T)}return S},Qm=_=>{for(var g=_.length,S=si(_),w=[],L=S[0],C=0,T=0;T<g;++T)L>T?w[T]=L:(L=S[++C],w[T]=L===void 0?g:L);return w},li=new Map,ui=new Map,zr=[],kn=[],Hn=[],$r=[],Lt=[],fi=[],uo=[],Gn=(_,g)=>{var S=_[g];if(S!==void 0)return S;if(typeof g=="function")return g(_);var w=g;Array.isArray(g)||(w=g.split("."));for(var L=w.length,C=-1;_&&++C<L;)_=_[w[C]];return _},Pt=_=>typeof _=="object"&&typeof _._bitflags=="number",ci=1/0,We=-ci,mi=[];mi.total=0;var _e=null,Fo=n(""),ed=_=>{var g=[],S=0,w={},L=C=>{for(var T=0,B=g[T],P=1;P<S;){var z=P+1;T=P,z<S&&g[z]._score<g[P]._score&&(T=z),g[T-1>>1]=g[T],P=1+(T<<1)}for(var G=T-1>>1;T>0&&B._score<g[G]._score;G=(T=G)-1>>1)g[T]=g[G];g[T]=B};return w.add=C=>{var T=S;g[S++]=C;for(var B=T-1>>1;T>0&&C._score<g[B]._score;B=(T=B)-1>>1)g[T]=g[B];g[T]=C},w.poll=C=>{if(S!==0){var T=g[0];return g[0]=g[--S],L(),T}},w.peek=C=>{if(S!==0)return g[0]},w.replaceTop=C=>{g[0]=C,L()},w},Vn=ed();return{single:r,go:t,prepare:n,cleanup:a}})});var wt=Pr((_b,cc)=>{s();l();cc.exports=vt().react});function Tp(e){var[r,t]=React.useState(""),[o,n]=React.useState(""),[a,u]=React.useState(!1);function f(){u(!0),e.fetchFn(r).then(()=>bp("AddonInputAlert")).catch(p=>p instanceof Error?n(p.message):String(p)).finally(()=>u(!1))}return i(nl,{title:e.label,content:"Enter the URL of the source you want to install from:",extraContent:b(ge,{style:{marginTop:-12},children:[i(ze,{autoFocus:!0,isClearable:!0,value:r,onChange:p=>{t(p),o&&n("")},returnKeyType:"done",onSubmitEditing:f,state:o?"error":void 0,errorMessage:o||void 0}),i(tr.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{gap:8},children:i(se,{size:"sm",variant:"tertiary",text:"Import from clipboard",icon:v("ClipboardListIcon"),onPress:()=>er.getString().then(p=>t(p))})})]}),actions:b(ge,{children:[i(se,{loading:a,text:"Install",variant:"primary",disabled:!r||!al(r),onPress:f}),i(ic,{disabled:a,text:"Cancel",variant:"secondary"})]})})}function Qt({CardComponent:e,...r}){j(I);var[t,o]=React.useState(""),[n,a]=React.useState(()=>null),u=(0,Ha.useMemo)(()=>{var E=r.items;r.resolveItem&&(E=E.map(r.resolveItem));var y=E.filter(N=>N&&typeof N=="object");return!t&&n&&y.sort(n),mc.default.go(t,y,{keys:r.searchKeywords,all:!0})},[r.items,n,t]),f=(0,Ha.useCallback)(()=>{if(!r.installAction)return()=>{};var{label:E,onPress:y,fetchFn:N}=r.installAction;N?Ep("AddonInputAlert",i(Tp,{label:E??"Install",fetchFn:N})):y?.()},[]);if(u.length===0&&!t)return b(tr.View,{style:{gap:32,flexGrow:1,justifyContent:"center",alignItems:"center"},children:[b(tr.View,{style:{gap:8,alignItems:"center"},children:[i(tr.Image,{source:v("empty_quick_switcher")}),i(K,{variant:"text-lg/semibold",color:"text-normal",children:"Oops! Nothing to see here\u2026 yet!"})]}),i(se,{size:"lg",icon:v("DownloadIcon"),text:r.installAction?.label??"Install",onPress:f})]});var p=b(tr.View,{style:{paddingBottom:8},children:[I.safeMode?.enabled&&b(tr.View,{style:{marginBottom:10},children:[i(Ea,{messageType:0,children:r.safeModeHint?.message}),r.safeModeHint?.footer]}),b(tr.View,{style:{flexDirection:"row",gap:8},children:[i(At,{style:{flexGrow:1},isRound:!!r.sortOptions,onChangeText:E=>o(E)}),r.sortOptions&&i(je,{icon:v("ic_forum_channel_sort_order_24px"),variant:"tertiary",disabled:!!t,onPress:()=>xp({key:"AddonListSortOptions",header:{title:"Sort Options",onClose:()=>Sp("AddonListSortOptions")},options:Object.entries(r.sortOptions).map(([E,y])=>({label:E,onPress:()=>a(()=>y)}))})})]}),r.ListHeaderComponent&&i(r.ListHeaderComponent,{})]});return b(de,{children:[i(wa,{data:u,extraData:t,estimatedItemSize:136,ListHeaderComponent:p,ListEmptyComponent:()=>b(tr.View,{style:{gap:12,padding:12,alignItems:"center"},children:[i(tr.Image,{source:v("devices_not_found")}),i(K,{variant:"text-lg/semibold",color:"text-normal",children:"Hmmm... could not find that!"})]}),contentContainerStyle:{padding:8,paddingHorizontal:12},ItemSeparatorComponent:()=>i(tr.View,{style:{height:8}}),ListFooterComponent:r.ListFooterComponent,renderItem:({item:E})=>i(e,{item:E.obj,result:E})}),r.installAction&&i(jf,{icon:v("PlusLargeIcon"),onPress:f})]})}var mc,Ha,tr,xp,Sp,Ep,bp,Ga=h(()=>{"use strict";s();l();J();ie();Ce();ue();sc();lc();Se();ot();V();re();Cr();mc=U(fc()),Ha=U(wt()),tr=U(ae()),{showSimpleActionSheet:xp,hideActionSheet:Sp}=H(()=>F("showSimpleActionSheet")),{openAlert:Ep,dismissAlert:bp}=H(()=>F("openAlert","dismissAlert"))});var dc,pc=h(()=>{"use strict";s();l();V();Hr();dc=et({smallIcon:{tintColor:Xt.colors.LOGO_PRIMARY,height:18,width:18}})});function hc(e,r,t){gc.openLazy(r,e,t??{})}function vn(e){gc.hideActionSheet(e)}var gc,il=h(()=>{"use strict";s();l();Q();gc=R("openLazy","hideActionSheet")});function sl(){return(0,vc.default)(Xt.unsafe_rawColors.YELLOW_300).alpha(.3).hex()}function Ap(){var e=dc(),{plugin:r,result:t}=Va(),o=t[0].highlight((u,f)=>i(K,{style:{backgroundColor:sl()},children:u},f)),n=r.icon&&v(r.icon),a=i(K,{numberOfLines:1,variant:"heading-lg/semibold",children:o.length?o:r.name});return b(Rt.View,{style:{flexDirection:"row",alignItems:"center",gap:6},children:[n&&i(Rt.Image,{style:e.smallIcon,source:n}),a]})}function wp(){var{plugin:e,result:r}=Va();if(!e.authors)return null;var t=r[2].highlight((a,u)=>i(K,{style:{backgroundColor:sl()},children:a},u));if(t.length>0)return b(K,{variant:"text-md/semibold",color:"text-muted",children:["by ",t]});var o=["by "];for(var n of e.authors)o.push(typeof n=="string"?n:n.name),o.push(", ");return o.pop(),i(K,{variant:"text-md/semibold",color:"text-muted",children:o})}function Rp(){var{plugin:e,result:r}=Va(),t=r[1].highlight((o,n)=>i(K,{style:{backgroundColor:sl()},children:o},n));return i(K,{variant:"text-md/medium",children:t.length?t:e.description})}function ll({result:e,item:r}){r.usePluginState();var[,t]=React.useReducer(()=>({}),0),o=(0,Ct.useMemo)(()=>({plugin:r,result:e}),[r,e]);return i(yc.Provider,{value:o,children:i(wr,{children:b(ge,{spacing:16,children:[b(Rt.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[b(Rt.View,{style:{flexShrink:1},children:[i(Ap,{}),i(wp,{})]}),i(Rt.View,{children:b(ge,{spacing:12,direction:"horizontal",children:[i(Cp,{}),i(Mf,{value:r.isEnabled(),onValueChange:n=>{r.toggle(n),t()}})]})})]}),i(Rp,{})]})})})}var vc,Ct,Rt,yc,Va,Cp,_c=h(()=>{"use strict";s();l();J();pc();ie();V();re();il();vc=U(ua()),Ct=U(wt()),Rt=U(ae()),yc=(0,Ct.createContext)(null),Va=()=>(0,Ct.useContext)(yc);Cp=(0,Ct.memo)(()=>{var{plugin:e}=Va(),r=fe.useNavigation();return b(Rt.View,{style:{flexDirection:"row",gap:6},children:[i(je,{size:"sm",variant:"secondary",icon:v("WrenchIcon"),disabled:!e.getPluginSettingsComponent(),onPress:()=>r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}),i(je,{size:"sm",variant:"secondary",icon:v("CircleInformationIcon-primary"),onPress:()=>void hc("PluginInfoActionSheet",e.resolveSheetComponent(),{plugin:e,navigation:r})})]})})});var $e,eo,M,nt=h(()=>{"use strict";s();l();ne();Ce();ue();Sr();yt();Xr();$e=lr(He(Ze("VENDETTA_PLUGINS"))),eo={},M={plugins:$e,pluginFetch(e){return x(function*(){return e.startsWith(_r)&&(e=e.replace(_r,yo)),yield Ge(e,{cache:"no-store"})})()},fetchPlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=$e[e],t;try{t=yield(yield this.pluginFetch(e+"manifest.json")).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var o;if(r?.manifest.hash!==t.hash)try{o=yield(yield this.pluginFetch(e+(t.main||"index.js"))).text()}catch{}if(!o&&!r)throw new Error(`Failed to fetch JS for ${e}`);$e[e]={id:e,manifest:t,enabled:r?.enabled??!1,update:r?.update??!0,js:o??r.js}}).apply(this)},installPlugin(e,r=!0){return x(function*(){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in $e)throw new Error("Plugin already installed");yield this.fetchPlugin(e),r&&(yield this.startPlugin(e))}).apply(this)},evalPlugin(e){return x(function*(){var r={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:yield He(Ze(e.id))},logger:new en(`Bunny \xBB ${e.manifest.name}`)},t=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,o=(0,eval)(t)(r),n=typeof o=="function"?o():o;return n?.default??n??{}})()},startPlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=$e[e];if(!r)throw new Error("Attempted to start non-existent plugin");try{if(!I.safeMode?.enabled){var t=yield this.evalPlugin(r);eo[e]=t,t.onLoad?.()}r.enabled=!0}catch(o){Ne.error(`Plugin ${r.id} errored whilst loading, and will be unloaded`,o);try{eo[r.id]?.onUnload?.()}catch(n){Ne.error(`Plugin ${r.id} errored whilst unloading`,n)}delete eo[e],r.enabled=!1}}).apply(this)},stopPlugin(e,r=!0){e.endsWith("/")||(e+="/");var t=$e[e],o=eo[e];if(!t)throw new Error("Attempted to stop non-existent plugin");if(!I.safeMode?.enabled){try{o?.onUnload?.()}catch(n){Ne.error(`Plugin ${t.id} errored whilst unloading`,n)}delete eo[e]}r&&(t.enabled=!1)},removePlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=$e[e];r.enabled&&this.stopPlugin(e),delete $e[e],yield ho(e)}).apply(this)},initPlugins(){return x(function*(){yield Kr(I,$e);var e=Object.keys($e);if(!I.safeMode?.enabled){var r=this;yield m(e.filter(t=>$e[t].enabled).map(function(){var t=x(function*(o){return $e[o].update&&(yield r.fetchPlugin(o).catch(n=>Ne.error(n.message))),yield r.startPlugin(o)});return function(o){return t.apply(this,arguments)}}())),e.filter(t=>!$e[t].enabled&&$e[t].update).forEach(t=>this.fetchPlugin(t))}return()=>this.stopAllPlugins()}).apply(this)},stopAllPlugins(){return Object.keys(eo).forEach(e=>this.stopPlugin(e,!1))},getSettings:e=>eo[e]?.settings}});var pr,yn=h(()=>{"use strict";s();l();(function(e){e.BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"})(pr||(pr={}))});function ul({title:e,confirmText:r,confirmColor:t,onConfirm:o,cancelText:n,placeholder:a,initialValue:u="",secureTextEntry:f}){var[p,E]=React.useState(u),[y,N]=React.useState("");function oe(){var me=Promise.resolve(o(p));me.then(()=>{xc.close()}).catch(hr=>{N(hr.message)})}return i(xa,{title:e,confirmText:r,confirmColor:t,isConfirmButtonDisabled:y.length!==0,onConfirm:oe,cancelText:n,onCancel:()=>xc.close(),children:i(Gf,{placeholder:a,value:p,onChange:me=>{E(typeof me=="string"?me:me.text),y&&N("")},returnKeyType:"done",onSubmitEditing:oe,error:y||void 0,secureTextEntry:f,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}})})}var xc,Sc=h(()=>{"use strict";s();l();J();re();Q();xc=R("openLazy","close")});var $a={};D($a,{showConfirmationAlert:()=>gr,showCustomAlert:()=>za,showInputAlert:()=>fl});function gr(e){var r=e;return r.body=e.content,delete r.content,r.isDismissable??=!0,Ec.show(r)}var Ec,za,fl,ro=h(()=>{"use strict";s();l();ne();Q();Sc();Ec=R("openLazy","close");za=(e,r)=>Ec.openLazy({importer:x(function*(){return()=>React.createElement(e,r)})}),fl=e=>za(ul,e)});var Tc={};D(Tc,{default:()=>bc});function bc({plugin:e,navigation:r}){e.usePluginState();var t=M.plugins[e.id],o=e.getPluginSettingsComponent();return i(Ta,{children:b(_n.ScrollView,{children:[b(_n.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[i(K,{variant:"heading-xl/semibold",children:e.name}),i(_n.View,{style:{marginLeft:"auto"},children:o&&i(se,{size:"md",text:"Configure",variant:"secondary",icon:v("WrenchIcon"),onPress:()=>{vn("PluginInfoActionSheet"),r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:o})}})})]}),b(qt.Group,{children:[i(qt,{label:c.REFETCH,icon:i(A.Icon,{source:v("RetryIcon")}),onPress:x(function*(){t.enabled&&M.stopPlugin(e.id,!1);try{yield M.fetchPlugin(e.id),k(c.PLUGIN_REFETCH_SUCCESSFUL,v("toast_image_saved"))}catch{k(c.PLUGIN_REFETCH_FAILED,v("Small"))}t.enabled&&(yield M.startPlugin(e.id)),vn("PluginInfoActionSheet")})}),i(qt,{label:c.COPY_URL,icon:i(A.Icon,{source:v("copy")}),onPress:()=>{er.setString(e.id),k.showCopyToClipboard()}}),i(qt,{label:t.update?c.DISABLE_UPDATES:c.ENABLE_UPDATES,icon:i(A.Icon,{source:v("ic_download_24px")}),onPress:()=>{t.update=!t.update,k(rr("TOASTS_PLUGIN_UPDATE",{update:t.update,name:e.name}),v("toast_image_saved"))}}),i(qt,{label:c.CLEAR_DATA,icon:i(A.Icon,{source:v("ic_duplicate")}),onPress:()=>gr({title:c.HOLD_UP,content:rr("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.name}),confirmText:c.CLEAR,cancelText:c.CANCEL,confirmColor:pr.RED,onConfirm:x(function*(){t.enabled&&M.stopPlugin(e.id,!1);try{yield M.fetchPlugin(e.id),k(c.PLUGIN_REFETCH_SUCCESSFUL,v("toast_image_saved"))}catch{k(c.PLUGIN_REFETCH_FAILED,v("Small"))}var n;try{ho(e.id),n=["CLEAR_DATA_SUCCESSFUL","trash"]}catch{n=["CLEAR_DATA_FAILED","Small"]}k(rr(n[0],{name:e.name}),v(n[1])),t.enabled&&(yield M.startPlugin(e.id)),vn("PluginInfoActionSheet")})})}),i(qt,{label:c.DELETE,icon:i(A.Icon,{source:v("ic_message_delete")}),onPress:()=>gr({title:c.HOLD_UP,content:rr("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.name}),confirmText:c.DELETE,cancelText:c.CANCEL,confirmColor:pr.RED,onConfirm:()=>{try{M.removePlugin(e.id)}catch(n){k(String(n),v("Small"))}vn("PluginInfoActionSheet")}})})]})]})})}var _n,Ac=h(()=>{"use strict";s();l();ne();J();ce();nt();ie();ue();yn();V();re();ro();il();Lr();_n=U(ae())});function cl(e){return{id:e.id,name:e.manifest.name,description:e.manifest.description,authors:e.manifest.authors,icon:e.manifest.vendetta?.icon,isEnabled:()=>e.enabled,isInstalled:()=>!!(e&&M.plugins[e.id]),usePluginState(){j(M.plugins[e.id])},toggle(r){r?M.startPlugin(e.id):M.stopPlugin(e.id)},resolveSheetComponent(){return Promise.resolve().then(()=>(Ac(),Tc))},getPluginSettingsComponent(){return M.getSettings(e.id)}}}var wc=h(()=>{"use strict";s();l();nt();ue()});var Lc={};D(Lc,{default:()=>Ic});function Lp(e){var r=e.useItems();return i(Qt,{CardComponent:ll,title:c.PLUGINS,searchKeywords:["name","description",t=>t.authors?.map(o=>typeof o=="string"?o:o.name).join()],sortOptions:{"Name (A-Z)":(t,o)=>t.name.localeCompare(o.name),"Name (Z-A)":(t,o)=>o.name.localeCompare(t.name)},safeModeHint:{message:c.SAFE_MODE_NOTICE_PLUGINS},items:r,...e})}function Ic(){j(I);var e=fe.useNavigation();return i(Lp,{useItems:()=>j(M.plugins)&&Object.values(M.plugins),resolveItem:cl,ListHeaderComponent:()=>{var r=Object.values(M.plugins).filter(t=>!t.id.startsWith(_r)&&!t.id.startsWith(yo));return r.length?b(wr,{style:{marginVertical:8,gap:4},children:[i(K,{variant:"heading-lg/bold",children:"Unproxied Plugins Detected"}),i(K,{variant:"text-md/medium",children:"Installed plugins from unproxied sources may execute unreviewed code in this app without your knowledge."}),i(dl.View,{style:{marginTop:8,flexDirection:"row"},children:i(se,{style:{flexShrink:1},size:"sm",text:"Review",variant:"secondary",onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Unproxied Plugins",render:()=>i(wa,{data:r,contentContainerStyle:{padding:8},ItemSeparatorComponent:()=>i(dl.View,{style:{height:8}}),renderItem:({item:t})=>i(wr,{children:i(K,{variant:"heading-md/semibold",children:t.id})})})})}})})]}):null},installAction:{label:"Install a plugin",fetchFn:function(){var r=x(function*(t){if(!t.startsWith(_r)&&!t.startsWith(yo)&&!I.developerSettings)Rc("bunny-plugin-unproxied-confirmation",i(Cc,{title:"Hold On!",content:"You're trying to install a plugin from an unproxied external source. This means you're trusting the creator to run their code in this app without your knowledge. Are you sure you want to continue?",extraContent:i(wr,{children:i(K,{variant:"text-md/bold",children:t})}),actions:b(Ip,{children:[i(ml,{text:"Continue",variant:"primary",onPress:()=>{M.installPlugin(t).then(()=>k(c.TOASTS_INSTALLED_PLUGIN,v("Check"))).catch(o=>Rc("bunny-plugin-install-failed",i(Cc,{title:"Install Failed",content:`Unable to install plugin from '${t}':`,extraContent:i(wr,{children:i(K,{variant:"text-md/normal",children:o instanceof Error?o.message:String(o)})}),actions:i(ml,{text:"Okay",variant:"primary"})})))}}),i(ml,{text:"Cancel",variant:"secondary"})]})}));else return yield M.installPlugin(t)});return function(t){return r.apply(this,arguments)}}()}})}var dl,Rc,Cc,Ip,ml,Pc=h(()=>{"use strict";s();l();ne();J();ce();Ga();_c();nt();ie();Ce();ue();Lr();yt();Se();ot();V();re();dl=U(ae());wc();({openAlert:Rc}=H(()=>F("openAlert","dismissAlert"))),{AlertModal:Cc,AlertActions:Ip,AlertActionButton:ml}=H(()=>F("AlertModal","AlertActions"))});function pl(e){var r=Op();return i(wr,{children:b(ge,{spacing:16,children:[b(to.View,{style:{flexDirection:"row",alignItems:"center"},children:[b(to.View,{style:r.headerLeading,children:[i(K,{style:r.headerLabel,children:e.headerLabel}),e.headerSublabel&&i(K,{style:r.headerSubtitle,children:e.headerSublabel})]}),b(to.View,{style:[r.headerTrailing,{marginLeft:"auto"}],children:[b(to.View,{style:r.actions,children:[e.overflowActions&&i(je,{onPress:()=>Np({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&i(Qr.Icon,{style:{marginRight:8},source:v(e.headerIcon)}),onClose:()=>Pp()},options:e.overflowActions?.map(t=>({...t,icon:v(t.icon)}))}),size:"sm",variant:"secondary",icon:v("CircleInformationIcon-primary")}),e.actions?.map(({icon:t,onPress:o,disabled:n})=>i(je,{onPress:o,disabled:n,size:"sm",variant:"secondary",icon:v(t)}))]}),e.toggleType&&(e.toggleType==="switch"?i(Ff,{value:e.toggleValue(),onValueChange:e.onToggleChange}):i(to.TouchableOpacity,{onPress:()=>{e.onToggleChange?.(!e.toggleValue())},children:i(Uf,{selected:e.toggleValue()})}))]})]}),e.descriptionLabel&&i(K,{variant:"text-md/medium",children:e.descriptionLabel})]})})}var to,Pp,Np,Op,Nc=h(()=>{"use strict";s();l();J();ie();Se();re();Q();Tt();Hr();to=U(ae()),{hideActionSheet:Pp}=H(()=>F("openLazy","hideActionSheet")),{showSimpleActionSheet:Np}=H(()=>F("showSimpleActionSheet")),Op=et({card:{backgroundColor:ve?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...mr["heading-md/semibold"],color:ve.TEXT_NORMAL},headerSubtitle:{...mr["text-md/semibold"],color:ve.TEXT_MUTED},descriptionLabel:{...mr["text-md/semibold"],color:ve.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:ve.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}})});function Oc(e,r){try{Jr(e?r:null),rn(e?r:null)}catch(t){console.error("Error while selectAndApply,",t)}}function gl({item:e}){j(e);var[r,t]=React.useState(!1);if(r)return null;var{authors:o}=e.data;return i(pl,{headerLabel:e.data.name,headerSublabel:o?`by ${o.map(n=>n.name).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:I.safeMode?.enabled?void 0:"radio",toggleValue:()=>ee[e.id].selected,onToggleChange:n=>{Oc(n,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:c.REFETCH,onPress:()=>{$t(e.id,e.selected).then(()=>{k(c.THEME_REFETCH_SUCCESSFUL,v("toast_image_saved"))}).catch(()=>{k(c.THEME_REFETCH_FAILED,v("Small"))})}},{icon:"copy",label:c.COPY_URL,onPress:()=>{er.setString(e.id),k.showCopyToClipboard()}},{icon:"ic_message_delete",label:c.DELETE,isDestructive:!0,onPress:()=>gr({title:c.HOLD_UP,content:rr("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:c.DELETE,cancelText:c.CANCEL,confirmColor:pr.RED,onConfirm:()=>{Yt(e.id).then(n=>{t(!0),n&&Oc(!1,e)}).catch(n=>{k(n.message,v("Small"))})}})}]})}var Dc=h(()=>{"use strict";s();l();J();ce();Nc();ie();Ce();ue();Qe();yn();V();ro();Lr()});var Mc={};D(Mc,{default:()=>Bc});function Bc(){return j(I),j(ee),i(Qt,{title:c.THEMES,searchKeywords:["data.name","data.description",e=>e.data.authors?.map(r=>r.name).join(", ")],sortOptions:{"Name (A-Z)":(e,r)=>e.name.localeCompare(r.name),"Name (Z-A)":(e,r)=>r.name.localeCompare(e.name)},installAction:{label:"Install a theme",fetchFn:qr},items:Object.values(ee),safeModeHint:{message:rr("SAFE_MODE_NOTICE_THEMES",{enabled:!!I.safeMode?.currentThemeId}),footer:I.safeMode?.currentThemeId&&i(se,{size:"small",text:c.DISABLE_THEME,onPress:()=>delete I.safeMode?.currentThemeId,style:{marginTop:8}})},CardComponent:gl})}var Fc=h(()=>{"use strict";s();l();J();ce();Ga();Dc();Ce();ue();Qe();re()});var Sn={};D(Sn,{clearFolder:()=>El,downloadFile:()=>bl,fileExists:()=>no,readFile:()=>xn,removeFile:()=>oo,writeFile:()=>at});function El(e){return hl.apply(this,arguments)}function hl(){return hl=x(function*(e,r="pyoncord/"){if(typeof Y.clearFolder!="function")throw new Error("'fs.clearFolder' is not supported");return void(yield Y.clearFolder("documents",`${r}${e}`))}),hl.apply(this,arguments)}function oo(e){return vl.apply(this,arguments)}function vl(){return vl=x(function*(e,r="pyoncord/"){if(typeof Y.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void(yield Y.removeFile("documents",`${r}${e}`))}),vl.apply(this,arguments)}function no(e){return yl.apply(this,arguments)}function yl(){return yl=x(function*(e,r="pyoncord/"){return yield Y.fileExists(`${Y.getConstants().DocumentsDirPath}/${r}${e}`)}),yl.apply(this,arguments)}function at(e,r){return _l.apply(this,arguments)}function _l(){return _l=x(function*(e,r,t="pyoncord/"){if(typeof r!="string")throw new Error("Argument 'data' must be a string");return void(yield Y.writeFile("documents",`${t}${e}`,r,"utf8"))}),_l.apply(this,arguments)}function xn(e){return xl.apply(this,arguments)}function xl(){return xl=x(function*(e,r="pyoncord/"){try{return yield Y.readFile(`${Y.getConstants().DocumentsDirPath}/${r}${e}`,"utf8")}catch(t){throw new Error(`An error occured while writing to '${e}'`,{cause:t})}}),xl.apply(this,arguments)}function bl(e,r){return Sl.apply(this,arguments)}function Sl(){return Sl=x(function*(e,r,t="pyoncord/"){var o=yield fetch(e).then(f=>f.blob()),n=yield new Promise(f=>{var p=new FileReader;p.onload=()=>f(p.result),p.readAsDataURL(o)}),a;if(n==null)throw new Error("Failed to convert blob to data URL");var u=n.indexOf("base64,");if(u===-1)throw new Error("dataURL does not contain base64");return a=n.slice(u+7),void(yield Y.writeFile("documents",`${t}${r}`,a,"base64"))}),Sl.apply(this,arguments)}var ao=h(()=>{"use strict";s();l();ne();yr()});var Tn={};D(Tn,{fonts:()=>te,installFont:()=>Dp,removeFont:()=>Ya,saveFont:()=>Lo,selectFont:()=>bn,updateFonts:()=>Ll,validateFont:()=>En});function Uc(e){return Tl.apply(this,arguments)}function Tl(){return Tl=x(function*(e){if(!e&&e!==null)throw new Error("Arg font must be a valid object or null");e?yield at("fonts.json",JSON.stringify(e)):yield oo("fonts.json")}),Tl.apply(this,arguments)}function En(e){if(!e||typeof e!="object")throw new Error("URL returned a null/non-object JSON");if(typeof e.spec!="number")throw new Error("Invalid font 'spec' number");if(e.spec!==1)throw new Error("Only fonts which follows spec:1 are supported");var r=["name","main"];if(r.some(t=>!e[t]))throw new Error(`Font is missing one of the fields: ${r}`);if(e.name.startsWith("__"))throw new Error("Font names cannot start with __");if(e.name in te)throw new Error(`There is already a font named '${e.name}' installed`)}function Lo(e){return Al.apply(this,arguments)}function Al(){return Al=x(function*(e,r=!1){var t;if(typeof e=="object"&&e.__source&&(e=e.__source),typeof e=="string")try{t=yield(yield Ge(e)).json(),t.__source=e}catch(o){throw new Error(`Failed to fetch fonts at ${e}`,{cause:o})}else t=e;En(t);try{yield Promise.all(Object.entries(t.main).map(function(){var o=x(function*([n,a]){var u=a.split(".").pop();u!=="ttf"&&u!=="otf"&&(u="ttf");var f=`downloads/fonts/${t.name}/${n}.${u}`;(yield no(f))||(yield bl(a,f))});return function(n){return o.apply(this,arguments)}}()))}catch(o){throw new Error("Failed to download font assets",{cause:o})}return te[t.name]=t,r&&Uc(te[t.name]),t}),Al.apply(this,arguments)}function Dp(e){return wl.apply(this,arguments)}function wl(){return wl=x(function*(e,r=!1){if(typeof e!="string"||Object.values(te).some(o=>typeof o=="object"&&o.__source===e))throw new Error("Invalid source or font was already installed");var t=yield Lo(e);r&&(yield bn(t.name))}),wl.apply(this,arguments)}function bn(e){return Rl.apply(this,arguments)}function Rl(){return Rl=x(function*(e){if(e&&!(e in te))throw new Error("Selected font does not exist!");e?te.__selected=e:delete te.__selected,yield Uc(e==null?null:te[e])}),Rl.apply(this,arguments)}function Ya(e){return Cl.apply(this,arguments)}function Cl(){return Cl=x(function*(e){var r=te.__selected===e;r&&(yield bn(null)),delete te[e];try{yield El(`downloads/fonts/${e}`)}catch{}}),Cl.apply(this,arguments)}function Ll(){return Il.apply(this,arguments)}function Il(){return Il=x(function*(){yield Kr(te),yield m(Object.keys(te).map(e=>Lo(te[e],te.__selected===e)))}),Il.apply(this,arguments)}var te,io=h(()=>{"use strict";s();l();ne();ao();ue();Sr();te=lr(He(Ze("BUNNY_FONTS")))});function Bp(e){var r=e.map(o=>{var{pathname:n}=new URL(o),a=n.replace(/\.[^/.]+$/,"");return a.split("/").pop()}).filter(Boolean),t=r.reduce((o,n)=>n.length<o.length?n:o,r[0]||"");return t?.replace(/-[A-Za-z]*$/,"")||null}function Mp({fonts:e,setName:r}){var t=ca().data,o=t.fonts,[n,a]=(0,Te.useState)(Bp(Object.values(o))),[u,f]=(0,Te.useState)(void 0);return b(it.View,{style:{padding:8,paddingBottom:16,gap:12},children:[i(ze,{autoFocus:!0,size:"md",label:c.FONT_NAME,value:n,placeholder:n||"Whitney",onChange:a,errorMessage:u,state:u?"error":void 0}),i(K,{variant:"text-xs/normal",color:"text-muted",children:rr("THEME_EXTRACTOR_DESC",{fonts:Object.keys(o).join(c.SEPARATOR)})}),i(se,{size:"md",variant:"primary",text:c.EXTRACT,disabled:!n,onPress:()=>{if(n)try{En({spec:1,name:n,main:o}),r(n),Object.assign(e,o),Nl.hideActionSheet()}catch(p){f(String(p))}}})]})}function Fp({fonts:e,setName:r,setSource:t}){var[o,n]=(0,Te.useState)(""),[a,u]=(0,Te.useState)(!1),[f,p]=(0,Te.useState)(void 0);return b(it.View,{style:{padding:8,paddingBottom:16,gap:12},children:[i(ze,{autoFocus:!0,size:"md",label:"Font Link",value:o,placeholder:"https://link.to/font/pack.json",onChange:n,errorMessage:f,state:f?"error":void 0}),i(se,{size:"md",variant:"primary",text:"Import",disabled:!o||a,loading:a,onPress:()=>{u(!0),x(function*(){var E=yield Ge(o,{cache:"no-store"}),y=yield E.json();En(y),r(y.name),t(o),Object.assign(e,y.main)})().then(()=>Nl.hideActionSheet()).catch(E=>p(String(E))).finally(()=>u(!1))}})]})}function Up(e){var[r,t]=(0,Te.useState)(e.name),[o,n]=(0,Te.useState)(e.fontEntries[e.name]);return b(it.View,{style:{padding:8,paddingBottom:16,gap:12},children:[i(ze,{autoFocus:!0,size:"md",label:"Family Name (to override)",value:r,placeholder:"ggsans-Bold",onChange:t}),i(ze,{size:"md",label:"Font URL",value:o,placeholder:"https://link.to/the/font.ttf",onChange:n}),i(se,{size:"md",variant:"primary",text:"Apply",onPress:()=>{delete e.fontEntries[e.name],e.fontEntries[r]=o}})]})}function Pl(e,r,t){Nl.openLazy(Promise.resolve({default:()=>i(de,{children:b(Ta,{children:[i(kf,{title:"Import Font"}),i(e,{fonts:r,...t})]})})}),"FontEditorActionSheet")}function jp({fontEntry:e}){var r=(0,Te.useRef)(),t=(0,Te.useRef)(),[o,n]=(0,Te.useState)(!1),[a,u]=(0,Te.useState)();return b(it.View,{style:{flexDirection:"row",gap:8,justifyContent:"flex-start"},children:[i(it.View,{style:{flex:1},children:i(ze,{isRound:!0,size:"md",label:o?r.current:void 0,placeholder:o?"https://path.to/the/file.ttf":"PostScript name (e.g. ggsans-Bold)",leadingIcon:()=>o?null:i(A.Icon,{source:v("PlusSmallIcon")}),leadingText:o?r.current:"",onChange:f=>(o?t:r).current=f,errorMessage:a,state:a?"error":void 0})}),o&&i(je,{size:"md",variant:"secondary",onPress:()=>{r.current="",n(!1)},icon:v("TrashIcon")}),i(je,{size:"md",variant:"primary",onPress:()=>{if(!o&&r.current)n(!0);else if(o&&r.current&&t.current)try{var f=new URL(t.current);if(!f.protocol||!f.host)throw"Invalid URL";e[r.current]=t.current,r.current=void 0,t.current=void 0,n(!1)}catch(p){u(String(p))}},icon:v(o?"PlusSmallIcon":"ArrowLargeRightIcon")})]})}function An(e){var[r,t]=(0,Te.useState)(e.name),[o,n]=(0,Te.useState)(),[a,u]=(0,Te.useState)(!1),f=(0,Te.useMemo)(()=>vo(e.name?{...te[e.name].main}:{}).proxy,[e.name]),p=j(f),E=fe.useNavigation();return i(it.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:b(ge,{style:{paddingVertical:24,paddingHorizontal:12},spacing:12,children:[e.name?b(De,{title:"Actions",children:[i(A,{label:"Refetch fonts from source",icon:i(A.Icon,{source:v("RetryIcon")}),onPress:x(function*(){var y={...te[e.name]};yield Ya(e.name),yield Lo(y),E.goBack()})}),i(A,{label:"Delete font pack",icon:i(A.Icon,{source:v("TrashIcon")}),onPress:()=>Ya(e.name).then(()=>E.goBack())})]}):b(De,{title:"Import",children:[ca()?.data?.fonts&&i(A,{label:c.LABEL_EXTRACT_FONTS_FROM_THEME,subLabel:c.DESC_EXTRACT_FONTS_FROM_THEME,icon:i(A.Icon,{source:v("HammerIcon")}),onPress:()=>Pl(Mp,p,{setName:t})}),i(A,{label:"Import font entries from a link",subLabel:"Directly import from a link with a pre-configured JSON file",icon:i(A.Icon,{source:v("LinkIcon")}),onPress:()=>Pl(Fp,p,{setName:t,setSource:n})})]}),i(ze,{size:"lg",value:r,label:c.FONT_NAME,placeholder:"Whitney",onChange:t}),b(De,{title:"Font Entries",children:[Object.entries(p).map(([y,N])=>i(A,{label:y,subLabel:N,trailing:b(ge,{spacing:2,direction:"horizontal",children:[i(je,{size:"sm",variant:"secondary",icon:v("PencilIcon"),onPress:()=>Pl(Up,p,{name:y,fontEntries:p})}),i(je,{size:"sm",variant:"secondary",icon:v("TrashIcon"),onPress:()=>delete p[y]})]})})),i(A,{label:i(jp,{fontEntry:p})})]}),i(it.View,{style:{flexDirection:"row",justifyContent:"flex-end",bottom:0,left:0},children:i(se,{size:"lg",loading:a,disabled:a||!r||Object.keys(p).length===0,variant:"primary",text:e.name?"Save":"Import",onPress:x(function*(){r&&(u(!0),e.name?(Object.assign(te[e.name],{name:r,main:p,__edited:!0}),u(!1),E.goBack()):Lo({spec:1,name:r,main:p,__source:o}).then(()=>E.goBack()).finally(()=>u(!1)))}),icon:v(e.name?"toast_image_saved":"DownloadIcon"),style:{marginLeft:8}})})]})})}var Te,it,Nl,Ol=h(()=>{"use strict";s();l();ne();J();ce();ie();ue();io();Qe();Sr();V();re();Q();Cr();Te=U(wt()),it=U(ae()),Nl=R("hideActionSheet")});var kc=Pr((cw,jc)=>{s();l();jc.exports=vt()["@shopify/react-native-skia"]});function Hp({font:e}){var r=kp(Xt.colors.TEXT_NORMAL),{fontFamily:t,fontSize:o}=mr["text-md/medium"],n=t.split(/,/g)[0],a=No.useFont(e.main[n])?.getTypeface(),u=(0,Hc.useMemo)(()=>{if(!a)return null;var f=SkiaApi.TypefaceFontProvider.Make();return f.registerFont(a,n),SkiaApi.ParagraphBuilder.Make({},f).pushStyle({color:SkiaApi.Color(r),fontFamilies:[n],fontSize:o}).addText("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.").pop().build()},[a]);return i(Po.View,{style:{height:64},children:a?i(No.Canvas,{style:{height:64},children:i(No.Paragraph,{paragraph:u,x:0,y:0,width:300})}):i(Po.View,{style:{justifyContent:"center",alignItems:"center"},children:i(K,{color:"text-muted",variant:"heading-lg/semibold",children:"Loading..."})})})}function Dl({item:e}){j(te);var r=fe.useNavigation(),t=te.__selected===e.name;return i(wr,{children:b(ge,{spacing:16,children:[b(Po.View,{style:{flexDirection:"row",alignItems:"center"},children:[i(Po.View,{children:i(K,{variant:"heading-lg/semibold",children:e.name})}),i(Po.View,{style:{marginLeft:"auto"},children:b(ge,{spacing:12,direction:"horizontal",children:[i(je,{onPress:()=>{r.push("BUNNY_CUSTOM_PAGE",{title:"Edit Font",render:()=>i(An,{name:e.name})})},size:"sm",variant:"secondary",disabled:t,icon:v("PencilIcon")}),i(se,{size:"sm",variant:t?"secondary":"primary",text:t?"Unapply":"Apply",onPress:x(function*(){yield bn(t?null:e.name),gr({title:c.HOLD_UP,content:"Reload Discord to apply changes?",confirmText:c.RELOAD,cancelText:c.CANCEL,confirmColor:pr.RED,onConfirm:jo.reload})})})]})})]}),i(Hp,{font:e})]})})}var No,Hc,Po,kp,Gc=h(()=>{"use strict";s();l();ne();J();ce();ie();yr();ue();io();Se();yn();ot();V();re();No=U(kc());ro();Hr();Hc=U(wt()),Po=U(ae());Ol();({useToken:kp}=H(()=>F("useToken")))});var zc={};D(zc,{default:()=>Vc});function Vc(){j(I),j(te);var e=fe.useNavigation();return i(Qt,{title:c.FONTS,searchKeywords:["name","description"],sortOptions:{"Name (A-Z)":(r,t)=>r.name.localeCompare(t.name),"Name (Z-A)":(r,t)=>t.name.localeCompare(r.name)},items:Object.values(te),safeModeHint:{message:c.SAFE_MODE_NOTICE_FONTS},CardComponent:Dl,installAction:{label:"Install a font",onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Import Font",render:()=>i(An,{})})}}})}var $c=h(()=>{"use strict";s();l();J();ce();Ga();Ol();Ce();ue();io();V();Gc()});function Yc(e,r){var[t,o]=(0,Oo.useState)(2),n=()=>no(e,r).then(u=>o(u?1:0)).catch(()=>o(3)),a=(0,Oo.useMemo)(()=>new Proxy(Sn,{get(u,f,p){var E=Reflect.get(u,f,p);if(typeof E=="function")return(...y)=>{var N=(n(),E(...y));return N?.constructor?.name==="Promise"&&(o(2),N.finally(n)),N}}}),[]);return(0,Oo.useEffect)(()=>void n(),[]),[t,a]}var Oo,Gr,Wc=h(()=>{"use strict";s();l();ao();Oo=U(wt());(function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"})(Gr||(Gr={}))});function Bl({asset:e}){return i(Qr,{label:`${e.name} - ${e.id}`,trailing:i(Kc.Image,{source:e.id,style:{width:32,height:32}}),onPress:()=>{er.setString(e.name),k.showCopyToClipboard()}})}var Kc,Xc=h(()=>{"use strict";s();l();J();V();re();Lr();Kc=U(ae())});function Ml(){var[e,r]=React.useState("");return i(de,{children:b(Wa.View,{style:{flex:1},children:[i(At,{style:{margin:10},onChangeText:t=>r(t)}),i(Wa.FlatList,{data:Object.values(mt).filter(t=>t.name.includes(e)||t.id.toString()===e),renderItem:({item:t})=>i(Bl,{asset:t}),ItemSeparatorComponent:Aa,keyExtractor:t=>t.name})]})})}var Wa,qc=h(()=>{"use strict";s();l();J();Xc();ie();re();Cr();Wa=U(ae())});var Zc={};D(Zc,{default:()=>Jc});function Jc(){var[e,r]=Yc("preloads/reactDevtools.js"),t=$p(),o=fe.useNavigation();return j(I),j(fr),i(de,{children:i(Ka.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:b(ge,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[i(ze,{label:c.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:()=>i(wo,{style:t.leadingText,children:"ws://"}),defaultValue:I.debuggerUrl,onChange:n=>I.debuggerUrl=n}),b(De,{title:c.DEBUG,children:[i(A,{label:c.CONNECT_TO_DEBUG_WEBSOCKET,icon:i(A.Icon,{source:v("copy")}),onPress:()=>gn(I.debuggerUrl)}),So()&&i(Ar,{children:i(A,{label:c.CONNECT_TO_REACT_DEVTOOLS,icon:i(A.Icon,{source:v("ic_badge_staff")}),onPress:()=>window[ys()||"__vendetta_rdc"]?.connectToDevTools({host:I.debuggerUrl.split(":")?.[0],resolveRNStyle:Ka.StyleSheet.flatten})})})]}),da()&&i(Ar,{children:b(De,{title:"Loader config",children:[i(Jt,{label:c.LOAD_FROM_CUSTOM_URL,subLabel:c.LOAD_FROM_CUSTOM_URL_DEC,icon:i(A.Icon,{source:v("copy")}),value:fr.customLoadUrl.enabled,onValueChange:n=>{fr.customLoadUrl.enabled=n}}),fr.customLoadUrl.enabled&&i(A,{label:i(ze,{defaultValue:fr.customLoadUrl.url,size:"md",onChange:n=>fr.customLoadUrl.url=n,placeholder:"http://localhost:4040/vendetta.js",label:c.BUNNY_URL})}),So()&&Oe()&&i(Jt,{label:c.LOAD_REACT_DEVTOOLS,subLabel:`${c.VERSION}: ${_s()}`,icon:i(A.Icon,{source:v("ic_badge_staff")}),value:fr.loadReactDevTools,onValueChange:n=>{fr.loadReactDevTools=n}})]})}),b(De,{title:"Other",children:[i(A,{arrow:!0,label:c.ASSET_BROWSER,icon:i(A.Icon,{source:v("ic_image")}),trailing:A.Arrow,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{title:c.ASSET_BROWSER,render:Ml})}),i(A,{arrow:!0,label:c.ERROR_BOUNDARY_TOOLS_LABEL,icon:i(A.Icon,{source:v("ic_warning_24px")}),onPress:()=>Vp({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:i(A.Icon,{style:{marginRight:8},source:v("ic_warning_24px")}),onClose:()=>Gp()},options:[{label:c.BUNNY,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{render:()=>i("undefined",{})})},{label:"Discord",isDestructive:!0,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{noErrorBoundary:!0})}]})}),i(A,{label:c.INSTALL_REACT_DEVTOOLS,subLabel:c.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:i(A.Icon,{source:v("DownloadIcon")}),trailing:i(se,{size:"sm",loading:e===Gr.LOADING,disabled:e===Gr.LOADING,variant:e===Gr.TRUE?"secondary":"primary",text:e===Gr.TRUE?c.UNINSTALL:c.INSTALL,onPress:x(function*(){e===Gr.FALSE?r.downloadFile(zp,"preloads/reactDevtools.js"):e===Gr.TRUE&&r.removeFile("preloads/reactDevtools.js")}),icon:v(e===Gr.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),i(Jt,{label:c.ENABLE_EVAL_COMMAND,subLabel:c.ENABLE_EVAL_COMMAND_DESC,icon:i(A.Icon,{source:v("PencilIcon")}),value:I.enableEvalCommand,onValueChange:n=>{I.enableEvalCommand=n}})]})]})})})}var Ka,Gp,Vp,zp,$p,Qc=h(()=>{"use strict";s();l();ne();J();ce();Wc();qc();ie();tt();br();Ce();ue();Se();V();re();Q();Tt();Cr();Hr();Ka=U(ae()),{hideActionSheet:Gp}=H(()=>F("openLazy","hideActionSheet")),{showSimpleActionSheet:Vp}=H(()=>F("showSimpleActionSheet")),zp="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",$p=et({leadingText:{...mr["heading-md/semibold"],color:ve.TEXT_MUTED,marginRight:-4}})});function Fl(){Na({name:"Bunny",items:[{key:"BUNNY",title:()=>c.BUNNY,icon:{uri:_a},render:()=>Promise.resolve().then(()=>(ac(),nc)),rawTabsConfig:{useTrailing:()=>"(e3df56d-main)"}},{key:"BUNNY_PLUGINS",title:()=>c.PLUGINS,icon:v("ActivitiesIcon"),render:()=>Promise.resolve().then(()=>(Pc(),Lc))},{key:"BUNNY_THEMES",title:()=>c.THEMES,icon:v("PaintPaletteIcon"),render:()=>Promise.resolve().then(()=>(Fc(),Mc)),usePredicate:()=>ur()},{key:"BUNNY_FONTS",title:()=>c.FONTS,icon:v("ic_add_text"),render:()=>Promise.resolve().then(()=>($c(),zc)),usePredicate:()=>Es()},{key:"BUNNY_DEVELOPER",title:()=>c.DEVELOPER,icon:v("WrenchIcon"),render:()=>Promise.resolve().then(()=>(Qc(),Zc)),usePredicate:()=>j(I).developerSettings??!1}]}),Na({name:"Vendetta",items:[]})}var ol=h(()=>{"use strict";s();l();Of();ce();ie();br();Ce();ue();Io()});var Xa,st,Do,wn=h(()=>{"use strict";s();l();(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(Xa||(Xa={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(st||(st={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(Do||(Do={}))});var rm={};D(rm,{default:()=>Xp});function em(e){return"```js\n"+e.replaceAll("`","`"+Kp)+"\n```"}var Yp,Wp,Kp,Xp,tm=h(()=>{"use strict";s();l();ne();ce();wn();Ce();V();Q();Yp=R("inspect"),Wp=x(function*(){}).constructor,Kp="\u200B";Xp=()=>({name:"eval",description:c.COMMAND_EVAL_DESC,shouldHide:()=>I.enableEvalCommand===!0,options:[{name:"code",type:st.STRING,description:c.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:st.BOOLEAN,description:c.COMMAND_EVAL_OPT_ASYNC}],execute([e,r],t){return x(function*(){try{var o=Yp.inspect(r?.value?yield Wp(e.value)():eval?.(e.value)),n=o.length>2e3?o.slice(0,2e3)+"...":o;cr.sendBotMessage(t.channel.id,em(n))}catch(a){cr.sendBotMessage(t.channel.id,em(a?.stack??a))}})()}})});var om={};D(om,{default:()=>qp});var qp,nm=h(()=>{"use strict";s();l();ce();wn();tt();V();qp=()=>({name:"debug",description:c.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:st.BOOLEAN,description:c.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=rt(),o=["**Bunny Debug Info**",`> Bunny: ${t.bunny.version} (${t.bunny.loader.name} ${t.bunny.loader.version})`,`> Discord: ${t.discord.version} (${t.discord.build})`,`> React: ${t.react.version} (RN ${t.react.nativeVersion})`,`> Hermes: ${t.hermes.version} (bcv${t.hermes.bytecodeVersion})`,`> System: ${t.os.name} ${t.os.version} ${t.os.sdk?`(SDK ${t.os.sdk})`:""}`.trimEnd(),`> Device: ${t.device.model} (${t.device.codename})`].join(`
`);e?.value?cr.sendBotMessage(r.channel.id,o):cr.sendMessage(r.channel.id,{content:o})}})});var am={};D(am,{default:()=>Jp});var Jp,im=h(()=>{"use strict";s();l();ce();nt();wn();V();Jp=()=>({name:"plugins",description:c.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:st.BOOLEAN,description:c.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=Object.values(M.plugins).filter(Boolean);t.sort((u,f)=>u.manifest.name.localeCompare(f.manifest.name));var o=t.filter(u=>u.enabled).map(u=>u.manifest.name),n=t.filter(u=>!u.enabled).map(u=>u.manifest.name),a=[`**Installed Plugins (${t.length}):**`,...o.length>0?[`Enabled (${o.length}):`,"> "+o.join(", ")]:[],...n.length>0?[`Disabled (${n.length}):`,"> "+n.join(", ")]:[]].join(`
`);e?.value?cr.sendBotMessage(r.channel.id,a):cr.sendMessage(r.channel.id,{content:a})}})});var qa={};D(qa,{patchCommands:()=>Ul,registerCommand:()=>Bo});function Ul(){var e=W("getBuiltInCommands",Kt,([r],t)=>[...t,...Rn.filter(o=>(r instanceof Array?r.includes(o.type):r===o.type)&&o.__bunny?.shouldHide?.()!==!1)]);return[(tm(),Me(rm)),(nm(),Me(om)),(im(),Me(am))].forEach(r=>Bo(r.default())),()=>{Rn=[],e()}}function Bo(e){var r;try{r=Kt.getBuiltInCommands(Do.CHAT,!0,!1)}catch{r=Kt.getBuiltInCommands(Object.values(Do),!0,!1)}r.sort((n,a)=>parseInt(a.id)-parseInt(n.id));var t=r[r.length-1];if(e.id=(parseInt(t.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},e.applicationId??="-1",e.type??=Do.CHAT,e.inputType=Xa.BUILT_IN,e.displayName??=e.name,e.untranslatedName??=e.name,e.displayDescription??=e.description,e.untranslatedDescription??=e.description,e.options)for(var o of e.options)o.displayName??=o.name,o.displayDescription??=o.description;return ct("execute",e,(n,a)=>{Promise.resolve(a.apply(e,n)).then(u=>{u&&typeof u=="object"&&cr.sendMessage(n[1].channel.id,u)}).catch(u=>{Ne.error("Failed to execute command",u)})}),Rn.push(e),()=>Rn=Rn.filter(({id:n})=>n!==e.id)}var Rn,Cn=h(()=>{"use strict";s();l();wn();Fe();Xr();V();Rn=[]});var lm=Pr((cC,sm)=>{s();l();sm.exports=vt().lodash});var fm=Pr((pC,um)=>{s();l();um.exports=vt().util});var Ja,cm,mm,dm=h(()=>{"use strict";s();l();J();ie();Cn();tt();br();Fe();Ce();ue();ue();Qe();Sr();rs();Xr();ot();V();re();re();ro();Tt();Cr();Hr();Lr();Ei();Ja=U(wt()),cm=U(ae());nt();mm=()=>{var e=t=>o=>t(Wo.createSimpleFilter(o,Wu(new Error().stack))),r=window.vendetta={patcher:{before:Vo.before,after:Vo.after,instead:Vo.instead},metro:{modules:window.modules,find:e(we),findAll:e(ht),findByProps:(...t)=>{t.length===1&&t[0]==="KeyboardAwareScrollView"&&t.push("listenToKeyboardEvents");var o=F(...t);if(o==null&&t.includes("ActionSheetTitleHeader")){var n=F("ActionSheetRow");return{...n,ActionSheetTitleHeader:n.BottomSheetTitleHeader,ActionSheetContentContainer:({children:a})=>((0,Ja.useEffect)(()=>console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. This has been temporarily replaced with View"),[]),(0,Ja.createElement)(cm.View,null,a))}}return o},findByPropsAll:(...t)=>Mi(...t),findByName:(t,o)=>t==="create"&&typeof o>"u"?go("create",!1).default:go(t,o??!0),findByNameAll:(t,o=!0)=>Fi(t,o),findByDisplayName:(t,o=!0)=>Ui(t,o),findByDisplayNameAll:(t,o=!0)=>ki(t,o),findByTypeName:(t,o=!0)=>Hi(t,o),findByTypeNameAll:(t,o=!0)=>Gi(t,o),findByStoreName:t=>Vi(t),common:{constants:St,channels:ln,i18n:Et,url:bt,toasts:un,stylesheet:{createThemedStyleSheet:Zt},clipboard:er,assets:Ms,invites:Fs,commands:Kt,navigation:Us,navigationStack:js,NavigationNative:fe,Flux:ks,FluxDispatcher:Tr,React:fn,ReactNative:va,moment:Hs(),chroma:ua(),lodash:lm(),util:fm()}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:(t,o)=>xr(t,o),findInTree:(t,o,n)=>_o(t,o,n),safeFetch:(t,o,n)=>Ge(t,o,n),unfreeze:t=>Object.isFrozen(t)?{...t}:t,without:(t,...o)=>Si(t,o)},debug:{connectToDebugger:t=>gn(t),getDebugInfo:()=>rt()},ui:{components:{Forms:Vs,General:va,Alert:xa,Button:Sa,HelpMessage:(...t)=>i(Ea,{...t}),SafeAreaView:(...t)=>i(ba,{...t}),Summary:mn,ErrorBoundary:de,Codeblock:Rr,Search:At},toasts:{showToast:(t,o)=>k(t,o)},alerts:{showConfirmationAlert:t=>gr(t),showCustomAlert:(t,o)=>za(t,o),showInputAlert:t=>fl(t)},assets:{all:mt,find:t=>$o(t),getAssetByName:t=>$o(t),getAssetByID:t=>$o(t),getAssetIDByName:t=>v(t)},semanticColors:ve,rawColors:$s},plugins:{plugins:M.plugins,fetchPlugin:t=>M.fetchPlugin(t),installPlugin:(t,o=!0)=>M.installPlugin(t,o),startPlugin:t=>M.startPlugin(t),stopPlugin:(t,o=!0)=>M.stopPlugin(t,o),removePlugin:t=>M.removePlugin(t),getSettings:t=>M.getSettings(t)},themes:{themes:ee,fetchTheme:(t,o)=>$t(t,o),installTheme:t=>qr(t),selectTheme:t=>Jr(t==="default"?null:ee[t]),removeTheme:t=>Yt(t),getCurrentTheme:()=>xt(),updateThemes:()=>fa()},commands:{registerCommand:Bo},storage:{createProxy:t=>vo(t),useProxy:t=>j(t),createStorage:t=>He(t),wrapSync:t=>lr(t),awaitSyncWrapper:t=>Kr(t),createMMKVBackend:t=>Ze(t),createFileBackend:t=>(pe()&&t==="vendetta_theme.json"&&(t="pyoncord/current-theme.json"),Wr(t))},settings:I,loader:{identity:on()??void 0,config:fr},logger:{log:(...t)=>console.log(...t),info:(...t)=>console.info(...t),warn:(...t)=>console.warn(...t),error:(...t)=>console.error(...t),time:(...t)=>console.time(...t),trace:(...t)=>console.trace(...t),verbose:(...t)=>console.log(...t)},version:dn,unload:()=>{delete window.vendetta}};return()=>r.unload()}});var kl={};D(kl,{dispatcher:()=>Za,injectFluxInterceptor:()=>jl,intercept:()=>Qp});function jl(){var e=r=>{for(var t of Qa){var o=t(r);o!=null&&(o?typeof o=="object"&&(Object.assign(r,o),r[Zp]=!0):r[pm]=!0)}return pm in r};return(Za._interceptors??=[]).unshift(e),()=>Za._interceptors&&=Za._interceptors.filter(r=>r!==e)}function Qp(e){return Qa.push(e),()=>{Qa=Qa.filter(r=>r!==e)}}var pm,Zp,Za,Qa,Hl=h(()=>{"use strict";s();l();V();pm=Symbol.for("bunny.flux.blocked"),Zp=Symbol.for("bunny.flux.modified"),Za=Tr,Qa=[]});function hm(e,r){In.has(e)||In.set(e,[]),In.get(e).push(r)}function vm(){var e=([t,o],n)=>{if(typeof t=="function"&&In.has(t.name)){var a=In.get(t.name);for(var u of a)n=u(t,n);return n}},r=[W("jsx",gm,e),W("jsxs",gm,e)];return()=>r.forEach(t=>t())}var In,gm,Gl=h(()=>{"use strict";s();l();Fe();ot();In=new Map,gm=R("jsx","jsxs")});function tg(e,r=null,t=!1){if(e.guild_id===Ji){var o;if(e.parent_id===Zi)o="Plugin";else if(e.parent_id===Qo&&ur())o="Theme";else return;var{firstMessage:n}=t?eg(e):{firstMessage:r},a=n?.content?.match(Xi)?.filter(Ln[o].urlsFilter);if(!(!a||!a[0]))return o==="Plugin"&&!a[0].endsWith("/")&&(a[0]+="/"),[o,a[0]]}}function og(e,r=null,t=!1){var[o,n]=tg(e,r,t)??[];j(M.plugins),j(ee);var[a,u]=React.useState(!1);if(!o||!n)return[!0];var f=!!Ln[o].storage[n],p=function(){var E=x(function*(){u(!0);try{yield Ln[o].installOrRemove(n)}catch(y){k(y.message,v("Small"))}finally{u(!1)}});return function(){return E.apply(this,arguments)}}();return[!1,o,f,a,p]}var eg,rg,Ln,ng,ym,_m=h(()=>{"use strict";s();l();ne();J();ce();nt();ie();br();Fe();ue();Qe();yt();Se();re();Q();Cr();Lr();({useFirstForumPostMessage:eg}=H(()=>F("useFirstForumPostMessage"))),rg=R("MostCommonForumPostReaction"),Ln={Plugin:{storage:M.plugins,urlsFilter:e=>e.startsWith(_r),installOrRemove:e=>{var r=Ln.Plugin.storage[e];return r?M.removePlugin(e):M.installPlugin(e)}},Theme:{storage:ee,urlsFilter:e=>e.endsWith(".json"),installOrRemove:e=>{var r=Ln.Theme.storage[e];return r?Yt(e):qr(e)}}};ng=()=>W("MostCommonForumPostReaction",rg,([{thread:e,firstMessage:r}],t)=>{var[o,n,a,u,f]=og(e,r,!0);if(!o)return b(Ar,{children:[t,i(de,{children:i(se,{size:"sm",loading:u,disabled:u,variant:a?"secondary":"primary",text:a?c.UNINSTALL:c.INSTALL,onPress:f,icon:v(a?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})})]})}),ym=()=>{var e=[ng()];return()=>e.map(r=>r())}});function xm(e){if(e.startsWith(_r))return"plugin";if(e.endsWith(".json")&&ur())return"theme"}function Sm(e,r){(e==="plugin"?M.installPlugin.bind(M):qr)(r).then(()=>{k(c.SUCCESSFULLY_INSTALLED,v("Check"))}).catch(t=>{k(t.message,v("Small"))})}var ag,ig,sg,lg,ug,Em,bm=h(()=>{"use strict";s();l();ne();ce();nt();ie();br();Fe();Qe();yt();Se();V();qo();mo();Q();ro();Lr();ag=we(Xo("showSimpleActionSheet")),ig=R("handleClick"),{openURL:sg}=H(()=>bt),{getChannelId:lg}=H(()=>ln),{getChannel:ug}=H(()=>F("getChannel"));Em=()=>{var e=new Array;return e.push(W("showSimpleActionSheet",ag,r=>{if(r[0].key==="LongPressUrl"){var{header:{title:t},options:o}=r[0],n=xm(t);n&&o.push({label:c.INSTALL_ADDON,onPress:()=>Sm(n,t)})}})),e.push(ct("handleClick",ig,function(){var r=x(function*(t,o){var{href:n}=t[0],a=xm(n);if(!a)return o.apply(this,t);if(a==="theme"&&ug(lg())?.parent_id!==Qo)return o.apply(this,t);gr({title:c.HOLD_UP,content:rr("CONFIRMATION_LINK_IS_A_TYPE",{urlType:a}),onConfirm:()=>Sm(a,n),confirmText:c.INSTALL,cancelText:c.CANCEL,secondaryConfirmText:c.OPEN_IN_BROWSER,onConfirmSecondary:()=>sg(n)})});return function(t,o){return r.apply(this,arguments)}}())),()=>e.forEach(r=>r())}});var Am={};D(Am,{default:()=>fg});var Tm,fg,wm=h(()=>{"use strict";s();l();ri();_m();bm();Tm=[],fg=ei({manifest:{id:"bunny.quickinstall",name:"QuickInstall",version:"1.0.0",description:"Quickly install Vendetta plugins and themes",authors:[{name:"Vendetta Team"}]},start(){Tm=[ym(),Em()]},stop(){Tm.forEach(e=>e())}})});var Rm={};D(Rm,{default:()=>mg});var ti,cg,mg,Cm=h(()=>{"use strict";s();l();Gl();Fe();ot();ti=U(wt());ri();cg=go("useBadges",!1),mg=ei({manifest:{id:"bunny.badges",name:"Badges",version:"1.0.0",description:"Adds badges to user's profile",authors:[{name:"pylixonly"}]},start(){var e={},r={};hm("RenderedBadge",(t,o)=>{o.props.id.match(/bunny-\d+-\d+/)&&Object.assign(o.props,e[o.props.id])}),W("default",cg,([t],o)=>{var[n,a]=(0,ti.useState)(t?r[t.userId]??=[]:[]);(0,ti.useEffect)(()=>{t&&fetch(`https://raw.githubusercontent.com/pyoncord/badges/refs/heads/main/${t.userId}.json`).then(u=>u.json()).then(u=>a(r[t.userId]=u))},[t]),n.forEach((u,f)=>{e[`bunny-${t.userId}-${f}`]={source:{uri:u.url},id:`bunny-${f}`,label:u.label},o.push({id:`bunny-${t.userId}-${f}`,description:u.label,icon:"2ba85e8026a8614b640c2837bcdfe21b"})})})}})});function ei(e){return e[Symbol.for("bunny.core.plugin")]=!0,e}var Im,ri=h(()=>{"use strict";s();l();Im=()=>({"bunny.quickinstall":(wm(),Me(Am)),"bunny.badges":(Cm(),Me(Rm))})});function $l(e){return{get:x(function*(){try{return JSON.parse(yield xn(e))}catch(r){throw new Error(`Failed to parse storage from '${e}'`,{cause:r})}}),set:function(){var r=x(function*(t){if(!t||typeof t!="object")throw new Error("data needs to be an object");yield at(e,JSON.stringify(t))});return function(t){return r.apply(this,arguments)}}(),exists:x(function*(){return yield no(e)})}}function Pm(e,r,t){var o=new WeakMap;return new Proxy(e,{get(n,a){if(a===dg)return t;var u=[...r,a],f=n[a];if(f&&typeof f=="object"){var p=f;f=o.get(p),f||(f=Pm(p,u,t),o.set(p,f))}return f!=null&&t.emit("GET",{path:u,value:f}),f},set(n,a,u){return n[a]=u,t.emit("SET",{path:[...r,a],value:u}),!0},deleteProperty(n,a){var u=delete n[a];return u&&t.emit("DEL",{path:[...r,a]}),u}})}function gg(e={}){var r=new co;return{proxy:Pm(e,[],r),emitter:r}}function Nm(e,r){return Vl.apply(this,arguments)}function Vl(){return Vl=x(function*(e,r){so[e]=r,yield $l(e).set(r)}),Vl.apply(this,arguments)}function hg(e,r={},t){var o=a=>{var{proxy:u,emitter:f}=gg(a),p=()=>n.set(u);f.on("SET",p),f.on("DEL",p),t(u)},n=$l(e);so[e]?o(so[e]):n.exists().then(function(){var a=x(function*(u){u?o(yield n.get()):(yield n.set(r),o(r))});return function(u){return a.apply(this,arguments)}}())}function Yl(e){return zl.apply(this,arguments)}function zl(){return zl=x(function*(e){if(so[e])return so[e];var r=$l(e);if(yield r.exists())return so[e]=yield r.get();console.log("no "+e)}),zl.apply(this,arguments)}function Om(e){return so[e]}function Wl(...e){return Promise.all(e.map(r=>r[Lm]))}var dg,pg,Lm,so,Pn,Kl=h(()=>{"use strict";s();l();ne();ao();ea();dg=Symbol.for("bunny.storage.emitter"),pg=Symbol.for("bunny.storage.initError"),Lm=Symbol.for("bunny.storage.promise"),so={};Pn=(e,r={})=>{var t=new Promise(p=>u=p),o,n,a,u;hg(e,r,p=>{o=p,n=!0,u()});var f=()=>{if(n)return!0;throw new Error("Attempted to access storage without initializing")};return new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(p=>[p,(E,...y)=>f()&&Reflect[p](o,...y)])),get(p,E,y){return E===pg?a:E===Lm?t:f()&&Reflect.get(o??p,E,y)}})}});var Xl={};D(Xl,{fs:()=>Sn,loader:()=>bs,modules:()=>Yn});var Dm=h(()=>{"use strict";s();l();ao();br();yr()});var ql={};D(ql,{assets:()=>Yo,commands:()=>qa,debug:()=>Ma,flux:()=>kl,native:()=>Xl,patcher:()=>kt,settings:()=>pa,storage:()=>sa});var Jl=h(()=>{"use strict";s();l();ie();Cn();tt();Hl();Dm();Fe();Ce();ue()});function Nn(e,r){return(...t)=>{var o=r(...t);return e.push(o),o}}function Bm(e){var r=new Array,t={...window.bunny,api:{...window.bunny.api,patcher:{before:Nn(r,kt.before),after:Nn(r,kt.after),instead:Nn(r,kt.instead)},commands:{...window.bunny.api.commands,registerCommand:Nn(r,Bo)},flux:{...window.bunny.api.flux,intercept:Nn(r,window.bunny.api.flux.intercept)}},plugin:{createStorage:()=>Pn(`plugins/storage/${e}.json`),manifest:Ie.get(e),logger:Ne}};return{object:t,disposers:r}}var Mm=h(()=>{"use strict";s();l();Jl();Cn();Kl();Xr();On()});var Fn={};D(Fn,{apiObjects:()=>lu,corePluginInstances:()=>oi,deleteRepository:()=>Eg,disablePlugin:()=>Tg,enablePlugin:()=>bg,getId:()=>yg,getPluginSettingsComponent:()=>_g,initPlugins:()=>fu,installPlugin:()=>Ag,isPluginEnabled:()=>km,isPluginInstalled:()=>lo,pluginInstances:()=>Vr,pluginRepositories:()=>It,pluginSettings:()=>or,refreshPlugin:()=>xg,registerCorePlugins:()=>uu,registeredPlugins:()=>Ie,startPlugin:()=>Mn,stopPlugin:()=>ai,uninstallPlugin:()=>Hm,updateAndWritePlugin:()=>Dn,updateRepository:()=>Sg});function ye(e,r,t){if(!e)throw new Error(`[${r}] Attempted to ${t}`)}function Fm(e,r){if(To.gt(e,r))return!0;var t=To.coerce(e);return t==null?!1:To.prerelease(e)?.includes("dev")&&To.eq(t,r)}function Bn(e){return"parentRepository"in e}function yg(e){var r=ni.get(e);return ye(r,e?.name??"unknown","getting ID from an unregistered/invalid manifest"),r}function _g(e){var r=Vr.get(e);return r&&r.SettingsComponent?r.SettingsComponent:null}function lo(e){return or[e]!=null}function km(e){return!!or[e]?.enabled}function Dn(e,r,t){return Zl.apply(this,arguments)}function Zl(){return Zl=x(function*(e,r,t){var o=yield jm(e,`plugins/${r}/manifest.json`);if(o.parentRepository=e,t){o.jsPath=`plugins/scripts/${r}.js`;var n=yield vg(e,`plugins/${r}/index.js`);yield at(o.jsPath,n)}if(yield Nm(`plugins/manifests/${r}.json`,o),Ie.has(r)){var a=Ie.get(r);return Object.assign(a,o)}return o}),Zl.apply(this,arguments)}function xg(e,r){return Ql.apply(this,arguments)}function Ql(){return Ql=x(function*(e,r){var t=Ie.get(e);ye(t,e,"refresh a non-registered plugin"),ye(Vr.get(e),e,"refresh a non-started plugin"),ai(e),Bn(t)&&(t=yield Dn(r??t.parentRepository,e,!0)),Ie.delete(e),Ie.set(e,t),ni.set(t,e),yield Mn(e)}),Ql.apply(this,arguments)}function Sg(e){return eu.apply(this,arguments)}function eu(){return eu=x(function*(e){var r=yield jm(e,"repo.json"),t=It[e],o=!1;if(t)for(var a in t)r[a]||delete t[a];else{for(var n in r)if(oi.has(n))throw new Error(`Plugins can't have the same ID as any of Bunny core plugin '${n}'`);o=!0,It[e]=r}yield Promise.all(Object.keys(r).map(function(){var E=x(function*(y){if(!t||!t[y]||r[y].alwaysFetch||Fm(r[y].version,t[y].version))o=!0,It[e][y]=r[y],yield Dn(e,y,!!(t&&or[y]));else{var N=yield Yl(`plugins/manifests/${y}.json`);N===void 0&&(yield Dn(e,y,!!(t&&or[y])))}});return function(y){return E.apply(this,arguments)}}()));for(var u in r){var f=Om(`plugins/manifests/${u}.json`);if(f!==void 0){var p=Ie.get(u);p&&!Fm(f.version,p.version)||(Ie.set(u,f),ni.set(f,u))}}return o}),eu.apply(this,arguments)}function Eg(e){return ru.apply(this,arguments)}function ru(){return ru=x(function*(e){ye(e!==qi,e,"delete the official repository"),ye(It[e],e,"delete a non-registered repository");var r=[];for(var[t,o]of Ie)!Bn(o)||o.parentRepository!==e||(lo(t)&&r.push(Hm(t)),Ie.delete(t));delete It[e],yield Promise.all(r)}),ru.apply(this,arguments)}function bg(e,r){return tu.apply(this,arguments)}function tu(){return tu=x(function*(e,r){ye(lo(e),e,"enable a non-installed plugin"),or[e].enabled=!0,r&&(yield Mn(e))}),tu.apply(this,arguments)}function Tg(e){ye(lo(e),e,"disable a non-installed plugin"),Vr.has(e)&&ai(e),or[e].enabled=!1}function Ag(e,r){return ou.apply(this,arguments)}function ou(){return ou=x(function*(e,r){var t=Ie.get(e);ye(t,e,"install an non-registered plugin"),ye(!lo(e),e,"install an already installed plugin"),ye(Bn(t),e,"install a core plugin"),yield Dn(t.parentRepository,e,!0),or[e]={enabled:!0},r&&Mn(e)}),ou.apply(this,arguments)}function Hm(e){return nu.apply(this,arguments)}function nu(){return nu=x(function*(e){var r=Ie.get(e);ye(r,e,"uninstall an unregistered plugin"),ye(lo(e),e,"uninstall a non-installed plugin"),ye(Bn(r),e,"uninstall a core plugin"),Vr.has(e)&&ai(e),delete or[e],yield oo(`plugins/scripts/${e}.js`)}),nu.apply(this,arguments)}function Mn(e){return au.apply(this,arguments)}function au(){return au=x(function*(e){var r=Ie.get(e);ye(r,e,"start a non-registered plugin"),ye(lo(e),e,"start a non-installed plugin"),ye(or[e]?.enabled,e,"start a disabled plugin"),ye(!Vr.has(e),e,"start an already started plugin"),yield Yl(`plugins/storage/${e}.json`);var t;if(Bn(r)){try{var o=yield xn(r.jsPath),n=globalEvalWithSourceUrl(`(bunny,definePlugin)=>{${o};return plugin?.default ?? plugin;}`,`bunny-plugin/${e}-${r.version}`)}catch(u){throw new Error("An error occured while parsing plugin's code, possibly a syntax error?",{cause:u})}try{var a=Bm(e);if(t=n(a.object,u=>Object.assign(u,{manifest:r})),!t)throw new Error(`Plugin '${e}' does not export a valid plugin instance`);lu.set(e,a),Vr.set(e,t)}catch(u){throw new Error("An error occured while instantiating plugin's code",{cause:u})}}else t=oi.get(e),ye(t,e,"start a non-existent core plugin"),Vr.set(e,t);try{t.start?.()}catch(u){throw new Error("An error occured while starting the plugin",{cause:u})}}),au.apply(this,arguments)}function ai(e){var r=Vr.get(e);ye(r,e,"stop a non-started plugin"),r.stop?.();var t=lu.get(e);t?.disposers.forEach(o=>o()),Vr.delete(e)}function uu(){return iu.apply(this,arguments)}function iu(){return iu=x(function*(){yield Wl(It,or);var e=Im();for(var r in e){var{default:t,preenabled:o}=e[r];or[r]??={enabled:o??!0},Ie.set(r,t.manifest),ni.set(t.manifest,r),oi.set(r,t)}}),iu.apply(this,arguments)}function fu(){return su.apply(this,arguments)}function su(){return su=x(function*(){yield Wl(It,or),yield m([...Ie.keys()].map(function(){var e=x(function*(r){km(r)&&(yield Mn(r))});return function(r){return e.apply(this,arguments)}}()))}),su.apply(this,arguments)}var oi,Ie,Vr,lu,It,or,ni,Um,vg,jm,On=h(()=>{"use strict";s();l();ne();ri();ao();Kl();Sr();yt();V();Mm();oi=new Map,Ie=new Map,Vr=new Map,lu=new Map,It=Pn("plugins/repositories.json"),or=Pn("plugins/settings.json"),ni=new WeakMap,Um=(e,r)=>Ge(new URL(r,e),{cache:"no-store"}),vg=(e,r)=>Um(e,r).then(t=>t.text()),jm=(e,r)=>Um(e,r).then(t=>t.json())});function Rg(){var e=Re("ErrorBoundary")[ia];return new Promise(r=>{e.getExports(t=>{r(t.prototype)})})}var lt,bL,wg,Un,Gm,Vm,zm=h(()=>{"use strict";s();l();J();ce();tt();yr();Fe();Ce();Se();yn();re();Jo();Q();Tt();Cr();Hr();lt=U(ae()),bL=Re("ErrorBoundary"),{BadgableTabBar:wg}=H(()=>F("BadgableTabBar")),Un=Zt({container:{flex:1,backgroundColor:ve.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...mr["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:ve.HEADER_PRIMARY},headerDescription:{...mr["text-sm/medium"],textAlign:"center",color:ve.TEXT_MUTED},footer:{flexDirection:Dr.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),Gm=[{id:"message",title:()=>c.MESSAGE},{id:"stack",title:()=>c.STACK_TRACE},{id:"componentStack",title:()=>c.COMPONENT,trimWhitespace:!0}];Vm=()=>W.await("render",Rg(),function(e,r){if(this.state.error){this.state.activeTab??="message";var t=Gm.find(a=>a.id===this.state.activeTab),o=this.state.error[this.state.activeTab],n=[{text:c.RELOAD_DISCORD,onPress:this.handleReload},...I.safeMode?.enabled?[]:[{text:c.RELOAD_IN_SAFE_MODE,onPress:pn}],{text:c.RETRY_RENDER,color:pr.RED,onPress:()=>this.setState({info:null,error:null})}];return i(de,{children:b(ba,{style:Un.container,children:[b(lt.View,{style:Un.header,children:[i(r.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),b(lt.View,{style:{flex:2,paddingLeft:24},children:[i(lt.Text,{style:Un.headerTitle,children:r.props.title}),i(lt.Text,{style:Un.headerDescription,children:r.props.body})]})]}),b(lt.View,{style:{flex:6},children:[i(lt.View,{style:{paddingBottom:8},children:i(wg,{tabs:Gm.map(a=>({...a,title:a.title()})),activeTab:this.state.activeTab,onTabSelected:a=>{this.setState({activeTab:a})}})}),i(Rr,{selectable:!0,style:{flex:1,textAlignVertical:"top"},children:t?.trimWhitespace?o.split(`
`).filter(a=>a.length!==0).map(a=>a.trim()).join(`
`):o})]}),i(lt.View,{style:Un.footer,children:n.map(a=>{var u=n.indexOf(a)!==0?8:0;return i(Sa,{text:a.text,color:a.color??pr.BRAND,size:a.size??"small",onPress:a.onPress,style:{...Dr.isTablet?{flex:`0.${n.length}`,marginLeft:u}:{marginTop:u},borderRadius:16}})})})]})})}})});var $m=h(()=>{"use strict";s();l()});var Ym=h(()=>{"use strict";s();l()});var cu={};D(cu,{alerts:()=>$a,color:()=>Ra,components:()=>Ia,settings:()=>Qs,styles:()=>Ks,toasts:()=>Oa});var Wm=h(()=>{"use strict";s();l();ro();Tt();Cr();Io();Hr();Lr()});var mu={};D(mu,{api:()=>ql,fonts:()=>Tn,managers:()=>Cg,metro:()=>ja,plugins:()=>Fn,themes:()=>Wt,ui:()=>cu,unload:()=>jn,utils:()=>la});function jn(){for(var e of Km)typeof e=="function"&&e();delete window.bunny}var Cg,Km,Xm=h(()=>{"use strict";s();l();$m();Ym();Jl();io();On();Qe();Wm();Sr();ot();io();On();Qe();Se();Cg=xe(()=>(console.warn("bunny.managers.* is deprecated, and moved the top level (bunny.*). bunny.managers will be eventually removed soon"),{get fonts(){return Tn},get plugins(){return Fn},get themes(){return Wt}}),{hint:"object"}),Km=[];jn.push=e=>{Km.push(e)}});var qm={};D(qm,{default:()=>Ig});var Ig,Jm=h(()=>{"use strict";s();l();ne();Rf();ce();ol();dm();nt();Cn();tt();Hl();Gl();ao();br();yr();io();On();Qe();Xr();zm();Io();Xm();Ig=x(function*(){if(ur())try{pe()&&(Y.removeFile!=null?oo("vendetta_theme.json",""):at("vendetta_theme.json","null","")),gs()}catch(e){console.error("[Bunny] Failed to initialize themes...",e)}yield Promise.all([jl(),Zs(),rl(),Ul(),ps(),vm(),mm(),Nf(),Fl(),wf(),Vm(),uu()]).then(e=>e.forEach(r=>r&&jn.push(r))),window.bunny=mu,M.initPlugins().then(e=>jn.push(e)).catch(()=>alert("Failed to initialize Vendetta plugins")),fu(),Ll(),Ne.log("Bunny is ready!")})});s();l();ne();var{instead:Lg}=$n();globalThis.window=globalThis;function Zm(){return du.apply(this,arguments)}function du(){return du=x(function*(){try{Object.freeze=Object.seal=Object,yield(Gt(),Me(Ef)).initMetroCache(),yield(Jm(),Me(qm)).default()}catch(t){var{ClientInfoManager:e}=(yr(),Me(Yn)),r=t instanceof Error?t.stack:void 0;console.log(r??t?.toString?.()??t),alert([`Failed to load Bunny!
`,`Build Number: ${e.Build}`,"Bunny: e3df56d-main",r||t?.toString?.()].join(`
`))}}),du.apply(this,arguments)}if(typeof globalThis.__r<"u")Zm();else{var e=function(r){var t=window.__fbBatchedBridge,o=new Array,n=Lg("callFunctionReturnFlushedQueue",t,(u,f)=>u[0]==="AppRegistry"||!t.getCallableModule(u[0])?(o.push(u),t.flushedQueue()):f.apply(t,u)),a=function(){var u=x(function*(){yield Zm(),n(),r(0),o.forEach(f=>t.getCallableModule(f[0])&&t.__callFunction(...f))});return function(){return u.apply(this,arguments)}}();a()};Pg=e,Object.defineProperties(globalThis,{__r:{configurable:!0,get:()=>ii,set(r){ii=function(o){if(o===0)e(r),ii=r;else return r(o)}}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(r){this.value=r}}})}var ii,Pg;})();
//# sourceURL=bunny
