"use strict";(()=>{var kd=Object.create;var pa=Object.defineProperty;var Hd=Object.getOwnPropertyDescriptor;var Vd=Object.getOwnPropertyNames;var Gd=Object.getPrototypeOf,zd=Object.prototype.hasOwnProperty;var g=(e,r)=>()=>(e&&(r=e(e=0)),r);var Mr=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),D=(e,r)=>{for(var t in r)pa(e,t,{get:r[t],enumerable:!0})},zu=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(var n=Vd(r),a=0,s=n.length,f;a<s;a++)f=n[a],!zd.call(e,f)&&f!==t&&pa(e,f,{get:(c=>r[c]).bind(null,f),enumerable:!(o=Hd(r,f))||o.enumerable});return e};var k=(e,r,t)=>(t=e!=null?kd(Gd(e)):{},zu(r||!e||!e.__esModule?pa(t,"default",{value:e,enumerable:!0}):t,e)),Ve=e=>zu(pa({},"__esModule",{value:!0}),e);var h,l=g(()=>{"use strict";h=Symbol("Symbol.asyncIterator")});var $d,Yd,Wd,p,u=g(()=>{"use strict";$d=e=>({status:"fulfilled",value:e}),Yd=e=>({status:"rejected",reason:e}),Wd=e=>Promise.resolve(e).then($d,Yd),p=Promise.allSettled??=e=>Promise.all(Array.from(e).map(Wd))});function $u(e,r,t,o,n,a,s){try{var f=e[a](s),c=f.value}catch(_){t(_);return}f.done?r(c):Promise.resolve(c).then(o,n)}function x(e){return function(){var r=this,t=arguments;return new Promise(function(o,n){var a=e.apply(r,t);function s(c){$u(a,o,n,s,f,"next",c)}function f(c){$u(a,o,n,s,f,"throw",c)}s(void 0)})}}var fe=g(()=>{l();u()});var ha=Mr((dv,qu)=>{l();u();var Ni=Object.defineProperty,Kd=Object.getOwnPropertyDescriptor,qd=Object.getOwnPropertyNames,Xd=Object.prototype.hasOwnProperty,Jd=(e,r)=>{for(var t in r)Ni(e,t,{get:r[t],enumerable:!0})},Zd=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function"){var n=function(s){!Xd.call(e,s)&&s!==t&&Ni(e,s,{get:()=>r[s],enumerable:!(o=Kd(r,s))||o.enumerable})};for(var a of qd(r))n(a)}return e},Qd=e=>Zd(Ni({},"__esModule",{value:!0}),e),Yu={};Jd(Yu,{after:()=>np,before:()=>tp,instead:()=>op,unpatchAll:()=>rp});qu.exports=Qd(Yu);var Wu=["a","b","i"],qt=new Map;function ep(e,r,t,o,n){var a=qt.get(r)?.[e];if(!a)return n?Reflect.construct(r[e],t,o):r[e].apply(o,t);for(var s of a.b.values()){var f=s.call(o,t);Array.isArray(f)&&(t=f)}var c=[...a.i.values()].reduce((m,R)=>(...O)=>R.call(o,O,m),(...m)=>n?Reflect.construct(a.o,m,o):a.o.apply(o,m))(...t);for(var _ of a.a.values())c=_.call(o,t,c)??c;return c}function Ku(e,r,t,o){var n=qt.get(e),a=n?.[r];if(!a?.[o].has(t))return!1;if(a[o].delete(t),Wu.every(f=>a[f].size===0)){var s=Reflect.defineProperty(e,r,{value:a.o,writable:!0,configurable:!0});s||(e[r]=a.o),delete n[r]}return Object.keys(n).length==0&&qt.delete(e),!0}function rp(){for(var[e,r]of qt.entries())for(var t in r)for(var o of Wu)for(var n of r[t]?.[o].keys()??[])Ku(e,t,n,o)}var Oi=e=>(r,t,o,n=!1)=>{if(typeof t[r]!="function")throw new Error(`${r} is not a function in ${t.constructor.name}`);qt.has(t)||qt.set(t,Object.create(null));var a=qt.get(t);if(!a[r]){var s=t[r];a[r]={o:s,b:new Map,i:new Map,a:new Map};var f=(O,F,te)=>{var ve=ep(r,t,F,O,te);return n&&R(),ve},c=new Proxy(s,{apply:(O,F,te)=>f(F,te,!1),construct:(O,F)=>f(s,F,!0),get:(O,F,te)=>F=="toString"?s.toString.bind(s):Reflect.get(O,F,te)}),_=Reflect.defineProperty(t,r,{value:c,configurable:!0,writable:!0});_||(t[r]=c)}var m=Symbol(),R=()=>Ku(t,r,m,e);return a[r][e].set(m,o),R},tp=Oi("b"),op=Oi("i"),np=Oi("a")});var Xu={};D(Xu,{BundleUpdaterManager:()=>Qo,ClientInfoManager:()=>Xt,DeviceManager:()=>jr,FileManager:()=>Z,MMKVManager:()=>Fr,ThemeManager:()=>Di});var Br,Fr,Z,Xt,jr,Qo,Di,Qr=g(()=>{"use strict";l();u();Br=window.nativeModuleProxy,Fr=Br.MMKVManager,Z=Br.DCDFileManager??Br.RTNFileManager,Xt=Br.InfoDictionaryManager??Br.RTNClientInfoManager,jr=Br.DCDDeviceManager??Br.RTNDeviceManager,{BundleUpdaterManager:Qo}=Br,Di=Br.RTNThemeManager??Br.DCDTheme});function Jt(e){return Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jt(e)}var Mi=g(()=>{l();u()});function en(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(en=function(){return!!e})()}var Bi=g(()=>{l();u()});function Ju(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Zu=g(()=>{l();u()});function Qu(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var ef=g(()=>{l();u()});function rf(e,r){return r&&(Qu(r)==="object"||typeof r=="function")?r:Ju(e)}var tf=g(()=>{l();u();Zu();ef()});function yt(e,r,t){return r=Jt(r),rf(e,en()?Reflect.construct(r,t||[],Jt(e).constructor):r.apply(e,t))}var ga=g(()=>{l();u();Mi();Bi();tf()});function tr(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var rn=g(()=>{l();u()});function _t(e,r){return _t=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},_t(e,r)}var va=g(()=>{l();u()});function xt(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_t(e,r)}var ya=g(()=>{l();u();va()});function tn(e,r,t){return en()?tn=Reflect.construct:tn=function(n,a,s){var f=[null];f.push.apply(f,a);var c=Function.bind.apply(n,f),_=new c;return s&&_t(_,s.prototype),_},tn.apply(null,arguments)}var of=g(()=>{l();u();Bi();va()});function nf(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var af=g(()=>{l();u()});function _a(e){var r=typeof Map=="function"?new Map:void 0;return _a=function(o){if(o===null||!nf(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(o))return r.get(o);r.set(o,n)}function n(){return tn(o,arguments,Jt(this).constructor)}return n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_t(n,o)},_a(e)}var sf=g(()=>{l();u();of();Mi();af();va()});function on(e,r,{signal:t,edges:o}={}){var n=void 0,a=null,s=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),c=()=>{a!==null&&(e.apply(n,a),n=void 0,a=null)},_=()=>{f&&c(),F()},m=null,R=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,_()},r)},O=()=>{m!==null&&(clearTimeout(m),m=null)},F=()=>{O(),n=void 0,a=null},te=()=>{O(),c()},ve=function(...Dr){if(!t?.aborted){n=this,a=Dr;var vt=m==null;R(),s&&vt&&c()}};return ve.schedule=R,ve.cancel=F,ve.flush=te,t?.addEventListener("abort",F,{once:!0}),ve}var lf=g(()=>{l();u()});function Fi(e,r){for(var t={...e},o=0;o<r.length;o++){var n=r[o];delete t[n]}return t}var uf=g(()=>{l();u()});var xa=g(()=>{l();u();lf();uf()});var St,Ur,ji=g(()=>{"use strict";l();u();(function(e){e[e.EXISTS=1]="EXISTS",e[e.BLACKLISTED=2]="BLACKLISTED"})(St||(St={}));(function(e){e[e.FULL_LOOKUP=0]="FULL_LOOKUP",e[e.NOT_FOUND=1]="NOT_FOUND"})(Ur||(Ur={}))});var Qt={};D(Qt,{_patcherDelaySymbol:()=>nn,after:()=>q,before:()=>Zt,default:()=>an,instead:()=>bt});function Ui(e){function r(...o){if(nn in o[1]){var n=o[1][nn],a=!1,s=()=>a=!0;return n(f=>{a||(o[1]=f,s=e.apply(this,o))}),()=>s()}return e.apply(this,o)}function t(...o){var n=o[1];if(!n||!("then"in n))throw new Error("target is not a then-able object");var a=!1,s=()=>a=!0;return n.then(f=>{a||(o[1]=f,s=r.apply(this,o))}),()=>s()}return Object.assign(r,{await:t})}var ap,ip,sp,nn,q,Zt,bt,an,Ge=g(()=>{"use strict";l();u();({after:ap,before:ip,instead:sp}=ha()),nn=Symbol.for("bunny.api.patcher.delay");q=Ui(ap),Zt=Ui(ip),bt=Ui(sp),an={after:q,before:Zt,instead:bt}});var un={};D(un,{assetsMap:()=>Et,findAsset:()=>ln,findAssetId:()=>y,patchAssets:()=>lp});function lp(e){if(!sn){sn=e;var r=q("registerAsset",sn,([t])=>{var o=ki();o!==-1&&Hi(t.name,o)});return r}}function ln(e){return typeof e=="number"?sn.getAssetByID(e):typeof e=="string"?Et[e]:Object.values(Et).find(e)}function y(e){return Et[e]?.index}var Et,sn,le=g(()=>{"use strict";l();u();Ge();ro();eo();Et=new Proxy({},{get(e,r){if(typeof r=="string"){if(e[r])return e[r];var t=kr().assetsIndex[r];if(t!=null){for(var o in t){var n=fr(Number(o));if(typeof n=="number"){var a=sn.getAssetByID(n);a&&(a.index??=a.id??=n,a.moduleId??=o,e[r]??=a)}}return e[r]}}},ownKeys(e){var r=[];for(var t in kr().assetsIndex)e[t]=this.get(e,t,{}),e[t]&&r.push(t);return r}})});function ff(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function xr(e,r,t){return r&&ff(e.prototype,r),t&&ff(e,t),e}var fn=g(()=>{l();u()});function Sa(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Vi=g(()=>{l();u()});var Gi,ba,zi=g(()=>{"use strict";l();u();rn();fn();Vi();(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(Gi||(Gi={}));ba=function(){"use strict";function e(){tr(this,e),Sa(this,"listeners",Object.values(Gi).reduce((r,t)=>(r[t]=new Set,r),{}))}return xr(e,[{key:"on",value:function(t,o){this.listeners[t].has(o)||this.listeners[t].add(o)}},{key:"off",value:function(t,o){this.listeners[t].delete(o)}},{key:"once",value:function(t,o){var n=(a,s)=>{this.off(a,n),o(a,s)};this.on(t,n)}},{key:"emit",value:function(t,o){for(var n of this.listeners[t])n(t,o)}}]),e}()});var cn={};D(cn,{createFilterDefinition:()=>cr,createSimpleFilter:()=>up});function cr(e,r){function t(n,a,s){return Object.assign(n,{filter:e,raw:s,uniq:[s&&"raw::",r(a)].filter(Boolean).join("")})}var o=n=>(...a)=>t((s,f,c)=>e(a,s,f,c),a,n);return Object.assign(o(!1),{byRaw:o(!0),uniqMaker:r})}function up(e,r){return cr((t,o)=>e(o),()=>`dynamic::${r}`)()}var Ea=g(()=>{"use strict";l();u()});var $i={};D($i,{byDisplayName:()=>wt,byFilePath:()=>wa,byMutableProp:()=>dn,byName:()=>Tt,byProps:()=>mn,byStoreName:()=>Ta,byTypeName:()=>At});var mn,Tt,wt,At,Ta,wa,dn,pn=g(()=>{"use strict";l();u();Ea();eo();mn=cr((e,r)=>e.length===0?r[e[0]]:e.every(t=>r[t]),e=>`bunny.metro.byProps(${e.join(",")})`),Tt=cr(([e],r)=>r.name===e,e=>`bunny.metro.byName(${e})`),wt=cr(([e],r)=>r.displayName===e,e=>`bunny.metro.byDisplayName(${e})`),At=cr(([e],r)=>r.type?.name===e,e=>`bunny.metro.byTypeName(${e})`),Ta=cr(([e],r)=>r.getName?.length===0&&r.getName()===e,e=>`bunny.metro.byStoreName(${e})`),wa=cr(([e,r],t,o,n)=>r===n&&je[o]?.__filePath===e,([e,r])=>`bunny.metro.byFilePath(${e},${r})`),dn=cr(([e],r)=>r?.[e]&&!Object.getOwnPropertyDescriptor(r,e)?.get,e=>`bunny.metro.byMutableProp(${e})`)});function cf(e,r,t){return e.default&&e.__esModule&&t(e.default,r,!0)?{exports:t.raw?e:e.default,defaultExport:!t.raw}:!t.raw&&t(e,r,!1)?{exports:e,defaultExport:!1}:{}}function Yi(e){var{cacheId:r,finish:t}=Ca(e.uniq,!1);for(var[o,n]of Aa(e.uniq,!1)){var{exports:a,defaultExport:s}=cf(n,o,e);if(a!==void 0)return r(o,a),{id:o,defaultExport:s}}return t(!0),{}}function fp(e){return Yi(e)?.id}function Ne(e){var{id:r,defaultExport:t}=Yi(e);if(r!=null)return t?fr(r).default:fr(r)}function Wi(e){var{cacheId:r,finish:t}=Ca(e.uniq,!0),o=[];for(var[n,a]of Aa(e.uniq,!0)){var{exports:s,defaultExport:f}=cf(a,n,e);s!==void 0&&typeof f=="boolean"&&(o.push({id:n,defaultExport:f}),r(n,s))}return t(o.length===0),o}function cp(e){return Wi(e).map(r=>r.id)}function Ct(e){return Wi(e).map(r=>{if(r.id){var{id:t,defaultExport:o}=r;return o?fr(t).default:fr(t)}})}var Co=g(()=>{"use strict";l();u();ro();eo()});var qi={};D(qi,{getProxyFactory:()=>Ki,lazyDestructure:()=>G,proxyLazy:()=>be});function be(e,r={}){var t,o=r.hint!=="object"?function(){}:{},n=()=>t??=e(),a=new Proxy(o,dp);return df.set(a,n),Ro.set(o,{factory:e,options:r}),a}function G(e,r={}){var t=be(e);return new Proxy({},{get(o,n){return n===Symbol.iterator?function*(){throw yield t,yield new Proxy({},{get:(a,s)=>be(()=>t[s],r)}),new Error("This is not a real iterator, this is likely used incorrectly")}:be(()=>t[n],r)}})}function Ki(e){return df.get(e)}var mf,mp,df,Ro,dp,Ee=g(()=>{"use strict";l();u();mf=new Set(["arguments","caller","prototype"]),mp=e=>typeof e=="string"&&mf.has(e),df=new WeakMap,Ro=new WeakMap,dp={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(e=>[e,(r,...t)=>{var o=Ro.get(r),n=o?.factory();if(!n)throw new Error(`Trying to Reflect.${e} of ${typeof n}`);return Reflect[e](n,...t)}])),has(e,r){var t=Ro.get(e);if(t?.options){var{exemptedEntries:o}=t.options;if(o&&r in o)return!0}var n=t?.factory();if(!n)throw new Error(`Trying to Reflect.has of ${typeof n}`);return Reflect.has(n,r)},get(e,r,t){var o=Ro.get(e);if(o?.options){var{exemptedEntries:n}=o.options;if(n?.[r])return n[r]}var a=o?.factory();if(!a)throw new Error(`Trying to Reflect.get of ${typeof a}`);return Reflect.get(a,r,t)},ownKeys:e=>{var r=Ro.get(e),t=r?.factory();if(!t)throw new Error(`Trying to Reflect.ownKeys of ${typeof t}`);var o=Reflect.ownKeys(t);return mf.forEach(n=>!o.includes(n)&&o.push(n)),o},getOwnPropertyDescriptor:(e,r)=>{var t=Ro.get(e),o=t?.factory();if(!o)throw new Error(`Trying to getOwnPropertyDescriptor of ${typeof o}`);if(mp(r))return Reflect.getOwnPropertyDescriptor(e,r);var n=Reflect.getOwnPropertyDescriptor(o,r);return n&&Object.defineProperty(e,r,n),n}}});var Xi={};D(Xi,{_lazyContextSymbol:()=>Ra,createLazyModule:()=>Hr,getLazyContext:()=>hf});function pp(e){var r=kr().findIndex[e.uniq];if(r){for(var t in r)if(t[0]!=="_")return Number(t)}}function hp(e,r){var t=hf(e);if(!t)throw new Error("Subscribing a module for non-proxy-find");if(!t.indexed)throw new Error("Attempting to subscribe to a non-indexed find");return Ji(t.moduleId,()=>{r(Ne(t.filter))})}function hf(e){return pf.get(e)}function Hr(e){var r=void 0,t=pp(e),o={filter:e,indexed:!!t,moduleId:t,getExports(a){return!t||je[t]?.isInitialized?(a(this.forceLoad()),()=>{}):this.subscribe(a)},subscribe(a){return hp(n,a)},get cache(){return r},forceLoad(){if(r??=Ne(e),!r)throw new Error(`${e.uniq} is ${typeof r}! (id ${o.moduleId??"unknown"})`);return r}},n=be(()=>o.forceLoad(),{exemptedEntries:{[Ra]:o,[nn]:a=>o.getExports(a)}});return pf.set(n,o),n}var Ra,pf,hn=g(()=>{"use strict";l();u();Ge();Ee();Co();ro();eo();Ra=Symbol.for("bunny.metro.lazyContext"),pf=new WeakMap});var U,C,Zi,Io,Oe,Qi,es,rs,ts,os,gp,ns,as,gn,is,ss,ne=g(()=>{"use strict";l();u();pn();Co();hn();U=(...e)=>Ne(mn(...e)),C=(...e)=>Hr(mn(...e)),Zi=(...e)=>Ct(mn(...e)),Io=(e,r=!0)=>Ne(r?Tt(e):Tt.byRaw(e)),Oe=(e,r=!0)=>Hr(r?Tt(e):Tt.byRaw(e)),Qi=(e,r=!0)=>Ct(r?Tt(e):Tt.byRaw(e)),es=(e,r=!0)=>Ne(r?wt(e):wt.byRaw(e)),rs=(e,r=!0)=>Hr(r?wt(e):wt.byRaw(e)),ts=(e,r=!0)=>Ct(r?wt(e):wt.byRaw(e)),os=(e,r=!0)=>Ne(r?At(e):At.byRaw(e)),gp=(e,r=!0)=>Hr(r?At(e):At.byRaw(e)),ns=(e,r=!0)=>Ct(r?At(e):At.byRaw(e)),as=e=>Ne(Ta(e)),gn=e=>Hr(Ta(e)),is=(e,r=!1)=>Ne(wa(e,r)),ss=(e,r=!1)=>Hr(wa(e,r))});var Rt=Mr((y_,gf)=>{"use strict";l();u();ne();gf.exports={react:C("createElement"),"react-native":C("AppRegistry"),util:C("inspect","isNullOrUndefined"),moment:C("isMoment"),"chroma-js":C("brewer"),lodash:C("forEachRight"),"@shopify/react-native-skia":C("useFont")}});var ae=Mr((S_,vf)=>{l();u();vf.exports=Rt()["react-native"]});function vn(e={}){var r=new ba,t=new WeakMap,o=new WeakSet;function n(a,s){return new Proxy(a,{get(f,c){if(c===xf)return r;var _=[...s,c],m=f[c];if(m!=null){if(r.emit("GET",{path:_,value:m}),typeof m=="object"){if(o.has(m))return m;if(t.has(m))return t.get(m);var R=n(m,_);return t.set(m,R),R}return m}return m},set(f,c,_){if(typeof _=="object")if(t.has(_))f[c]=t.get(_);else{var m=n(_,[...s,c]);t.set(_,m),o.add(_),f[c]=m}else f[c]=_;return r.emit("SET",{path:[...s,c],value:f[c]}),!0},deleteProperty(f,c){var _=typeof f[c]=="object"?t.get(f[c]):f[c],m=delete f[c];return m&&r.emit("DEL",{value:_,path:[...s,c]}),m}})}return{proxy:n(e,[]),emitter:r}}function z(e){var r=e?.[xf];if(!r)throw new Error("storage?.[emitterSymbol] is undefined");var[,t]=React.useReducer(o=>~o,0);return React.useEffect(()=>{var o=(n,a)=>{n==="DEL"&&a.value===e||t()};return r.on("SET",o),r.on("DEL",o),()=>{r.off("SET",o),r.off("DEL",o)}},[]),e}function or(e){return ls.apply(this,arguments)}function ls(){return ls=x(function*(e){var r=yield e.get(),{proxy:t,emitter:o}=vn(r),n=()=>e.set(t);return o.on("SET",n),o.on("DEL",n),t}),ls.apply(this,arguments)}function Sr(e){var r=void 0,t=[],o=n=>r?n():t.push(n);return e.then(n=>{r=n,t.forEach(a=>a())}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(n=>[n,(a,...s)=>Reflect[n](r??a,...s)])),get(n,a,s){return a===Sf?o:Reflect.get(r??n,a,s)}})}function It(...e){return Promise.all(e.map(r=>new Promise(t=>r[Sf](t))))}var _f,xf,Sf,yf,us,bf,Ia,br,to,pe=g(()=>{"use strict";l();u();fe();zi();Qr();_f=k(ae()),xf=Symbol.for("vendetta.storage.emitter"),Sf=Symbol.for("vendetta.storage.accessor");yf=/[<>:"/\\|?*]/g,us=e=>_f.Platform.select({default:e,ios:Z.saveFileToGallery?e:`Documents/${e}`}),bf=e=>(yf.test(e)&&(e=e.replace(yf,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`),Ia=function(){var e=x(function*(r){(yield Fr.getItem(r))&&Fr.removeItem(r);var t=bf(r);(yield Z.fileExists(`${Z.getConstants().DocumentsDirPath}/${t}`))&&(yield Z.removeFile?.("documents",t))});return function(t){return e.apply(this,arguments)}}(),br=(e,r={})=>{var t=bf(e),o=JSON.stringify(r);return to(t,r,x(function*(){var n=`${Z.getConstants().DocumentsDirPath}/${t}`;if(!(yield Z.fileExists(n))){var a=(yield Fr.getItem(e))??o;if(a==="!!LARGE_VALUE!!"){var s=`${Z.getConstants().CacheDirPath}/mmkv/${e}`;(yield Z.fileExists(s))?a=yield Z.readFile(s,"utf8"):(console.log(`${e}: Experienced data loss :(`),a=o)}try{JSON.parse(a)}catch{console.error(`${e} had an unparseable data while migrating`),a=o}yield Z.writeFile("documents",us(t),a,"utf8"),(yield Fr.getItem(e))!==null&&(Fr.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}})())},to=(e,r={},t)=>({get:x(function*(){yield t;var o=`${Z.getConstants().DocumentsDirPath}/${e}`;if(yield Z.fileExists(o)){var n=yield Z.readFile(o,"utf8");try{return JSON.parse(n)}catch{}}return yield Z.writeFile("documents",us(e),JSON.stringify(r),"utf8"),JSON.parse(yield Z.readFile(o,"utf8"))}),set:function(){var o=x(function*(n){yield t,yield Z.writeFile("documents",us(e),JSON.stringify(n),"utf8")});return function(n){return o.apply(this,arguments)}}()})});var hs={};D(hs,{BUNNY_PROXY_PREFIX:()=>oo,DISCORD_SERVER:()=>fs,GITHUB:()=>cs,HTTP_REGEX:()=>yp,HTTP_REGEX_MULTI:()=>ms,OFFICIAL_PLUGINS_REPO_URL:()=>yn,VD_DISCORD_SERVER_ID:()=>ds,VD_PLUGINS_CHANNEL_ID:()=>ps,VD_PROXY_PREFIX:()=>Er,VD_THEMES_CHANNEL_ID:()=>_n});var fs,cs,yp,ms,oo,yn,Er,ds,ps,_n,Pt=g(()=>{"use strict";l();u();fs="https://discord.gg/XjYgWXHb9Q",cs="https://github.com/pyoncord",yp=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,ms=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,oo="https://bn-plugins.github.io/vd-proxy",yn="https://bn-plugins.github.io/dist/repo.json",Er="https://vd-plugins.github.io/proxy",ds="1015931589865246730",ps="1091880384561684561",_n="1091880434939482202"});function Pa(e,r=0){for(var t=3735928559^r,o=1103547991^r,n=0,a;n<e.length;n++)a=e.charCodeAt(n),t=Math.imul(t^a,2654435761),o=Math.imul(o^a,1597334677);return t=Math.imul(t^t>>>16,2246822507),t^=Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(t^t>>>13,3266489909),[o>>>0,t>>>0]}function Ef(e,r=0){var[t,o]=Pa(e,r);return t.toString(36).padStart(7,"0")+o.toString(36).padStart(7,"0")}var gs=g(()=>{"use strict";l();u()});function mr(e,r){return no(e,r,{walkable:["props","children","child","sibling"]})}var Tf=g(()=>{"use strict";l();u();Tr()});function vs(e,r,t,o){if(!(o>t.maxDepth)&&e){try{if(r(e))return e}catch{}if(Array.isArray(e)){for(var n of e)if(!(typeof n!="object"||n===null))try{var a=vs(n,r,t,o+1);if(a)return a}catch{}}else if(typeof e=="object"){for(var s of Object.keys(e))if(!(typeof e[s]!="object"||e[s]===null)&&!(t.walkable.length&&!t.walkable.includes(s))&&!t.ignore.includes(s))try{var f=vs(e[s],r,t,o+1);if(f)return f}catch{}}}}function no(e,r,{walkable:t=[],ignore:o=[],maxDepth:n=100}={}){return vs(e,r,{walkable:t,ignore:o,maxDepth:n},0)}var wf=g(()=>{"use strict";l();u()});function ys(e,r,t){var o=e;if(r in e)return void t(o[r]);var n;return Object.defineProperty(o,r,{get:()=>n,set(a){n=t(a)??a},configurable:!0,enumerable:!1}),()=>{delete o[r],o[r]=n}}var Af=g(()=>{"use strict";l();u()});function _s(e,r){if(!e){var t=typeof r=="function"?r():r,o="[Invariant Violation]",n=t?`${o}: ${t}`:o;throw new Error(n)}}var Cf=g(()=>{"use strict";l();u()});var xs={};D(xs,{LoggerClass:()=>xn,logger:()=>Ue});var xn,Ue,et=g(()=>{"use strict";l();u();ne();xn=Oe("Logger"),Ue=new xn("Bunny")});function ze(e,r){return Ss.apply(this,arguments)}function Ss(){return Ss=x(function*(e,r,t=1e4){var o=yield fetch(e,{signal:_p(t),...r});if(!o.ok)throw new Error(`Request returned non-ok: ${o.status} ${o.statusText}`);return o}),Ss.apply(this,arguments)}function _p(e){var r=new AbortController;return setTimeout(()=>r.abort(`Timed out after ${e}ms`),e),r.signal}var Rf=g(()=>{"use strict";l();u();fe()});var La={};D(La,{constants:()=>hs,cyrb64:()=>Pa,findInReactTree:()=>mr,findInTree:()=>no,hookDefineProperty:()=>ys,invariant:()=>_s,lazy:()=>qi,logger:()=>xs,safeFetch:()=>ze});var Tr=g(()=>{"use strict";l();u();Pt();gs();Tf();wf();Af();Cf();Ee();et();Rf()});var Na=Mr((lx,If)=>{l();u();If.exports=Rt()["chroma-js"]});var lo={};D(lo,{applyTheme:()=>Sn,color:()=>ye,fetchTheme:()=>io,getCurrentTheme:()=>Da,getThemeFromLoader:()=>Nt,initThemes:()=>Ls,installTheme:()=>rt,patchChatBackground:()=>Ps,removeTheme:()=>so,selectTheme:()=>tt,themes:()=>ie,updateThemes:()=>Oa});function bs(e){return Es.apply(this,arguments)}function Es(){return Es=x(function*(e){if(typeof e!="object")throw new Error("Theme must be an object");yield to(Ff()||"theme.json").set(e)}),Es.apply(this,arguments)}function Ps(){var e=[q("default",Sp,(r,t)=>Lt?React.createElement(Po.ImageBackground,{style:{flex:1,height:"100%"},source:Ke?.data?.background?.url&&{uri:Ke.data.background.url}||0,blurRadius:typeof Ke?.data?.background?.blur=="number"?Ke?.data?.background?.blur:0,children:t}):t),q("render",bp.prototype,(r,t)=>{if(!(!Lt||!Ke?.data?.background?.url)){var o=mr(t,n=>n&&"HACK_fixModalInteraction"in n.props&&n?.props?.style);o?o.props.style=[o.props.style,{backgroundColor:(0,ao.default)(o.props.style.backgroundColor||"black").alpha(1-(Ke?.data.background?.alpha??1)).hex()}]:console.error("Didn't find Messages when patching MessagesWrapper!")}})];return()=>e.forEach(r=>r())}function Df(e){if(ao.default.valid(e))return(0,ao.default)(e).hex();var r=Number((0,Po.processColor)(e));return ao.default.rgb(r>>16&255,r>>8&255,r&255,r>>24&255).hex()}function Tp(e){if(e.semanticColors){var{semanticColors:r}=e;for(var t in r)for(var o in r[t])r[t][o]&&=Df(r[t][o])}if(e.rawColors){var{rawColors:n}=e;for(var a in n)e.rawColors[a]=Df(n[a]);Po.Platform.OS==="android"&&wp(n)}return e.spec??=2,e}function wp(e){var r={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var t in r){var[o,n]=r[t];e[o]&&(e[t]=(0,ao.default)(e[o]).alpha(n).hex())}}function io(e){return Ts.apply(this,arguments)}function Ts(){return Ts=x(function*(e,r=!1){var t;try{t=yield(yield ze(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}ie[e]={id:e,selected:r,data:Tp(t)},r&&(bs(ie[e]),Sn(ie[e],Te))}),Ts.apply(this,arguments)}function rt(e){return ws.apply(this,arguments)}function ws(){return ws=x(function*(e){if(typeof e!="string"||e in ie)throw new Error("Theme already installed");yield io(e)}),ws.apply(this,arguments)}function tt(e,r=!0){if(e&&(e.selected=!0),Object.keys(ie).forEach(t=>ie[t].selected=ie[t].id===e?.id),e==null&&r)return bs({});if(e)return bs(e)}function so(e){return As.apply(this,arguments)}function As(){return As=x(function*(e){var r=ie[e];return r.selected&&(yield tt(null)),delete ie[e],r.selected}),As.apply(this,arguments)}function Nt(){return Ma()}function Oa(){return Cs.apply(this,arguments)}function Cs(){return Cs=x(function*(){yield It(ie);var e=Nt();yield p(Object.keys(ie).map(r=>io(r,e?.id===r)))}),Cs.apply(this,arguments)}function Da(){return Ke}function Is(e){return Cp.has(e)}function Rp(){var e=([r])=>r===wr?[Te]:void 0;Object.keys(ye.RawColor).forEach(r=>{Object.defineProperty(ye.RawColor,r,{configurable:!0,enumerable:!0,get:()=>Lt?Ke?.data?.rawColors?.[r]??Mf[r]:Mf[r]})}),Zt("isThemeDark",Of,e),Zt("isThemeLight",Of,e),Zt("updateTheme",Di,e),q("get",Pf,([r],t)=>{r==="SelectivelySyncedUserSettingsStore"?(Rs=!0,t?._state?.appearance?.settings?.theme&&Lt&&(Te=t._state.appearance.settings.theme,t._state.appearance.settings.theme=wr)):r==="ThemeStore"&&(Rs=!0,t?._state?.theme&&Lt&&(Te=t._state.theme,t._state.theme=wr))}),Zt("set",Pf,r=>{if(r[1]){var t=r[0],o=JSON.parse(JSON.stringify(r[1])),n={SelectivelySyncedUserSettingsStore:()=>{if(o._state?.appearance?.settings?.theme){var{theme:a}=o._state?.appearance?.settings??{};Is(a)?Te=a:o._state.appearance.settings.theme=Te}},ThemeStore:()=>{if(o._state?.theme){var{theme:a}=o._state;Is(a)?Te=a:o._state.theme=Te}}};return t in n?(n[t](),[t,o]):r}}),bt("resolveSemanticColor",ye.default.meta??ye.default.internal,(r,t)=>{if(!Lt||!Ke)return t(...r);if(r[0]!==wr)return t(...r);r[0]=Te;var[o,n]=Bf(Te,r[1]),a=Te==="midnight"?2:Te==="light"?1:0;var s=Ep[o]??o,f=(Ke.data?.semanticColors?.[o]??Ke.data?.semanticColors?.[s])?.[a];if(f)return f;var c=Ke.data?.rawColors?.[n.raw];return c?n.opacity===1?c:(0,ao.default)(c).alpha(n.opacity).hex():t(...r)})}function Ip(e=Te){var r=xp.theme.toLowerCase();return Is(r)?r:e}function Sn(e,r){r||(r=Ip()),Ke=e,Lt=!!Ke,Te=r,wr=`vd-theme-${Ap++}-${r}`,e&&(ye.Theme[wr.toUpperCase()]=wr,Nf.DIVIDER_COLORS[wr]=Nf.DIVIDER_COLORS[Te],Object.keys(ye.Shadow).forEach(t=>ye.Shadow[t][wr]=ye.Shadow[t][Te]),Object.keys(ye.SemanticColor).forEach(t=>{ye.SemanticColor[t][wr]={...ye.SemanticColor[t][Te],override:e?.data?.semanticColors?.[t]?.[0]}})),Rs&&(Lf.setShouldSyncAppearanceSettings(!1),Lf.updateTheme(e?wr:r))}function Ls(){var e=Nt();Lt=!!e,Rp(),Sn(e,Te),Oa().catch(r=>console.error("Failed to update themes",r))}function Bf(e,r){var t=r[Bf._sym??=Object.getOwnPropertySymbols(r)[0]],o=ye.SemanticColor[t];return[t,o[e]]}var ao,Po,ye,Pf,Lf,xp,Nf,Sp,bp,Of,ie,Ep,Mf,Ap,wr,Te,Lt,Ke,Rs,Cp,nr=g(()=>{"use strict";l();u();fe();pe();Vr();Qr();Ge();Tr();Ee();pn();hn();ne();ao=k(Na()),Po=k(ae());ye=C("SemanticColor"),Pf=be(()=>{var e=U("impl");return typeof e?.impl=="object"?e.impl:U("storage")}),Lf=C("updateTheme"),xp=gn("ThemeStore"),Nf=C("DIVIDER_COLORS"),Sp=Oe("MessagesWrapperConnected",!1),{MessagesWrapper:bp}=G(()=>U("MessagesWrapper")),Of=Hr(dn("isThemeDark")),ie=Sr(or(br("VENDETTA_THEMES"))),Ep={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};Mf={...ye.RawColor},Ap=0,wr="vd-theme",Te="darker",Lt=!1,Rs=!1,Cp=new Set(["darker","midnight","dark","light"])});function qe(){return Gr!=null}function we(){return ot!=null}function Pp(){if(!we()||qe())return null;var e={name:ot.loaderName,features:{}};return Ds()&&(e.features.loaderConfig=!0),Hf()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:()=>Lp(),configurable:!0})),Ar()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:()=>{var r=Ma()?.id;if(!r)return null;var{themes:t}=(nr(),Ve(lo));return t[r]??Ma()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:()=>e,configurable:!0}),e}function Ns(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:Pp()}function Os(){return we()?ot.loaderName:qe()?Gr.name:"Unknown"}function jf(){return we()?ot.loaderVersion:null}function Ds(){return we()?!0:qe()?Gr.features.loaderConfig:!1}function Ar(){return we()?ot.hasThemeSupport:qe()?Gr.features.themes!=null:!1}function Ma(){if(we())return ot.storedTheme;if(qe()){var e=Gr.features.themes?.prop;return e&&globalThis[e]||null}return null}function Ff(){return we()?"pyoncord/current-theme.json":qe()?"vendetta_theme.json":null}function bn(){return we()?!!window.__reactDevTools:qe()?Gr.features.devtools!=null:!1}function Uf(){return bn()?we()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):qe()?Gr.features.devtools.prop:null:null}function kf(){return bn()?we()?window.__reactDevTools.version||null:qe()?Gr.features.devtools.version:null:null}function Hf(){return we()?ot.isSysColorsSupported:qe()?Gr.features.syscolors!=null:!1}function Lp(){return Hf()?we()?ot.sysColors:qe()?Gr.features.syscolors.prop:null:null}function Vf(){return we()?"pyoncord/loader.json":qe()?"vendetta_loader.json":"loader.json"}function Gf(){return we()?ot.fontPatch===2:!1}var ot,Gr,Vr=g(()=>{"use strict";l();u();ot=globalThis.__PYON_LOADER__,Gr=globalThis.__vendetta_loader;Ns()});var Ba={};D(Ba,{loaderConfig:()=>dr,settings:()=>P});var P,dr,De=g(()=>{"use strict";l();u();pe();Vr();P=Sr(or(br("VENDETTA_SETTINGS"))),dr=Sr(or(to(Vf(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var js={};D(js,{default:()=>Np});var zf,Yf,Ms,Fs,Lo,Bs,nt,$f,En,Np,Us=g(()=>{"use strict";l();u();ro();zf=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),Yf={},Ms={},Fs=ks("redesign_module");for([$f,En]of Fs.getModules())for(nt of zf){if(Lo=void 0,En[nt])Lo=En;else if(En.default?.[nt])Lo=En.default;else continue;Bs=Reflect.ownKeys(Lo).length,!(Ms[nt]&&Bs>=Ms[nt])&&(Yf[nt]=Lo[nt],Ms[nt]=Reflect.ownKeys(Lo).length,Fs.cacheId($f),Bs===1&&zf.delete(nt))}Fs.finish();Np=Yf});var Gs={};D(Gs,{getCachedPolyfillModules:()=>jp,getImportingModuleId:()=>ki,getModules:()=>Aa,metroModules:()=>je,requireModule:()=>fr,subscribeModule:()=>Ji});function ja(e){Object.defineProperty(je,e,{enumerable:!1}),Jf.add(e),$s(Number(e))}function Tn(e){return!e||e===window||e["<!@ pylix was here :fuyusquish: !@>"]===null||e.__proto__===Object.prototype&&Reflect.ownKeys(e).length===0}function Fp(e,r){if(zs(r,e),e.initSentry&&=()=>{},e.default?.track&&e.default.trackMaker&&(e.default.track=()=>Promise.resolve()),e.registerAsset&&(le(),Ve(un)).patchAssets(e),!qf&&["customBubblingEventTypes","customDirectEventTypes","register","get"].every(s=>e[s])&&(Vs("register",e,(s,f)=>{try{return f(...s)}catch{}}),qf=!0),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(s,f,c){if(f==="isDeveloper"){var{settings:_}=(De(),Ve(Ba));return _.enableDiscordDeveloperSettings??!1}return Reflect.get(s,f,c)}})),!Kf&&e.fileFinishedImporting&&(Dp("fileFinishedImporting",e,([s])=>{No===-1||!s||(je[No].__filePath=s)}),Kf=!0),!Wf&&window["__core-js_shared__"]){var t=s=>typeof s=="function"&&Bp.apply(s,[]);window["__core-js_shared__"].inspectSource=t,Wf=!0}if(e.findHostInstance_DEPRECATED){var o=je[r-1]?.publicModule.exports,n=o.default?.reactProfilingEnabled?1:-1;je[r+n]?.isInitialized||ja(r+n)}e.isMoment&&Vs("defineLocale",e,(s,f)=>{var c=e.locale();f(...s),e.locale(c)});var a=Fa.get(Number(r));a&&(a.forEach(s=>s()),Fa.delete(Number(r)))}function ki(){return No}function Ji(e,r){var t=Fa.get(e)??new Set;return t.add(r),Fa.set(e,t),()=>t.delete(r)}function fr(e){if(je[0]?.isInitialized||Hs(0),!Jf.has(e)){if(Number(e)===-1)return Us(),Ve(js);if(je[e]?.isInitialized&&!je[e]?.hasError)return Hs(e);var r=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(Mp);var t;try{t=Hs(e)}catch{ja(e),t=void 0}return ErrorUtils.setGlobalHandler(r),t}}function*Aa(e,r=!1){yield[-1,(Us(),Ve(js))];var t=kr().findIndex[e];if(r&&!t?.[`_${Ur.FULL_LOOKUP}`]&&(t=void 0),!t?.[`_${Ur.NOT_FOUND}`]){for(var o in t)if(o[0]!=="_"){var n=fr(Number(o));Tn(n)||(yield[o,n])}for(var a in je){var s=fr(Number(a));Tn(s)||(yield[a,s])}}}function*jp(e){var r=kr().polyfillIndex[e];for(var t in r){var o=fr(Number(t));Tn(o)||(yield[t,o])}if(!r[`_${Ur.FULL_LOOKUP}`])for(var n in je){var a=fr(Number(n));Tn(a)||(yield[n,a])}}var Op,Dp,Vs,je,Hs,Fa,Jf,Mp,Bp,Wf,Kf,qf,No,Xf,eo=g(()=>{"use strict";l();u();ro();ji();Op=function(e){var r=Number(e),t=je[r],o=kr().exportsIndex[r];if(o&St.BLACKLISTED)return ja(r),"continue";t.factory&&Vs("factory",t,(n,a)=>{var s=No;No=r;var{1:f,4:c}=n;n[2]=_=>{var m=f(_);return m&&m.__esModule?m.default:m},n[3]=_=>{var m=f(_);if(m&&m.__esModule)return m;var R={};return m&&Object.assign(R,m),R.default=m,R},a(...n),Tn(c.exports)?ja(r):Fp(c.exports,r),No=s})},{before:Dp,instead:Vs}=ha(),je=window.modules,Hs=window.__r,Fa=new Map,Jf=new Set,Mp=()=>{},Bp=Function.prototype.toString,Wf=!1,Kf=!1,qf=!1,No=-1;for(Xf in je)Op(Xf)});var tc={};D(tc,{getCacherForUniq:()=>Ca,getMetroCache:()=>kr,getPolyfillModuleCacher:()=>ks,indexAssetName:()=>Hi,indexBlacklistFlag:()=>$s,indexExportsFlags:()=>zs,initMetroCache:()=>Up});function Zf(){var e={_v:Qf,_buildNumber:Xt.Build,_modulesCount:Object.keys(window.modules).length,exportsIndex:{},findIndex:{},polyfillIndex:{},assetsIndex:{}};return setTimeout(()=>{for(var r in window.modules)(eo(),Ve(Gs)).requireModule(r)},100),$e=e,e}function Up(){return Ys.apply(this,arguments)}function Ys(){return Ys=x(function*(){var e=yield Fr.getItem(ec);if(e==null)return void Zf();try{if($e=JSON.parse(e),$e._v!==Qf)throw $e=null,"cache invalidated; cache version outdated";if($e._buildNumber!==Xt.Build)throw $e=null,"cache invalidated; version mismatch";if($e._modulesCount!==Object.keys(window.modules).length)throw $e=null,"cache invalidated; modules count mismatch"}catch{Zf()}}),Ys.apply(this,arguments)}function rc(e){if(e){var r=St.EXISTS;return r}}function zs(e,r){var t=rc(r);t&&t!==St.EXISTS&&($e.exportsIndex[e]=t)}function $s(e){$e.exportsIndex[e]|=St.BLACKLISTED}function Ca(e,r){var t=$e.findIndex[e]??={};return{cacheId(o,n){t[o]??=rc(n),wn()},finish(o){r&&(t[`_${Ur.FULL_LOOKUP}`]=1),o&&(t[`_${Ur.NOT_FOUND}`]=1),wn()}}}function ks(e){var r=$e.polyfillIndex[e]??={};return{getModules(){return(eo(),Ve(Gs)).getCachedPolyfillModules(e)},cacheId(t){r[t]=1,wn()},finish(){r[`_${Ur.FULL_LOOKUP}`]=1,wn()}}}function Hi(e,r){isNaN(r)||(($e.assetsIndex[e]??={})[r]=1,wn())}var Qf,ec,$e,kr,wn,ro=g(()=>{"use strict";l();u();fe();Qr();xa();ji();Qf=52,ec="__bunny_metro_cache_key__",$e=null,kr=window.__getMetroCache=()=>$e;wn=on(()=>{Fr.setItem(ec,JSON.stringify($e))},1e3)});var Ha={};D(Ha,{ActionSheet:()=>uo,ActionSheetRow:()=>Ot,BottomSheetTitleHeader:()=>Js,Button:()=>ue,Card:()=>pr,CompatButton:()=>Cn,CompatSegmentedControl:()=>Qp,FlashList:()=>Ln,FloatingActionButton:()=>Xs,FormCheckbox:()=>Kp,FormRadio:()=>qs,FormSwitch:()=>Ks,Forms:()=>Ua,HelpMessage:()=>Rn,IconButton:()=>Ce,LegacyAlert:()=>An,LegacyForm:()=>rh,LegacyFormArrow:()=>th,LegacyFormCTA:()=>oh,LegacyFormCTAButton:()=>nh,LegacyFormCardSection:()=>ah,LegacyFormCheckbox:()=>ih,LegacyFormCheckboxRow:()=>sh,LegacyFormCheckmark:()=>lh,LegacyFormDivider:()=>Pn,LegacyFormHint:()=>uh,LegacyFormIcon:()=>Zs,LegacyFormInput:()=>Qs,LegacyFormLabel:()=>fh,LegacyFormRadio:()=>ch,LegacyFormRadioGroup:()=>mh,LegacyFormRadioRow:()=>dh,LegacyFormRow:()=>$r,LegacyFormSection:()=>ka,LegacyFormSelect:()=>ph,LegacyFormSliderRow:()=>hh,LegacyFormSubLabel:()=>gh,LegacyFormSwitch:()=>vh,LegacyFormSwitchRow:()=>yh,LegacyFormTernaryCheckBox:()=>_h,LegacyFormText:()=>fo,LegacyFormTitle:()=>xh,PressableScale:()=>Gp,RedesignCompat:()=>qp,RowButton:()=>Vp,SafeAreaView:()=>In,SegmentedControl:()=>Xp,SegmentedControlPages:()=>Jp,Stack:()=>he,TableCheckbox:()=>Wp,TableRadio:()=>Yp,TableRow:()=>w,TableRowGroup:()=>Me,TableRowIcon:()=>zp,TableRowTrailingText:()=>$p,TableSwitch:()=>Ws,TableSwitchRow:()=>Dt,Text:()=>H,TextInput:()=>Ye,TwinButtons:()=>Hp,useSegmentedControlState:()=>Zp});var kp,zr,Ae,An,Cn,Rn,In,Ot,ue,Hp,Ce,Vp,Gp,w,zp,$p,Me,Dt,Ws,Yp,Wp,Ks,qs,Kp,pr,qp,he,Ye,Xp,Jp,Zp,Qp,Xs,uo,Js,eh,H,Ua,rh,th,oh,nh,ah,ih,sh,lh,Pn,uh,Zs,Qs,fh,ch,mh,dh,$r,ka,ph,hh,gh,vh,yh,_h,fo,xh,Ln,re=g(()=>{"use strict";l();u();Ee();Ea();Co();ne();kp=cr(([e],r)=>r[e]&&Object.keys(r).length===1,e=>`bunny.metro.common.components.bySingularProp(${e})`),zr=e=>be(()=>Ne(kp(e))?.[e]),Ae=e=>be(()=>U(e)[e]),An=rs("FluxContainer(Alert)"),Cn=C("Looks","Colors","Sizes"),Rn=Oe("HelpMessage"),In=be(()=>U("useSafeAreaInsets").SafeAreaView),Ot=Ae("ActionSheetRow"),ue=zr("Button"),Hp=Ae("TwinButtons"),Ce=zr("IconButton"),Vp=Ae("RowButton"),Gp=Ae("PressableScale"),w=Ae("TableRow"),zp=Ae("TableRowIcon"),$p=Ae("TableRowTrailingText"),Me=Ae("TableRowGroup"),Dt=Ae("TableSwitchRow"),Ws=zr("FormSwitch"),Yp=zr("FormRadio"),Wp=zr("FormCheckbox"),Ks=zr("FormSwitch"),qs=zr("FormRadio"),Kp=zr("FormCheckbox"),pr=Ae("Card"),qp=be(()=>U("RedesignCompat").RedesignCompat),he=Ae("Stack"),Ye=zr("TextInput"),Xp=Ae("SegmentedControl"),Jp=Ae("SegmentedControlPages"),Zp=zr("useSegmentedControlState"),Qp=Ae("CompatSegmentedControl"),Xs=Ae("FloatingActionButton"),uo=Ae("ActionSheet"),Js=Ae("BottomSheetTitleHeader"),eh=C("Text","LegacyText"),H=be(()=>eh.Text),Ua=C("Form","FormSection"),{Form:rh,FormArrow:th,FormCTA:oh,FormCTAButton:nh,FormCardSection:ah,FormCheckbox:ih,FormCheckboxRow:sh,FormCheckmark:lh,FormDivider:Pn,FormHint:uh,FormIcon:Zs,FormInput:Qs,FormLabel:fh,FormRadio:ch,FormRadioGroup:mh,FormRadioRow:dh,FormRow:$r,FormSection:ka,FormSelect:ph,FormSliderRow:hh,FormSubLabel:gh,FormSwitch:vh,FormSwitchRow:yh,FormTernaryCheckBox:_h,FormText:fo,FormTitle:xh}=G(()=>Ua),Ln=Ae("FlashList")});var Ga={};D(Ga,{Flux:()=>nl,FluxDispatcher:()=>Cr,NavigationNative:()=>me,React:()=>Dn,ReactNative:()=>Va,assets:()=>el,channels:()=>Nn,clipboard:()=>ar,commands:()=>co,components:()=>Ha,constants:()=>Mt,i18n:()=>Bt,invites:()=>rl,messageUtil:()=>hr,navigation:()=>tl,navigationStack:()=>ol,semver:()=>Oo,toasts:()=>On,tokens:()=>mo,url:()=>Ft});var Mt,Nn,Bt,Ft,ar,el,rl,co,tl,On,hr,ol,me,mo,Oo,nl,Cr,Dn,Va,Y=g(()=>{"use strict";l();u();ne();re();Mt=C("Fonts","Permissions"),Nn=C("getVoiceChannelId"),Bt=C("Messages"),Ft=C("openURL","openDeeplink"),ar=C("setString","getString","hasString"),el=C("registerAsset"),rl=C("acceptInviteAndTransitionToInviteChannel"),co=C("getBuiltInCommands"),tl=C("pushLazy"),On=ss("modules/toast/native/ToastActionCreators.tsx",!0),hr=C("sendBotMessage"),ol=C("createStackNavigator"),me=C("NavigationContainer"),mo=C("colors","unsafe_rawColors"),Oo=C("parse","clean"),nl=C("connectStores"),Cr=U("_interceptors"),Dn=window.React=C("createElement"),Va=window.ReactNative=C("AppRegistry")});var al=Mr((Zx,oc)=>{l();u();oc.exports=Rt().moment});function ac({locale:e}){try{nc.default.locale(e.toLowerCase())}catch(r){Ue.error("Failed to fix timestamps...",r)}Cr.unsubscribe("I18N_LOAD_SUCCESS",ac)}var nc,ic,sc=g(()=>{"use strict";l();u();et();Y();nc=k(al());ic=()=>{Cr.subscribe("I18N_LOAD_SUCCESS",ac)}});var uc,lc=g(()=>{uc={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",CONTINUE:"Continue",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DESC_EXTRACT_FONTS_FROM_THEME:'Looks out for "fonts" field in your currently applied theme and install it.',DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",DONE:"Done",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",EXTRACT:"Extract",FONT_NAME:"Font Name",FONTS:"Fonts",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install an add-on",INSTALL_FONT:"Install a font",INSTALL_PLUGIN:"Install a plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LABEL_EXTRACT_FONTS_FROM_THEME:"Extract font from theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",REMOVE:"Remove",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart is required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_FONTS:"You are in Safe Mode, meaning fonts have been temporarily disabled. {enabled, select, true {If a font appears to be causing the issue, you can press below to disable it persistently.} other {}}",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SEPARATOR:", ",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_EXTRACTOR_DESC:"This pack overrides the following: {fonts}",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function mc(){var e=({locale:r})=>{var t={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},o=fc=t[r]??r;if(o.startsWith("en-")){Do=null;return}cc.has(o)?Do=o:(cc.add(o),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${o}/bunny.json`).then(n=>n.json()).then(n=>il[o]=n).then(()=>o===fc&&(Do=o)).catch(n=>console.error(`An error occured while fetching strings for ${o}: ${n}`)))};return Cr.subscribe("I18N_LOAD_SUCCESS",e),()=>Cr.unsubscribe("I18N_LOAD_SUCCESS",e)}function ir(e,r){var t=d[e];return new bh(t).format(r)}var bh,Do,fc,cc,il,d,de=g(()=>{"use strict";l();u();Y();ne();lc();bh=Oe("MessageFormat"),Do=null,fc=null,cc=new Set,il={},d=new Proxy({},{get:(e,r)=>Do&&il[Do]?.[r]?il[Do]?.[r]:uc[r]})});var za,dc=g(()=>{za="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABoBJREFUeF7lW1nIVlUUXasom80kijJKaVQzGtTUjCJteNBmeqigssnIpDIqwmw0GqhQi4iw8SEaHtKgMpNKM7SiyUZpLppoTi0rd2f9nCu36/2+79zxv/5t8MV/n333WWefffb0EQ0iM+sH4AEAowG8CGAqycVVqsgqhWeVbWavAtg/tu4vABNIPphVVih/YwAws2EAlrRQfChJgVM6NQmARwGc0GKHX5PcofTdA2gSAJ8A2KXNJueQPLpsEJoEwI8A+rTZ4GrnIAeQ/KpMEJoEwCoAm3TY3DKSezcKADPbCMDWADYEIK/9B4CVJC2LomYWwv8PgC1JCqxSqJAFmNlOAF6PAfA3ACn3MYBLSD4bqmUgABI3l+T4ULmd+IoCcDeAs9p8RI5NPDNJrminTAYAZAVbkJSlFaaiALwJYEiAFh8CuJHk7Fa8ZqaNbRAgSyzjSc4N5G3LVhQAmfiYDIosBXAGyXeSa8xMJ9orUNb7AAZm9TNpsosCMNnd/9sDlY7Y/gRwAYDZJOUzusjMfvK+JFRcX5J6OgtRUQB2B/BBDg3k8ZeQHBED4AsASoZCaTTJRaHMrfiKAqD1jwM4NqcinwE4mOTnZiYgBWgozSN5RChzJQB40x0A4KMCivwO4GQAFwI4JIMcRYa9i74GhSwgZr5XuWs8LYPyaazPAMh6ojvLeop8tywA5L0V/FSSsbXZ4Eh3DV7udgD8VdgMwK8+JC6iU5a115GcmmVBkrcUC4hdhYPcPX6+RhAWkDysMQB4SzgXwB0Zoroi+q8iKcvLTaVaQMwSZgGYWBMIfUj+nBeBSgDwljADwHk1XIdCL0FlAMRAOL/i0tsgku82zgI8AMruLgNwfV4FA9btQ/KtAL5UlkotIOYTjgdwr6o5eRVts244SWWZuagWALw1DFUGCGBwLk1bLxpG8pW8MmsDwIPQ25W+7wNwTF6FU9bJ2U7L+xLUCkDsSij5keLblASEagmjSL6XVV63AOCtQSVw3d2yytxr3JN7LUklZsHUnQAMcnUE1RRVTi+TXgIwjqSsoiN1CwBmtqvzA28A2LyjhvkYlCKr9vhcp+W1A2BmewB4AcB2nZQr+Hc1aaaQlK9pSbUC4E9eLfCynF8IRoo/JpJUMXYdqgUAM9N3RgFYGKJxDh71FK5WAwbAvgAeShRnPgWwZxoIdQFwEwCV0DfOsbmQJWPi993MZGGqMsdT5e9VdE3GC5UCYGY69ehUQjaSh0dv/5B4j0FCXJ8hrWexHMAIkj9EH6oEADNTZUjNj+MqeOaSIM0nOTb5n2amStH8FEQVNh8eWcJaAHybe7gfU9kLgEzmbd/91VCCujArXdd3hdA2M73fKobKzDTYIK+uRsel7tT75jnKnGvUUtuWpMrra8nMNG12aguZatjKMa7pAsDMtnK9tkdylKVz6lz6snsATFKPwB+M+gtppx//sBoyCyMAkuNppWtYg0CVxeT4tvfPbKcI8zHXpD2RZnaOW3RXDQo27ROrSfYSAGowylv/30iR4qYCQBFSVe9zk0Fd5GKH0QJAPfpO96XJG8mjmyJHOcHFAuA1APvlkbIerzmN5P3SXwBc7IaOblmPN5NVdaXK/RUDRACoTqcOq4KfptA37l1XuKpma0QKrlQ/2LEEJY8i+XQXAD4Q6u+uwZwKKrbtdNWYjMboNDClf0qTl+ktb5W6RsLMbDc/naZK80Cvt/YQSvruYJIr46GwanQTAJzph5Y1/Vk2aVZQCck8xR4kpUgpZGYCQDHNOK9/p6bpRSRvS02GzEx1tZGlaAbopH8DcDnJO0uS2VaMmWnzk1xz9hrXldIob9o+ldf0W+cPZiafkLvbmtDsSY3MytQ7mXUVwJiZrFozTKoK6QcZSVrXAszsSABPFVRIs4MzyjTxgvoo4TsAwCm+Yy2rEC1PswC9CAfm+KBMSsWPW0l+l2N9LUt8UfYKf8Vn/gcAM9MT82VGTeTYngBwdqeB6Ixya2FPAnCSKx4+HPhlBRJ6vsaS/DZwTePYkgCozx7SqpJXl69YmqzFNW6HHRSKxwGhc79XApgV2npqOiBxAE73/ftWOquRqbJT7mGEJoIRhcIaZVGjMm14QT+BucHVDKa7oUSlkT2KIgAUT6/zIwbXYFTmpLxZU909kiIAprhM6+bEDqf7Hy93pY09lSIAFriO7aF+k7/4aYs0i+hxOEQAqIGgNrJ+iDS5p3j4kNP6F9f7+CyBdXonAAAAAElFTkSuQmCC"});var sl={};D(sl,{Fragment:()=>gr,jsx:()=>i,jsxs:()=>b});function hc(e){if(!e[0])throw new Error("The first argument (Component) is falsy. Ensure that you are passing a valid component.");var r=Ki(e[0]);return r&&(e[0]=r()),e}var pc,gr,i,b,X=g(()=>{"use strict";l();u();Ee();ne();pc=C("jsx","jsxs","Fragment");gr=Symbol.for("react.fragment"),i=(...e)=>pc.jsx(...hc(e)),b=(...e)=>pc.jsxs(...hc(e))});var $a={};D($a,{common:()=>Ga,factories:()=>cn,filters:()=>$i,findAllExports:()=>Ct,findAllModule:()=>Wi,findAllModuleId:()=>cp,findByDisplayName:()=>es,findByDisplayNameAll:()=>ts,findByDisplayNameLazy:()=>rs,findByFilePath:()=>is,findByFilePathLazy:()=>ss,findByName:()=>Io,findByNameAll:()=>Qi,findByNameLazy:()=>Oe,findByProps:()=>U,findByPropsAll:()=>Zi,findByPropsLazy:()=>C,findByStoreName:()=>as,findByStoreNameLazy:()=>gn,findByTypeName:()=>os,findByTypeNameAll:()=>ns,findByTypeNameLazy:()=>gp,findExports:()=>Ne,findModule:()=>Yi,findModuleId:()=>fp,lazy:()=>Xi});var at=g(()=>{"use strict";l();u();Y();Ea();pn();Co();hn();ne()});function Mn(e){var r=is("modules/forwarding/native/ForwardFailedAlertModal.tsx");return!r&&"extraContent"in e&&(e.content=b(ll.View,{style:{gap:16},children:[i(H,{variant:"text-md/medium",color:"text-muted",children:e.content}),i(ll.View,{children:e.extraContent})]}),delete e.extraContent),i(Th,{...e})}var ll,Th,wh,Ya,ul=g(()=>{"use strict";l();u();X();Ee();at();re();ll=k(ae()),{AlertModal:Th,AlertActionButton:wh}=G(()=>U("AlertModal","AlertActions")),Ya=wh});var fl={};D(fl,{AlertActionButton:()=>Ya,AlertModal:()=>Mn});var gc=g(()=>{"use strict";l();u();ul()});function _c(e){return yc.isSemanticColor(e)}function xc(e,r=Ah.theme){return yc.resolveSemanticColor(r,e)}var Re,vc,Ah,yc,po=g(()=>{"use strict";l();u();nr();Y();ne();Re=ye?.default?.colors??Mt?.ThemeColorMap,vc=ye?.default?.unsafe_rawColors??Mt?.Colors,Ah=gn("ThemeStore"),yc=ye.default.meta??=ye.default.internal});var cl={};D(cl,{TextStyleSheet:()=>vr,createStyles:()=>it,createThemedStyleSheet:()=>ho});function it(e){return be(()=>Rh.createStyles(e))}function ho(e){for(var r in e)e[r]=new Proxy(Sc.StyleSheet.flatten(e[r]),{get(t,o,n){var a=Reflect.get(t,o,n);return _c(a)?xc(a):a}});return e}var Sc,Rh,vr,Yr=g(()=>{"use strict";l();u();Ee();ne();po();Sc=k(ae()),Rh=C("createStyles"),{TextStyleSheet:vr}=G(()=>U("TextStyleSheet"))});function Rr({selectable:e,style:r,children:t}){return e?Mo.Platform.select({ios:i(Ih,{style:r,children:t}),default:i(bc,{style:r,children:t,selectable:!0})}):i(bc,{style:r,children:t})}var Mo,Ec,Ih,bc,Tc=g(()=>{"use strict";l();u();X();Y();po();Yr();Mo=k(ae()),Ec=it({codeBlock:{fontFamily:Mt.Fonts.CODE_NORMAL,fontSize:12,textAlignVertical:"center",backgroundColor:Re.BACKGROUND_SECONDARY,color:Re.TEXT_NORMAL,borderWidth:1,borderRadius:12,borderColor:Re.BACKGROUND_TERTIARY,padding:10}}),Ih=({style:e,children:r})=>i(Mo.TextInput,{editable:!1,multiline:!0,style:[Ec().codeBlock,e&&e],value:r}),bc=({selectable:e,style:r,children:t})=>i(Mo.Text,{selectable:e,style:[Ec().codeBlock,r&&r],children:t})});var ml,wc,Ph,ge,dl=g(()=>{"use strict";l();u();ga();rn();fn();Vi();ya();X();de();Y();re();Ir();Yr();ml=k(ae()),wc=ho({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),ge=function(e){"use strict";xt(r,e);function r(t){tr(this,r);var o;return o=yt(this,r,[t]),o.state={hasErr:!1},o}return xr(r,[{key:"render",value:function(){return this.state.hasErr?b(ml.ScrollView,{style:wc.view,children:[i(fo,{style:wc.title,children:d.UH_OH}),i(Rr,{selectable:!0,style:{marginBottom:5},children:this.state.error.name}),i(Rr,{selectable:!0,style:{marginBottom:5},children:this.state.error.message}),this.state.error.stack&&i(ml.ScrollView,{style:{maxHeight:420,marginBottom:5},children:i(Rr,{selectable:!0,children:this.state.error.stack})}),i(ue,{size:"md",variant:"destructive",onPress:()=>this.setState({hasErr:!1}),text:d.RETRY})]}):this.props.children}}]),r}(Ph=Dn.Component);Sa(ge,"getDerivedStateFromError",e=>({hasErr:!0,error:e}))});function Lh(){return i(Wa.Image,{style:{width:16,height:16},source:y("search")})}var Wa,jt,Ac=g(()=>{"use strict";l();u();X();de();le();re();dl();Wa=k(ae());jt=({onChangeText:e,placeholder:r,style:t,isRound:o})=>{var[n,a]=React.useState(""),s=f=>{a(f),e?.(f)};return i(ge,{children:i(Wa.View,{style:t,children:i(Ye,{grow:!0,isClearable:!0,leadingIcon:Lh,placeholder:r??d.SEARCH,onChange:s,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,isRound:o,value:n})})})}});function Fn({label:e,icon:r,noPadding:t=!1,noAnimation:o=!1,children:n}){var[a,s]=React.useState(!0);return b(gr,{children:[i(w,{label:e,icon:r&&i(w.Icon,{source:y(r)}),trailing:i($r.Arrow,{style:{transform:[{rotate:`${a?180:90}deg`}]}}),onPress:()=>{s(!a),o||Bn.LayoutAnimation.configureNext(Bn.LayoutAnimation.Presets.easeInEaseOut)}}),!a&&i(gr,{children:i(Bn.View,{style:!t&&{paddingHorizontal:15},children:n})})]})}var Bn,Cc=g(()=>{"use strict";l();u();X();le();re();Bn=k(ae())});var Ka={};D(Ka,{Codeblock:()=>Rr,ErrorBoundary:()=>ge,Search:()=>jt,Summary:()=>Fn,wrappers:()=>fl});var Ir=g(()=>{"use strict";l();u();gc();Tc();dl();Ac();Cc()});function qa(e,r,t,o,n){return x(function*(){if(e)return void e();var a=yield t().then(s=>s.default);typeof o=="string"&&(o={title:o}),r??=Nh.getRootNavigationRef(),r.navigate("BUNNY_CUSTOM_PAGE",{...o,render:()=>i(a,{...n})})})}var Nh,Bo,pl=g(()=>{"use strict";l();u();fe();X();Y();ne();Ir();Nh=C("getRootNavigationRef"),Bo=React.memo(()=>{var e=me.useNavigation(),r=me.useRoute(),{render:t,...o}=r.params;return React.useEffect(()=>void e.setOptions({...o}),[]),i(ge,{children:i(t,{})})})});function Oh(){var e=me.useNavigation();return i(gr,{children:Object.keys(Pr).map(r=>Pr[r].length>0&&i(ka,{title:r,children:Pr[r].filter(t=>t.usePredicate?.()??!0).map((t,o,n)=>b(gr,{children:[i($r,{label:t.title(),leading:i(Zs,{source:t.icon}),trailing:i($r.Arrow,{label:t.useTrailing?.()||void 0}),onPress:qa(t.onPress,e,t.render,t.title())}),o!==n.length-1&&i(Pn,{})]}))},r))})}function Rc(e){e.push(q("default",Oe("getScreens",!1),(t,o)=>({...o,VendettaCustomPage:{title:"Bunny",render:()=>i(Bo,{})},BUNNY_CUSTOM_PAGE:{title:"Bunny",render:()=>i(Bo,{})}})));var r=q("default",Oe("UserSettingsOverviewWrapper",!1),(t,o)=>{var n=mr(o.props.children,a=>a.type?.name==="UserSettingsOverview");e.push(q("renderSupportAndAcknowledgements",n.type.prototype,(a,{props:{children:s}})=>{var f=s.findIndex(c=>c?.type?.name==="UploadLogsButton");f!==-1&&s.splice(f,1)})),e.push(q("render",n.type.prototype,(a,s)=>{var f=[Bt.Messages.BILLING_SETTINGS,Bt.Messages.PREMIUM_SETTINGS],c=mr(s.props.children,m=>m?.children?.[1]?.type===ka)?.children||s.props.children;if(c){var _=c.findIndex(m=>f.includes(m?.props.label));c.splice(-~_||4,0,i(Oh,{}))}}))},!0);e.push(r)}var Ic=g(()=>{"use strict";l();u();X();Ge();Tr();Y();re();ne();Fo();pl()});function Mh(){var e=!1;return React.useEffect(()=>void(e=!0),[]),e}function Pc(e){var r=()=>Object.values(Pr).flatMap(n=>n.map(a=>({[a.key]:{type:"pressable",title:a.title,icon:a.icon,usePredicate:a.usePredicate,useTrailing:a.useTrailing,onPress:qa(a.onPress,null,a.render,a.title()),withArrow:!0,...a.rawTabsConfig}}))).reduce((n,a)=>Object.assign(n,a)),t=Xa.SETTING_RENDERER_CONFIG,o=Xa.SETTING_RENDERER_CONFIG;Object.defineProperty(Xa,"SETTING_RENDERER_CONFIG",{enumerable:!0,configurable:!0,get:()=>({...o,VendettaCustomPage:{type:"route",title:()=>"Bunny",screen:{route:"VendettaCustomPage",getComponent:()=>Bo}},BUNNY_CUSTOM_PAGE:{type:"route",title:()=>"Bunny",screen:{route:"BUNNY_CUSTOM_PAGE",getComponent:()=>Bo}},...r()}),set:n=>o=n}),e.push(()=>{Object.defineProperty(Xa,"SETTING_RENDERER_CONFIG",{value:t,writable:!0,get:void 0,set:void 0})}),e.push(q("default",Dh,(n,a)=>{if(!Mh()){var{sections:s}=mr(a,c=>c.props?.sections).props,f=-~s.findIndex(c=>c.label===Bt.Messages.ACCOUNT_SETTINGS)||1;Object.keys(Pr).forEach(c=>{s.splice(f++,0,{label:c,title:c,settings:Pr[c].map(_=>_.key)})})}}))}var Xa,Dh,Lc=g(()=>{"use strict";l();u();Ge();Tr();Y();ne();Fo();pl();Xa=C("SETTING_RENDERER_CONFIG"),Dh=Oe("SettingsOverviewScreen",!1)});var gl={};D(gl,{patchSettings:()=>hl,registerSection:()=>Ja,registeredSections:()=>Pr});function Ja(e){return Pr[e.name]=e.items,()=>delete Pr[e.name]}function hl(){var e=new Array;return Rc(e),Pc(e),()=>e.forEach(r=>r())}var Pr,Fo=g(()=>{"use strict";l();u();Ic();Lc();Pr={}});var Za={};D(Za,{showToast:()=>V});var Bh,V,Lr=g(()=>{"use strict";l();u();de();le();Ee();Y();ne();({uuid4:Bh}=G(()=>U("uuid4"))),V=(e,r)=>On.open({key:`vd-toast-${Bh()}`,content:e,source:r,icon:r});V.showCopyToClipboard=(e=d.COPIED_TO_CLIPBOARD)=>{V(e,y("toast_copy_link"))}});function Qa({label:e,version:r,icon:t}){return i(w,{label:e,icon:i(w.Icon,{source:y(t)}),trailing:i(fo,{children:r}),onPress:()=>{ar.setString(`${e} - ${r}`),V.showCopyToClipboard()}})}var Nc=g(()=>{"use strict";l();u();X();le();Y();re();Lr()});var ri={};D(ri,{connectToDebugger:()=>kn,getDebugInfo:()=>st,patchLogHook:()=>yl,toggleSafeMode:()=>Un,versionHash:()=>jn});function Un(){return vl.apply(this,arguments)}function vl(){return vl=x(function*(){P.safeMode={...P.safeMode,enabled:!P.safeMode?.enabled},Ar()&&(Nt()?.id&&(P.safeMode.currentThemeId=Nt().id),P.safeMode?.enabled?yield tt(null):P.safeMode?.currentThemeId&&(yield tt(ie[P.safeMode?.currentThemeId]))),setTimeout(Qo.reload,400)}),vl.apply(this,arguments)}function kn(e){if(Nr!==void 0&&Nr.readyState!==WebSocket.CLOSED&&Nr.close(),!e){V("Invalid debugger URL!",y("Small"));return}Nr=new WebSocket(`ws://${e}`),Nr.addEventListener("open",()=>V("Connected to debugger.",y("Check"))),Nr.addEventListener("message",r=>{try{(0,eval)(r.data)}catch(t){console.error(t)}}),Nr.addEventListener("error",r=>{console.log(`Debugger error: ${r.message}`),V("An error occurred with the debugger connection!",y("Small"))})}function yl(){var e=q("nativeLoggingHook",globalThis,r=>{Nr?.readyState===WebSocket.OPEN&&Nr.send(JSON.stringify({message:r[0],level:r[1]})),Ue.log(r[0])});return()=>{Nr&&Nr.close(),e()}}function st(){var e=window.HermesInternal.getRuntimeProperties(),r=e["OSS Release Version"],t="for RN ",o=ei.Platform.constants,n=o.reactNativeVersion;return{vendetta:{version:jn.split("-")[0],loader:Os()},bunny:{version:jn,loader:{name:Os(),version:jf()}},discord:{version:Xt.Version,build:Xt.Build},react:{version:React.version,nativeVersion:r.startsWith(t)?r.substring(t.length):`${n.major}.${n.minor}.${n.patch}`},hermes:{version:r,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...ei.Platform.select({android:{os:{name:"Android",version:o.Release,sdk:o.Version}},ios:{os:{name:o.systemName,version:o.osVersion}}}),...ei.Platform.select({android:{device:{manufacturer:o.Manufacturer,brand:o.Brand,model:o.Model,codename:jr.device}},ios:{device:{manufacturer:jr.deviceManufacturer,brand:jr.deviceBrand,model:jr.deviceModel,codename:jr.device}}})}}var ei,Nr,jn,lt=g(()=>{"use strict";l();u();fe();nr();le();Vr();Qr();Ge();De();et();Lr();ei=k(ae());jn="fd8ddce-main"});function _l(){var e=st();z(P);var r=[{label:d.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:d.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],t=[{label:d.LOADER,version:`${e.bunny.loader.name} (${e.bunny.loader.version})`,icon:"ic_download_24px"},{label:d.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:d.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:d.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:d.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:ti.Platform.select({android:d.CODENAME,ios:d.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return i(ti.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:b(he,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[i(Me,{title:d.VERSIONS,children:r.map(o=>i(Qa,{label:o.label,version:o.version,icon:o.icon}))}),i(Me,{title:d.PLATFORM,children:t.map(o=>i(Qa,{label:o.label,version:o.version,icon:o.icon}))})]})})}var ti,Oc=g(()=>{"use strict";l();u();X();de();Nc();pe();lt();De();re();ti=k(ae())});var Mc={};D(Mc,{default:()=>Dc});function Dc(){z(P);var e=st(),r=me.useNavigation();return i(oi.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:b(he,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[b(Me,{title:d.INFO,children:[i(w,{label:d.BUNNY,icon:i(w.Icon,{source:{uri:za}}),trailing:i(w.TrailingText,{text:e.bunny.version})}),i(w,{label:"Discord",icon:i(w.Icon,{source:y("Discord")}),trailing:i(w.TrailingText,{text:`${e.discord.version} (${e.discord.build})`})}),i(w,{arrow:!0,label:d.ABOUT,icon:i(w.Icon,{source:y("CircleInformationIcon-primary")}),trailing:w.Arrow,onPress:()=>r.push("BUNNY_CUSTOM_PAGE",{title:d.ABOUT,render:()=>i(_l,{})})})]}),b(Me,{title:d.LINKS,children:[i(w,{label:d.DISCORD_SERVER,icon:i(w.Icon,{source:y("Discord")}),trailing:w.Arrow,onPress:()=>Ft.openDeeplink(fs)}),i(w,{label:d.GITHUB,icon:i(w.Icon,{source:y("img_account_sync_github_white")}),trailing:w.Arrow,onPress:()=>Ft.openURL(cs)})]}),b(Me,{title:d.ACTIONS,children:[i(w,{label:d.RELOAD_DISCORD,icon:i(w.Icon,{source:y("ic_message_retry")}),onPress:()=>oi.NativeModules.BundleUpdaterManager.reload()}),i(w,{label:P.safeMode?.enabled?d.RELOAD_IN_NORMAL_MODE:d.RELOAD_IN_SAFE_MODE,subLabel:P.safeMode?.enabled?d.RELOAD_IN_NORMAL_MODE_DESC:d.RELOAD_IN_SAFE_MODE_DESC,icon:i(w.Icon,{source:y("ic_privacy_24px")}),onPress:Un}),i(Dt,{label:d.DEVELOPER_SETTINGS,icon:i(w.Icon,{source:y("ic_progress_wrench_24px")}),value:P.developerSettings,onValueChange:t=>{P.developerSettings=t}})]}),i(Me,{title:d.MISCELLANEOUS,children:i(Dt,{label:d.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:d.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:i(w.Icon,{source:y("ic_progress_wrench_24px")}),value:P.enableDiscordDeveloperSettings,onValueChange:t=>{P.enableDiscordDeveloperSettings=t}})})]})})}var oi,Bc=g(()=>{"use strict";l();u();X();de();xl();Oc();pe();le();lt();De();Pt();Y();re();oi=k(ae())});function Sl(e){var r;try{r=new URL(e)}catch{return!1}return r.protocol==="http:"||r.protocol==="https:"}var Fc=g(()=>{"use strict";l();u()});var Uc=Mr((jc,ni)=>{l();u();ga();rn();fn();ya();sf();((e,r)=>{typeof define=="function"&&define.amd?define([],r):typeof ni=="object"&&ni.exports?ni.exports=r():e.fuzzysort=r()})(jc,e=>{"use strict";var r=(S,v)=>{if(!S||!v)return Se;var E=F(S);$t(v)||(v=O(v));var A=E.bitflags;return(A&v._bitflags)!==A?Se:ve(E,v)},t=(S,v,E)=>{if(!S)return E?.all?te(v,E):Li;var A=F(S),L=A.bitflags,I=A.containsSpace,T=m(E?.threshold||0),B=E?.limit||Pi,N=0,W=0,$=v.length;function We(Kt){N<B?(da.add(Kt),++N):(++W,Kt._score>da.peek()._score&&da.replaceTop(Kt))}if(E?.key)for(var Fe=E.key,K=0;K<$;++K){var He=v[K],J=ma(He,Fe);if(J&&($t(J)||(J=O(J)),(L&J._bitflags)===L)){var ee=ve(A,J);ee!==Se&&(ee._score<T||(ee.obj=He,We(ee)))}}else if(E?.keys){var Zr=E.keys,_r=Zr.length;e:for(var K=0;K<$;++K){var He=v[K];{for(var Le=0,ce=0;ce<_r;++ce){var Fe=Zr[ce],J=ma(He,Fe);if(!J){Ii[ce]=Jo;continue}$t(J)||(J=O(J)),Ii[ce]=J,Le|=J._bitflags}if((L&Le)!==L)continue}if(I)for(var Ze=0;Ze<A.spaceSearches.length;Ze++)Jr[Ze]=Je;for(var ce=0;ce<_r;++ce){if(J=Ii[ce],J===Jo){wo[ce]=Jo;continue}if(wo[ce]=ve(A,J,!1,I),wo[ce]===Se){wo[ce]=Jo;continue}if(I)for(var M=0;M<A.spaceSearches.length;M++){if(zt[M]>-1e3&&Jr[M]>Je){var Qe=(Jr[M]+zt[M])/4;Qe>Jr[M]&&(Jr[M]=Qe)}zt[M]>Jr[M]&&(Jr[M]=zt[M])}}if(I){for(var lr=0;lr<A.spaceSearches.length;lr++)if(Jr[lr]===Je)continue e}else{for(var Yt=!1,Wt=0;Wt<_r;Wt++)if(wo[Wt]._score!==Je){Yt=!0;break}if(!Yt)continue}for(var ur=new f(_r),er=0;er<_r;er++)ur[er]=wo[er];if(I)for(var oe=0,Ao=0;Ao<A.spaceSearches.length;Ao++)oe+=Jr[Ao];else for(var oe=Je,rr=0;rr<_r;rr++){var ee=ur[rr];if(ee._score>-1e3&&oe>Je){var Qe=(oe+ee._score)/4;Qe>oe&&(oe=Qe)}ee._score>oe&&(oe=ee._score)}if(ur.obj=He,ur._score=oe,E?.scoreFn){if(oe=E.scoreFn(ur),!oe)continue;oe=m(oe),ur._score=oe}oe<T||We(ur)}}else for(var K=0;K<$;++K){var J=v[K];if(J&&($t(J)||(J=O(J)),(L&J._bitflags)===L)){var ee=ve(A,J);ee!==Se&&(ee._score<T||We(ee))}}if(N===0)return Li;for(var Zo=new Array(N),K=N-1;K>=0;--K)Zo[K]=da.poll();return Zo.total=N+W,Zo},o=(S,v="<b>",E="</b>")=>{for(var A=typeof v=="function"?v:void 0,L=S.target,I=L.length,T=S.indexes,B="",N=0,W=0,$=!1,We=[],Fe=0;Fe<I;++Fe){var K=L[Fe];if(T[W]===Fe){if(++W,$||($=!0,A?(We.push(B),B=""):B+=v),W===T.length){A?(B+=K,We.push(A(B,N++)),B="",We.push(L.substr(Fe+1))):B+=K+E+L.substr(Fe+1);break}}else $&&($=!1,A?(We.push(A(B,N++)),B=""):B+=E);B+=K}return A?We:B},n=S=>{typeof S=="number"?S=""+S:typeof S!="string"&&(S="");var v=Dr(S);return c(S,{_targetLower:v._lower,_targetLowerCodes:v.lowerCodes,_bitflags:v.bitflags})},a=()=>{Ci.clear(),Ri.clear()},s=function(){function S(){tr(this,S)}return xr(S,[{key:"indexes",get:function(){return this._indexes.slice(0,this._indexes.len).sort((E,A)=>E-A)}},{key:"indexes",set:function(E){return this._indexes=E}},{key:"highlight",value:function(E,A){return o(this,E,A)}},{key:"score",get:function(){return _(this._score)}},{key:"score",set:function(E){this._score=m(E)}}]),S}(),f=function(S){xt(v,S);function v(){return tr(this,v),yt(this,v,arguments)}return xr(v,[{key:"score",get:function(){return _(this._score)}},{key:"score",set:function(A){this._score=m(A)}}]),v}(_a(Array)),c=(S,v)=>{var E=new s;return E.target=S,E.obj=v.obj??Se,E._score=v._score??Je,E._indexes=v._indexes??[],E._targetLower=v._targetLower??"",E._targetLowerCodes=v._targetLowerCodes??Se,E._nextBeginningIndexes=v._nextBeginningIndexes??Se,E._bitflags=v._bitflags??0,E},_=S=>S===Je?0:S>1?S:Math.E**(((-S+1)**.04307-1)*-2),m=S=>S===0?Je:S>1?S:1-Math.pow(Math.log(S)/-2+1,1/.04307),R=S=>{typeof S=="number"?S=""+S:typeof S!="string"&&(S=""),S=S.trim();var v=Dr(S),E=[];if(v.containsSpace){var A=S.split(/\s+/);A=[...new Set(A)];for(var L=0;L<A.length;L++)if(A[L]!==""){var I=Dr(A[L]);E.push({lowerCodes:I.lowerCodes,_lower:A[L].toLowerCase(),containsSpace:!1})}}return{lowerCodes:v.lowerCodes,_lower:v._lower,containsSpace:v.containsSpace,bitflags:v.bitflags,spaceSearches:E}},O=S=>{if(S.length>999)return n(S);var v=Ci.get(S);return v!==void 0||(v=n(S),Ci.set(S,v)),v},F=S=>{if(S.length>999)return R(S);var v=Ri.get(S);return v!==void 0||(v=R(S),Ri.set(S,v)),v},te=(S,v)=>{var E=[];E.total=S.length;var A=v?.limit||Pi;if(v?.key)for(var L=0;L<S.length;L++){var I=S[L],T=ma(I,v.key);if(T!=Se){$t(T)||(T=O(T));var B=c(T.target,{_score:T._score,obj:I});if(E.push(B),E.length>=A)return E}}else if(v?.keys)for(var L=0;L<S.length;L++){for(var I=S[L],N=new f(v.keys.length),W=v.keys.length-1;W>=0;--W){var T=ma(I,v.keys[W]);if(!T){N[W]=Jo;continue}$t(T)||(T=O(T)),T._score=Je,T._indexes.len=0,N[W]=T}if(N.obj=I,N._score=Je,E.push(N),E.length>=A)return E}else for(var L=0;L<S.length;L++){var T=S[L];if(T!=Se&&($t(T)||(T=O(T)),T._score=Je,T._indexes.len=0,E.push(T),E.length>=A))return E}return E},ve=(S,v,E=!1,A=!1)=>{if(E===!1&&S.containsSpace)return Xo(S,v,A);for(var L=S._lower,I=S.lowerCodes,T=I[0],B=v._targetLowerCodes,N=I.length,W=B.length,K=0,$=0,We=0;;){var Fe=T===B[$];if(Fe){if(Xr[We++]=$,++K,K===N)break;T=I[K]}if(++$,$>=W)return Se}var K=0,He=!1,J=0,ee=v._nextBeginningIndexes;ee===Se&&(ee=v._nextBeginningIndexes=ke(v.target)),$=Xr[0]===0?0:ee[Xr[0]-1];var Zr=0;if($!==W)for(;;)if($>=W){if(K<=0||(++Zr,Zr>200))break;--K;var _r=fa[--J];$=ee[_r]}else{var Fe=I[K]===B[$];if(Fe){if(fa[J++]=$,++K,K===N){He=!0;break}++$}else $=ee[$]}var Le=N<=1?-1:v._targetLower.indexOf(L,Xr[0]),ce=!!~Le,Ze=ce?Le===0||v._nextBeginningIndexes[Le-1]===Le:!1;if(ce&&!Ze){for(var M=0;M<ee.length;M=ee[M])if(!(M<=Le)){for(var Qe=0;Qe<N&&I[Qe]===v._targetLowerCodes[M+Qe];Qe++);if(Qe===N){Le=M,Ze=!0;break}}}var lr=er=>{for(var oe=0,Ao=0,rr=1;rr<N;++rr)er[rr]-er[rr-1]!==1&&(oe-=er[rr],++Ao);var Zo=er[N-1]-er[0]-(N-1);if(oe-=(12+Zo)*Ao,er[0]!==0&&(oe-=er[0]*er[0]*.2),!He)oe*=1e3;else{for(var Kt=1,rr=ee[0];rr<W;rr=ee[rr])++Kt;Kt>24&&(oe*=(Kt-24)*10)}return oe-=(W-N)/2,ce&&(oe/=1+N*N*1),Ze&&(oe/=1+N*N*1),oe-=(W-N)/2,oe};if(He)if(Ze){for(var M=0;M<N;++M)Xr[M]=Le+M;var Yt=Xr,Wt=lr(Xr)}else var Yt=fa,Wt=lr(fa);else{if(ce)for(var M=0;M<N;++M)Xr[M]=Le+M;var Yt=Xr,Wt=lr(Yt)}v._score=Wt;for(var M=0;M<N;++M)v._indexes[M]=Yt[M];v._indexes.len=N;var ur=new s;return ur.target=v.target,ur._score=v._score,ur._indexes=v._indexes,ur},Xo=(S,v,E)=>{for(var A=new Set,L=0,I=Se,T=0,B=S.spaceSearches,N=B.length,W=0,$=()=>{for(var lr=W-1;lr>=0;lr--)v._nextBeginningIndexes[ca[lr*2+0]]=ca[lr*2+1]},We=!1,M=0;M<N;++M){zt[M]=Je;var Fe=B[M];if(I=ve(Fe,v),E){if(I===Se)continue;We=!0}else if(I===Se)return $(),Se;var K=M===N-1;if(!K){for(var He=I._indexes,J=!0,ee=0;ee<He.len-1;ee++)if(He[ee+1]-He[ee]!==1){J=!1;break}if(J)for(var Zr=He[He.len-1]+1,_r=v._nextBeginningIndexes[Zr-1],Le=Zr-1;Le>=0&&_r===v._nextBeginningIndexes[Le];Le--)v._nextBeginningIndexes[Le]=Zr,ca[W*2+0]=Le,ca[W*2+1]=_r,W++}L+=I._score/N,zt[M]=I._score/N,I._indexes[0]<T&&(L-=(T-I._indexes[0])*2),T=I._indexes[0];for(var ce=0;ce<I._indexes.len;++ce)A.add(I._indexes[ce])}if(E&&!We)return Se;$();var Ze=ve(S,v,!0);if(Ze!==Se&&Ze._score>L){if(E)for(var M=0;M<N;++M)zt[M]=Ze._score/N;return Ze}E&&(I=v),I._score=L;var M=0;for(var Qe of A)I._indexes[M++]=Qe;return I._indexes.len=M,I},Dr=S=>{for(var v=S.length,E=S.toLowerCase(),A=[],L=0,I=!1,T=0;T<v;++T){var B=A[T]=E.charCodeAt(T);if(B===32){I=!0;continue}var N=B>=97&&B<=122?B-97:B>=48&&B<=57?26:B<=127?30:31;L|=1<<N}return{lowerCodes:A,bitflags:L,containsSpace:I,_lower:E}},vt=S=>{for(var v=S.length,E=[],A=0,L=!1,I=!1,T=0;T<v;++T){var B=S.charCodeAt(T),N=B>=65&&B<=90,W=N||B>=97&&B<=122||B>=48&&B<=57,$=N&&!L||!I||!W;L=N,I=W,$&&(E[A++]=T)}return E},ke=S=>{for(var v=S.length,E=vt(S),A=[],L=E[0],I=0,T=0;T<v;++T)L>T?A[T]=L:(L=E[++I],A[T]=L===void 0?v:L);return A},Ci=new Map,Ri=new Map,Xr=[],fa=[],ca=[],Jr=[],zt=[],Ii=[],wo=[],ma=(S,v)=>{var E=S[v];if(E!==void 0)return E;if(typeof v=="function")return v(S);var A=v;Array.isArray(v)||(A=v.split("."));for(var L=A.length,I=-1;S&&++I<L;)S=S[A[I]];return S},$t=S=>typeof S=="object"&&typeof S._bitflags=="number",Pi=1/0,Je=-Pi,Li=[];Li.total=0;var Se=null,Jo=n(""),Ud=S=>{var v=[],E=0,A={},L=I=>{for(var T=0,B=v[T],N=1;N<E;){var W=N+1;T=N,W<E&&v[W]._score<v[N]._score&&(T=W),v[T-1>>1]=v[T],N=1+(T<<1)}for(var $=T-1>>1;T>0&&B._score<v[$]._score;$=(T=$)-1>>1)v[T]=v[$];v[T]=B};return A.add=I=>{var T=E;v[E++]=I;for(var B=T-1>>1;T>0&&I._score<v[B]._score;B=(T=B)-1>>1)v[T]=v[B];v[T]=I},A.poll=I=>{if(E!==0){var T=v[0];return v[0]=v[--E],L(),T}},A.peek=I=>{if(E!==0)return v[0]},A.replaceTop=I=>{v[0]=I,L()},A},da=Ud();return{single:r,go:t,prepare:n,cleanup:a}})});var Ut=Mr((mT,kc)=>{l();u();kc.exports=Rt().react});function Hh(e){var[r,t]=React.useState(""),[o,n]=React.useState(""),[a,s]=React.useState(!1);function f(){s(!0),e.fetchFn(r).then(()=>kh("AddonInputAlert")).catch(c=>c instanceof Error?n(c.message):String(c)).finally(()=>s(!1))}return i(Mn,{title:e.label,content:"Enter the URL of the source you want to install from:",extraContent:b(he,{style:{marginTop:-12},children:[i(Ye,{autoFocus:!0,isClearable:!0,value:r,onChange:c=>{t(c),o&&n("")},returnKeyType:"done",onSubmitEditing:f,state:o?"error":void 0,errorMessage:o||void 0}),i(sr.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{gap:8},children:i(ue,{size:"sm",variant:"tertiary",text:"Import from clipboard",icon:y("ClipboardListIcon"),onPress:()=>ar.getString().then(c=>t(c))})})]}),actions:b(he,{children:[i(ue,{loading:a,text:"Install",variant:"primary",disabled:!r||!Sl(r),onPress:f}),i(Ya,{disabled:a,text:"Cancel",variant:"secondary"})]})})}function go({CardComponent:e,...r}){z(P);var[t,o]=React.useState(""),[n,a]=React.useState(()=>null),s=(0,ai.useMemo)(()=>{var _=r.items;r.resolveItem&&(_=_.map(r.resolveItem));var m=_.filter(R=>R&&typeof R=="object");return!t&&n&&m.sort(n),Hc.default.go(t,m,{keys:r.searchKeywords,all:!0})},[r.items,n,t]),f=(0,ai.useCallback)(()=>{if(!r.installAction)return()=>{};var{label:_,onPress:m,fetchFn:R}=r.installAction;R?Uh("AddonInputAlert",i(Hh,{label:_??"Install",fetchFn:R})):m?.()},[]);if(s.length===0&&!t)return b(sr.View,{style:{gap:32,flexGrow:1,justifyContent:"center",alignItems:"center"},children:[b(sr.View,{style:{gap:8,alignItems:"center"},children:[i(sr.Image,{source:y("empty_quick_switcher")}),i(H,{variant:"text-lg/semibold",color:"text-normal",children:"Oops! Nothing to see here\u2026 yet!"})]}),i(ue,{size:"lg",icon:y("DownloadIcon"),text:r.installAction?.label??"Install",onPress:f})]});var c=b(sr.View,{style:{paddingBottom:8},children:[P.safeMode?.enabled&&b(sr.View,{style:{marginBottom:10},children:[i(Rn,{messageType:0,children:r.safeModeHint?.message}),r.safeModeHint?.footer]}),b(sr.View,{style:{flexDirection:"row",gap:8},children:[i(jt,{style:{flexGrow:1},isRound:!!r.sortOptions,onChangeText:_=>o(_)}),r.sortOptions&&i(Ce,{icon:y("ic_forum_channel_sort_order_24px"),variant:"tertiary",disabled:!!t,onPress:()=>Fh({key:"AddonListSortOptions",header:{title:"Sort Options",onClose:()=>jh("AddonListSortOptions")},options:Object.entries(r.sortOptions).map(([_,m])=>({label:_,onPress:()=>a(()=>m)}))})})]}),r.ListHeaderComponent&&!t&&i(r.ListHeaderComponent,{})]});return b(ge,{children:[i(Ln,{data:s,extraData:t,estimatedItemSize:136,ListHeaderComponent:c,ListEmptyComponent:()=>b(sr.View,{style:{gap:12,padding:12,alignItems:"center"},children:[i(sr.Image,{source:y("devices_not_found")}),i(H,{variant:"text-lg/semibold",color:"text-normal",children:"Hmmm... could not find that!"})]}),contentContainerStyle:{padding:8,paddingHorizontal:12},ItemSeparatorComponent:()=>i(sr.View,{style:{height:8}}),ListFooterComponent:r.ListFooterComponent,renderItem:({item:_})=>i(e,{item:_.obj,result:_})}),r.installAction&&i(Xs,{icon:y("PlusLargeIcon"),onPress:f})]})}var Hc,ai,sr,Fh,jh,Uh,kh,ii=g(()=>{"use strict";l();u();X();pe();le();De();ul();Fc();Ee();at();Y();re();Ir();Hc=k(Uc()),ai=k(Ut()),sr=k(ae()),{showSimpleActionSheet:Fh,hideActionSheet:jh}=G(()=>U("showSimpleActionSheet")),{openAlert:Uh,dismissAlert:kh}=G(()=>U("openAlert","dismissAlert"))});var Vc,Gc=g(()=>{"use strict";l();u();Y();Yr();Vc=it({smallIcon:{tintColor:mo.colors.LOGO_PRIMARY,height:18,width:18}})});var El={};D(El,{hideSheet:()=>kt,showSheet:()=>bl});function bl(e,r,t){zc.openLazy(r,e,t??{})}function kt(e){zc.hideActionSheet(e)}var zc,Hn=g(()=>{"use strict";l();u();ne();zc=C("openLazy","hideActionSheet")});function Tl(){return(0,$c.default)(mo.unsafe_rawColors.YELLOW_300).alpha(.3).hex()}function Vh(){var e=Vc(),{plugin:r,result:t}=si(),o=t[0].highlight((s,f)=>i(H,{style:{backgroundColor:Tl()},children:s},f)),n=r.icon&&y(r.icon),a=i(H,{numberOfLines:1,variant:"heading-lg/semibold",children:o.length?o:r.name});return b(Ht.View,{style:{flexDirection:"row",alignItems:"center",gap:6},children:[n&&i(Ht.Image,{style:e.smallIcon,source:n}),a]})}function Gh(){var{plugin:e,result:r}=si();if(!e.authors)return null;var t=r[2].highlight((a,s)=>i(H,{style:{backgroundColor:Tl()},children:a},s));if(t.length>0)return b(H,{variant:"text-md/semibold",color:"text-muted",children:["by ",t]});var o=["by "];for(var n of e.authors)o.push(typeof n=="string"?n:n.name),o.push(", ");return o.pop(),i(H,{variant:"text-md/semibold",color:"text-muted",children:o})}function zh(){var{plugin:e,result:r}=si(),t=r[1].highlight((o,n)=>i(H,{style:{backgroundColor:Tl()},children:o},n));return i(H,{variant:"text-md/medium",children:t.length?t:e.description})}function wl({result:e,item:r}){r.usePluginState();var[,t]=React.useReducer(()=>({}),0),o=(0,jo.useMemo)(()=>({plugin:r,result:e}),[r,e]);return i(Yc.Provider,{value:o,children:i(pr,{children:b(he,{spacing:16,children:[b(Ht.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[b(Ht.View,{style:{flexShrink:1},children:[i(Vh,{}),i(Gh,{})]}),i(Ht.View,{children:b(he,{spacing:12,direction:"horizontal",children:[i($h,{}),i(Ws,{value:r.isEnabled(),onValueChange:n=>{r.toggle(n),t()}})]})})]}),i(zh,{})]})})})}var $c,jo,Ht,Yc,si,$h,Wc=g(()=>{"use strict";l();u();X();Gc();le();Y();re();Hn();$c=k(Na()),jo=k(Ut()),Ht=k(ae()),Yc=(0,jo.createContext)(null),si=()=>(0,jo.useContext)(Yc);$h=()=>{var{plugin:e}=si(),r=me.useNavigation();return b(Ht.View,{style:{flexDirection:"row",gap:6},children:[i(Ce,{size:"sm",variant:"secondary",icon:y("WrenchIcon"),disabled:!e.getPluginSettingsComponent(),onPress:()=>r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}),i(Ce,{size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary"),onPress:()=>void bl("PluginInfoActionSheet",e.resolveSheetComponent(),{plugin:e,navigation:r})})]})}});var Xe,vo,j,ut=g(()=>{"use strict";l();u();fe();pe();De();Tr();Pt();et();Xe=Sr(or(br("VENDETTA_PLUGINS"))),vo={},j={plugins:Xe,pluginFetch(e){return x(function*(){return e.startsWith(Er)&&(e=e.replace("https://bunny-mod.github.io/plugins-proxy",oo).replace(Er,oo)),yield ze(e,{cache:"no-store"})})()},fetchPlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=Xe[e],t;try{t=yield(yield this.pluginFetch(e+"manifest.json")).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var o;if(r?.manifest.hash!==t.hash)try{o=yield(yield this.pluginFetch(e+(t.main||"index.js"))).text()}catch{}if(!o&&!r)throw new Error(`Failed to fetch JS for ${e}`);Xe[e]={id:e,manifest:t,enabled:r?.enabled??!1,update:r?.update??!0,js:o??r.js}}).apply(this)},installPlugin(e,r=!0){return x(function*(){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in Xe)throw new Error("Plugin already installed");yield this.fetchPlugin(e),r&&(yield this.startPlugin(e))}).apply(this)},evalPlugin(e){return x(function*(){var r={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:yield or(br(e.id))},logger:new xn(`Bunny \xBB ${e.manifest.name}`)},t=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,o=(0,eval)(t)(r),n=typeof o=="function"?o():o;return n?.default??n??{}})()},startPlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=Xe[e];if(!r)throw new Error("Attempted to start non-existent plugin");try{if(!P.safeMode?.enabled){var t=yield this.evalPlugin(r);vo[e]=t,t.onLoad?.()}r.enabled=!0}catch(o){Ue.error(`Plugin ${r.id} errored whilst loading, and will be unloaded`,o);try{vo[r.id]?.onUnload?.()}catch(n){Ue.error(`Plugin ${r.id} errored whilst unloading`,n)}delete vo[e],r.enabled=!1}}).apply(this)},stopPlugin(e,r=!0){e.endsWith("/")||(e+="/");var t=Xe[e],o=vo[e];if(!t)throw new Error("Attempted to stop non-existent plugin");if(!P.safeMode?.enabled){try{o?.onUnload?.()}catch(n){Ue.error(`Plugin ${t.id} errored whilst unloading`,n)}delete vo[e]}r&&(t.enabled=!1)},removePlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=Xe[e];r.enabled&&this.stopPlugin(e),delete Xe[e],yield Ia(e)}).apply(this)},initPlugins(){return x(function*(){yield It(P,Xe);var e=Object.keys(Xe);if(!P.safeMode?.enabled){var r=this;yield p(e.filter(t=>Xe[t].enabled).map(function(){var t=x(function*(o){return Xe[o].update&&(yield r.fetchPlugin(o).catch(n=>Ue.error(n.message))),yield r.startPlugin(o)});return function(o){return t.apply(this,arguments)}}())),e.filter(t=>!Xe[t].enabled&&Xe[t].update).forEach(t=>this.fetchPlugin(t))}return()=>this.stopAllPlugins()}).apply(this)},stopAllPlugins(){return Object.keys(vo).forEach(e=>this.stopPlugin(e,!1))},getSettings:e=>vo[e]?.settings}});function Kh(e,r=null,t=!1){if(e.guild_id===ds){var o;if(e.parent_id===ps)o="Plugin";else if(e.parent_id===_n&&Ar())o="Theme";else return;var{firstMessage:n}=t?Yh(e):{firstMessage:r},a=n?.content?.match(ms)?.filter(Vn[o].urlsFilter);if(!(!a||!a[0]))return o==="Plugin"&&!a[0].endsWith("/")&&(a[0]+="/"),[o,a[0]]}}function qh(e,r=null,t=!1){var[o,n]=Kh(e,r,t)??[];z(j.plugins),z(ie);var[a,s]=React.useState(!1);if(!o||!n)return[!0];var f=!!Vn[o].storage[n],c=function(){var _=x(function*(){s(!0);try{yield Vn[o].installOrRemove(n)}catch(m){V(m.message,y("Small"))}finally{s(!1)}});return function(){return _.apply(this,arguments)}}();return[!1,o,f,a,c]}var Yh,Wh,Vn,Xh,Kc,qc=g(()=>{"use strict";l();u();fe();X();de();ut();pe();nr();le();Vr();Ge();Pt();Ee();re();ne();Ir();Lr();({useFirstForumPostMessage:Yh}=G(()=>U("useFirstForumPostMessage"))),Wh=C("MostCommonForumPostReaction"),Vn={Plugin:{storage:j.plugins,urlsFilter:e=>e.startsWith(Er),installOrRemove:e=>{var r=Vn.Plugin.storage[e];return r?j.removePlugin(e):j.installPlugin(e)}},Theme:{storage:ie,urlsFilter:e=>e.endsWith(".json"),installOrRemove:e=>{var r=Vn.Theme.storage[e];return r?so(e):rt(e)}}};Xh=()=>q("MostCommonForumPostReaction",Wh,([{thread:e,firstMessage:r}],t)=>{var[o,n,a,s,f]=qh(e,r,!0);if(!o)return b(gr,{children:[t,i(ge,{children:i(ue,{size:"sm",loading:s,disabled:s,variant:a?"secondary":"primary",text:a?d.UNINSTALL:d.INSTALL,onPress:f,icon:y(a?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})})]})}),Kc=()=>{var e=[Xh()];return()=>e.map(r=>r())}});function Al({title:e,confirmText:r,confirmColor:t,onConfirm:o,cancelText:n,placeholder:a,initialValue:s="",secureTextEntry:f}){var[c,_]=React.useState(s),[m,R]=React.useState("");function O(){var F=Promise.resolve(o(c));F.then(()=>{Xc.close()}).catch(te=>{R(te.message)})}return i(An,{title:e,confirmText:r,confirmColor:t,isConfirmButtonDisabled:m.length!==0,onConfirm:O,cancelText:n,onCancel:()=>Xc.close(),children:i(Qs,{placeholder:a,value:c,onChange:F=>{_(typeof F=="string"?F:F.text),m&&R("")},returnKeyType:"done",onSubmitEditing:O,error:m||void 0,secureTextEntry:f,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}})})}var Xc,Jc=g(()=>{"use strict";l();u();X();re();ne();Xc=C("openLazy","close")});function Or(e){var r=e;return r.body=e.content,delete r.content,r.isDismissable??=!0,Zc.show(r)}var Zc,Cl,Qc,Uo=g(()=>{"use strict";l();u();fe();ne();Jc();Zc=C("openLazy","close");Cl=(e,r)=>Zc.openLazy({importer:x(function*(){return()=>React.createElement(e,r)})}),Qc=e=>Cl(Al,e)});function em(e){if(e.startsWith(Er))return"plugin";if(e.endsWith(".json")&&Ar())return"theme"}function rm(e,r){(e==="plugin"?j.installPlugin.bind(j):rt)(r).then(()=>{V(d.SUCCESSFULLY_INSTALLED,y("Check"))}).catch(t=>{V(t.message,y("Small"))})}var Zh,Qh,eg,rg,tg,tm,om=g(()=>{"use strict";l();u();fe();de();Uo();ut();nr();le();Vr();Ge();Pt();Ee();Y();pn();Co();ne();Lr();Zh=Ne(dn("showSimpleActionSheet")),Qh=C("handleClick"),{openURL:eg}=G(()=>Ft),{getChannelId:rg}=G(()=>Nn),{getChannel:tg}=G(()=>U("getChannel"));tm=()=>{var e=new Array;return e.push(q("showSimpleActionSheet",Zh,r=>{if(r[0].key==="LongPressUrl"){var{header:{title:t},options:o}=r[0],n=em(t);n&&o.push({label:d.INSTALL_ADDON,onPress:()=>rm(n,t)})}})),e.push(bt("handleClick",Qh,function(){var r=x(function*(t,o){var{href:n}=t[0],a=em(n);if(!a)return o.apply(this,t);if(a==="theme"&&tg(rg())?.parent_id!==_n)return o.apply(this,t);Or({title:d.HOLD_UP,content:ir("CONFIRMATION_LINK_IS_A_TYPE",{urlType:a}),onConfirm:()=>rm(a,n),confirmText:d.INSTALL,cancelText:d.CANCEL,secondaryConfirmText:d.OPEN_IN_BROWSER,onConfirmSecondary:()=>eg(n)})});return function(t,o){return r.apply(this,arguments)}}())),()=>e.forEach(r=>r())}});var am={};D(am,{default:()=>og});var nm,og,im=g(()=>{"use strict";l();u();ui();qc();om();nm=[],og=li({manifest:{id:"bunny.quickinstall",name:"QuickInstall",version:"1.0.0",description:"Quickly install Vendetta plugins and themes",authors:[{name:"Vendetta Team"}]},start(){nm=[Kc(),tm()]},stop(){nm.forEach(e=>e())}})});var Pl={};D(Pl,{deleteJsxCreate:()=>ng,onJsxCreate:()=>Rl,patchJsx:()=>Il});function Rl(e,r){Vt.has(e)||Vt.set(e,[]),Vt.get(e).push(r)}function ng(e,r){if(Vt.has(e)){var t=Vt.get(e);t.splice(t.indexOf(r),1),t.length===0&&Vt.delete(e)}}function Il(){var e=([t],o)=>{if(typeof t=="function"&&Vt.has(t.name)){var n=Vt.get(t.name);for(var a of n){var s=a(t,o);s!==void 0&&(o=s)}return o}},r=[q("jsx",sm,e),q("jsxs",sm,e)];return()=>r.forEach(t=>t())}var Vt,sm,fi=g(()=>{"use strict";l();u();Ge();at();Vt=new Map,sm=C("jsx","jsxs")});var lm={};D(lm,{default:()=>ig});var ci,ag,ig,um=g(()=>{"use strict";l();u();Ge();fi();at();ci=k(Ut());ui();ag=Io("useBadges",!1),ig=li({manifest:{id:"bunny.badges",name:"Badges",version:"1.0.0",description:"Adds badges to user's profile",authors:[{name:"pylixonly"}]},start(){var e={},r={};Rl("RenderedBadge",(t,o)=>{o.props.id.match(/bunny-\d+-\d+/)&&Object.assign(o.props,e[o.props.id])}),q("default",ag,([t],o)=>{var[n,a]=(0,ci.useState)(t?r[t.userId]??=[]:[]);(0,ci.useEffect)(()=>{t&&fetch(`https://raw.githubusercontent.com/pyoncord/badges/refs/heads/main/${t.userId}.json`).then(s=>s.json()).then(s=>a(r[t.userId]=s))},[t]),t&&n.forEach((s,f)=>{e[`bunny-${t.userId}-${f}`]={source:{uri:s.url},id:`bunny-${f}`,label:s.label},o.push({id:`bunny-${t.userId}-${f}`,description:s.label,icon:"_"})})})}})});function li(e){return e[Symbol.for("bunny.core.plugin")]=!0,e}var fm,ui=g(()=>{"use strict";l();u();fm=()=>({"bunny.quickinstall":(im(),Ve(am)),"bunny.badges":(um(),Ve(lm))})});var zn={};D(zn,{clearFolder:()=>Fl,downloadFile:()=>jl,fileExists:()=>_o,readFile:()=>Gn,removeFile:()=>yo,writeFile:()=>ft});function Fl(e){return Ll.apply(this,arguments)}function Ll(){return Ll=x(function*(e,{prefix:r="pyoncord/"}={}){if(typeof Z.clearFolder!="function")throw new Error("'fs.clearFolder' is not supported");return void(yield Z.clearFolder("documents",`${r}${e}`))}),Ll.apply(this,arguments)}function yo(e){return Nl.apply(this,arguments)}function Nl(){return Nl=x(function*(e,{prefix:r="pyoncord/"}={}){if(typeof Z.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void(yield Z.removeFile("documents",`${r}${e}`))}),Nl.apply(this,arguments)}function _o(e){return Ol.apply(this,arguments)}function Ol(){return Ol=x(function*(e,{prefix:r="pyoncord/"}={}){return yield Z.fileExists(`${Z.getConstants().DocumentsDirPath}/${r}${e}`)}),Ol.apply(this,arguments)}function ft(e,r){return Dl.apply(this,arguments)}function Dl(){return Dl=x(function*(e,r,{prefix:t="pyoncord/"}={}){if(typeof r!="string")throw new Error("Argument 'data' must be a string");return void(yield Z.writeFile("documents",`${t}${e}`,r,"utf8"))}),Dl.apply(this,arguments)}function Gn(e){return Ml.apply(this,arguments)}function Ml(){return Ml=x(function*(e,{prefix:r="pyoncord/"}={}){try{return yield Z.readFile(`${Z.getConstants().DocumentsDirPath}/${r}${e}`,"utf8")}catch(t){throw new Error(`An error occured while writing to '${e}'`,{cause:t})}}),Ml.apply(this,arguments)}function jl(e,r){return Bl.apply(this,arguments)}function Bl(){return Bl=x(function*(e,r,{prefix:t="pyoncord/"}={}){var o=yield fetch(e);if(!o.ok)throw new Error(`Failed to download file from ${e}: ${o.statusText}`);var n=yield o.arrayBuffer(),a=Buffer.from(n).toString("base64");return void(yield Z.writeFile("documents",`${t}${r}`,a,"base64"))}),Bl.apply(this,arguments)}var xo=g(()=>{"use strict";l();u();fe();Qr()});var $n,Yn,mi,cm,mm,Q,sg,lg,ug,fg,cg,mg,dm,dg,yr,Gt,pg,hg,gg,vg,pm,hm,gm,vm,yg,_g,xg,Sg,Be,Ul,ym,_m,xm,ct,Sm=g(()=>{l();u();ga();rn();fn();ya();$n="insert",Yn="update",mi="delete",cm="reverse",mm="shuffle",Q=Symbol.for("object-observer-meta-key-0"),sg={async:1},lg=e=>{if(!e||typeof e!="object")return null;var r={},t=[];for(var[o,n]of Object.entries(e))if(o==="path"){if(typeof n!="string"||n==="")throw new Error('"path" option, if/when provided, MUST be a non-empty string');r[o]=n}else if(o==="pathsOf"){if(e.path)throw new Error('"pathsOf" option MAY NOT be specified together with "path" option');if(typeof n!="string")throw new Error('"pathsOf" option, if/when provided, MUST be a string (MAY be empty)');r[o]=e.pathsOf.split(".").filter(Boolean)}else if(o==="pathsFrom"){if(e.path||e.pathsOf)throw new Error('"pathsFrom" option MAY NOT be specified together with "path"/"pathsOf" option/s');if(typeof n!="string"||n==="")throw new Error('"pathsFrom" option, if/when provided, MUST be a non-empty string');r[o]=n}else t.push(o);if(t.length)throw new Error(`'${t.join(", ")}' is/are not a valid observer option/s`);return r},ug=(e,r,t)=>{var o={};o[Q]=r;for(var n in e)o[n]=Gt(e[n],n,r,t);return o},fg=(e,r,t)=>{var o=e.length,n=new Array(o);n[Q]=r;for(var a=0;a<o;a++)n[a]=Gt(e[a],a,r,t);return n},cg=(e,r)=>(e[Q]=r,e),mg=(e,r)=>{if(e===null)return r;var t=r;if(e.path){var o=e.path;t=r.filter(f=>f.path.join(".")===o)}else if(e.pathsOf){var n=e.pathsOf,a=n.join(".");t=r.filter(f=>(f.path.length===n.length+1||f.path.length===n.length&&(f.type===cm||f.type===mm))&&f.path.join(".").startsWith(a))}else if(e.pathsFrom){var s=e.pathsFrom;t=r.filter(f=>f.path.join(".").startsWith(s))}return t},dm=(e,r)=>{try{e(r)}catch(t){console.error(`failed to notify listener ${e} with ${r}`,t)}},dg=function(){var r=this.batches;this.batches=[];for(var[t,o]of r)dm(t,o)},yr=(e,r)=>{var t=e,o,n,a,s,f,c,_=r.length;do{for(o=t.options.async,n=t.observers,c=n.length;c--;)if([a,s]=n[c],f=mg(s,r),f.length)if(o){t.batches.length===0&&queueMicrotask(dg.bind(t));var m=void 0;for(var R of t.batches)if(R[0]===a){m=R;break}m||(m=[a,[]],t.batches.push(m)),Array.prototype.push.apply(m[1],f)}else dm(a,f);var O=t.parent;if(O){for(var F=0;F<_;F++){var te=r[F];r[F]=new Be(te.type,[t.ownKey,...te.path],te.value,te.oldValue,te.object)}t=O}else t=null}while(t)},Gt=(e,r,t,o)=>o!==void 0&&o.has(e)?null:typeof e!="object"||e===null?e:Array.isArray(e)?new _m({target:e,ownKey:r,parent:t,visited:o}).proxy:ArrayBuffer.isView(e)?new xm({target:e,ownKey:r,parent:t}).proxy:e instanceof Date?e:new ym({target:e,ownKey:r,parent:t,visited:o}).proxy,pg=function(){var r=this[Q],t=r.target,o=t.length-1,n=t.pop();if(n&&typeof n=="object"){var a=n[Q];a&&(n=a.detach())}var s=[new Be(mi,[o],void 0,n,this)];return yr(r,s),n},hg=function(){for(var r=this[Q],t=r.target,o=arguments.length,n=new Array(o),a=t.length,s=0;s<o;s++)n[s]=Gt(arguments[s],a+s,r);for(var f=Reflect.apply(t.push,t,n),c=[],_=a,m=t.length;_<m;_++)c[_-a]=new Be($n,[_],t[_],void 0,this);return yr(r,c),f},gg=function(){var r=this[Q],t=r.target,o,n,a,s,f;for(o=t.shift(),o&&typeof o=="object"&&(f=o[Q],f&&(o=f.detach())),n=0,a=t.length;n<a;n++)s=t[n],s&&typeof s=="object"&&(f=s[Q],f&&(f.ownKey=n));var c=[new Be(mi,[0],void 0,o,this)];return yr(r,c),o},vg=function(){for(var r=this[Q],t=r.target,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=Gt(arguments[a],a,r);for(var s=Reflect.apply(t.unshift,t,n),f=0,c=t.length,_;f<c;f++)if(_=t[f],_&&typeof _=="object"){var m=_[Q];m&&(m.ownKey=f)}for(var R=n.length,O=new Array(R),F=0;F<R;F++)O[F]=new Be($n,[F],t[F],void 0,this);return yr(r,O),s},pm=function(){var r=this[Q],t=r.target,o,n,a;for(t.reverse(),o=0,n=t.length;o<n;o++)if(a=t[o],a&&typeof a=="object"){var s=a[Q];s&&(s.ownKey=o)}var f=[new Be(cm,[],void 0,void 0,this)];return yr(r,f),this},hm=function(r){var t=this[Q],o=t.target,n,a,s;for(o.sort(r),n=0,a=o.length;n<a;n++)if(s=o[n],s&&typeof s=="object"){var f=s[Q];f&&(f.ownKey=n)}var c=[new Be(mm,[],void 0,void 0,this)];return yr(t,c),this},gm=function(r,t,o){var n=this[Q],a=n.target,s=[],f=a.length,c=a.slice(0);if(t=t===void 0?0:t<0?Math.max(f+t,0):Math.min(t,f),o=o===void 0?f:o<0?Math.max(f+o,0):Math.min(o,f),t<f&&o>t){a.fill(r,t,o);for(var _,m=t,R,O;m<o;m++)R=a[m],a[m]=Gt(R,m,n),m in c?(O=c[m],O&&typeof O=="object"&&(_=O[Q],_&&(O=_.detach())),s.push(new Be(Yn,[m],a[m],O,this))):s.push(new Be($n,[m],a[m],void 0,this));yr(n,s)}return this},vm=function(r,t,o){var n=this[Q],a=n.target,s=a.length;r=r<0?Math.max(s+r,0):r,t=t===void 0?0:t<0?Math.max(s+t,0):Math.min(t,s),o=o===void 0?s:o<0?Math.max(s+o,0):Math.min(o,s);var f=Math.min(o-t,s-r);if(r<s&&r!==t&&f>0){var c=a.slice(0),_=[];a.copyWithin(r,t,o);for(var m=r,R,O,F;m<r+f;m++)R=a[m],R&&typeof R=="object"&&(R=Gt(R,m,n),a[m]=R),O=c[m],O&&typeof O=="object"&&(F=O[Q],F&&(O=F.detach())),!(typeof R!="object"&&R===O)&&_.push(new Be(Yn,[m],R,O,this));yr(n,_)}return this},yg=function(){for(var r=this[Q],t=r.target,o=arguments.length,n=new Array(o),a=t.length,s=0;s<o;s++)n[s]=Gt(arguments[s],s,r);for(var f=o===0?0:n[0]<0?a+n[0]:n[0],c=o<2?a-f:n[1],_=Math.max(o-2,0),m=Reflect.apply(t.splice,t,n),R=t.length,O,F=0,te;F<R;F++)te=t[F],te&&typeof te=="object"&&(O=te[Q],O&&(O.ownKey=F));var ve,Xo,Dr;for(ve=0,Xo=m.length;ve<Xo;ve++)Dr=m[ve],Dr&&typeof Dr=="object"&&(O=Dr[Q],O&&(m[ve]=O.detach()));var vt=[],ke;for(ke=0;ke<c;ke++)ke<_?vt.push(new Be(Yn,[f+ke],t[f+ke],m[ke],this)):vt.push(new Be(mi,[f+ke],void 0,m[ke],this));for(;ke<_;ke++)vt.push(new Be($n,[f+ke],t[f+ke],void 0,this));return yr(r,vt),m},_g=function(r,t){var o=this[Q],n=o.target,a=r.length,s=n.slice(0);t=t||0,n.set(r,t);for(var f=new Array(a),c=t;c<a+t;c++)f[c-t]=new Be(Yn,[c],n[c],s[c],this);yr(o,f)},xg={pop:pg,push:hg,shift:gg,unshift:vg,reverse:pm,sort:hm,fill:gm,copyWithin:vm,splice:yg},Sg={reverse:pm,sort:hm,fill:gm,copyWithin:vm,set:_g},Be=function e(r,t,o,n,a){"use strict";tr(this,e),this.type=r,this.path=t,this.value=o,this.oldValue=n,this.object=a},Ul=function(){"use strict";function e(r,t){tr(this,e);var{target:o,parent:n,ownKey:a,visited:s=new Set}=r;n&&a!==void 0?(this.parent=n,this.ownKey=a):(this.parent=null,this.ownKey=null),s.add(o);var f=t(o,this,s);s.delete(o),this.observers=[],this.revocable=Proxy.revocable(f,this),this.proxy=this.revocable.proxy,this.target=f,this.options=this.processOptions(r.options),this.options.async&&(this.batches=[])}return xr(e,[{key:"processOptions",value:function(t){if(t){if(typeof t!="object")throw new Error(`Observable options if/when provided, MAY only be an object, got '${t}'`);var o=Object.keys(t).filter(n=>!(n in sg));if(o.length)throw new Error(`'${o.join(", ")}' is/are not a valid Observable option/s`);return Object.assign({},t)}else return{}}},{key:"detach",value:function(){return this.parent=null,this.target}},{key:"set",value:function(t,o,n){var a=t[o];if(n!==a){var s=Gt(n,o,this);if(t[o]=s,a&&typeof a=="object"){var f=a[Q];f&&(a=f.detach())}var c=a===void 0?[new Be($n,[o],s,void 0,this.proxy)]:[new Be(Yn,[o],s,a,this.proxy)];yr(this,c)}return!0}},{key:"deleteProperty",value:function(t,o){var n=t[o];if(delete t[o],n&&typeof n=="object"){var a=n[Q];a&&(n=a.detach())}var s=[new Be(mi,[o],void 0,n,this.proxy)];return yr(this,s),!0}}]),e}(),ym=function(e){"use strict";xt(r,e);function r(t){return tr(this,r),yt(this,r,[t,ug])}return r}(Ul),_m=function(e){"use strict";xt(r,e);function r(t){return tr(this,r),yt(this,r,[t,fg])}return xr(r,[{key:"get",value:function(o,n){return xg[n]||o[n]}}]),r}(Ul),xm=function(e){"use strict";xt(r,e);function r(t){return tr(this,r),yt(this,r,[t,cg])}return xr(r,[{key:"get",value:function(o,n){return Sg[n]||o[n]}}]),r}(Ul),ct=Object.freeze({from:(e,r)=>{if(!e||typeof e!="object")throw new Error("observable MAY ONLY be created from a non-null object");if(e[Q])return e;if(Array.isArray(e))return new _m({target:e,ownKey:null,parent:null,options:r}).proxy;if(ArrayBuffer.isView(e))return new xm({target:e,ownKey:null,parent:null,options:r}).proxy;if(e instanceof Date)throw new Error(`${e} found to be one of a non-observable types`);return new ym({target:e,ownKey:null,parent:null,options:r}).proxy},isObservable:e=>!!(e&&e[Q]),observe:(e,r,t)=>{if(!ct.isObservable(e))throw new Error("invalid observable parameter");if(typeof r!="function")throw new Error(`observer MUST be a function, got '${r}'`);var o=e[Q].observers;o.some(n=>n[0]===r)?console.warn("observer may be bound to an observable only once; will NOT rebind"):o.push([r,lg(t)])},unobserve:(e,...r)=>{if(!ct.isObservable(e))throw new Error("invalid observable parameter");var t=e[Q].observers,o=t.length;if(o){if(!r.length){t.splice(0);return}for(;o;)r.indexOf(t[--o][0])>=0&&t.splice(o,1)}}})});var Kl={};D(Kl,{awaitStorage:()=>pi,createStorage:()=>ko,createStorageAndCallback:()=>Yl,createStorageAsync:()=>bg,getPreloadedStorage:()=>Wl,preloadStorageIfExists:()=>di,purgeStorage:()=>Eg,updateStorage:()=>$l,useObservable:()=>Wn});function zl(e){var r=on(t=>{ft(e,JSON.stringify(t))},500);return{get:x(function*(){try{return JSON.parse(yield Gn(e))}catch(t){throw new Error(`Failed to parse storage from '${e}'`,{cause:t})}}),set:function(){var t=x(function*(o){if(!o||typeof o!="object")throw new Error("data needs to be an object");r(o)});return function(o){return t.apply(this,arguments)}}(),exists:x(function*(){return yield _o(e)})}}function Wn(e,r){if(e.some(o=>o?.[bm]))throw new Error("An error occured while initializing the storage");if(e.some(o=>!ct.isObservable(o)))throw new Error("Argument passed isn't an Observable");var[,t]=React.useReducer(o=>~o,0);React.useEffect(()=>{var o=()=>t();return e.forEach(n=>ct.observe(n,o,r)),()=>{e.forEach(n=>ct.unobserve(n,o))}},[])}function $l(e,r){return kl.apply(this,arguments)}function kl(){return kl=x(function*(e,r){Wr[e]=r,zl(e).set(r)}),kl.apply(this,arguments)}function Yl(e,r,{dflt:t={},nullIfEmpty:o=!1}={}){var n,a=f=>{var c=new Proxy(ct.from(f),{get(m,R,O){return R===Symbol.for("vendetta.storage.emitter")?n||(n=new ba,ct.observe(m,F=>{for(var te of F)n.emit(te.type!=="delete"?"SET":"DEL",{path:te.path,value:te.value})}),n):Reflect.get(m,R,O)}}),_=()=>s.set(c);ct.observe(c,_),r(c)},s=zl(e);Wr[e]?a(Wr[e]):s.exists().then(function(){var f=x(function*(c){c?a(Wr[e]=yield s.get()):o?a(Wr[e]=null):(Wr[e]=t,yield s.set(t),a(t))});return function(c){return f.apply(this,arguments)}}())}function bg(e){return Hl.apply(this,arguments)}function Hl(){return Hl=x(function*(e,r={}){return new Promise(t=>Yl(e,t,r))}),Hl.apply(this,arguments)}function di(e){return Vl.apply(this,arguments)}function Vl(){return Vl=x(function*(e){if(Wr[e])return!0;var r=zl(e);return(yield r.exists())?(Wr[e]=yield r.get(),!1):!0}),Vl.apply(this,arguments)}function Eg(e){return Gl.apply(this,arguments)}function Gl(){return Gl=x(function*(e){yield yo(e),delete Wr[e]}),Gl.apply(this,arguments)}function pi(...e){return Promise.all(e.map(r=>r[Em]))}function Wl(e){return Wr[e]}var bm,Em,Wr,ko,Ho=g(()=>{"use strict";l();u();fe();zi();Sm();xo();xa();bm=Symbol.for("bunny.storage.initError"),Em=Symbol.for("bunny.storage.promise"),Wr={};ko=(e,r={})=>{var t=new Promise(c=>s=c),o,n,a,s;Yl(e,c=>{o=c,n=!0,s()},r);var f=()=>{if(n)return!0;throw new Error(`Attempted to access storage without initializing: ${e}`)};return new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(c=>[c,(_,...m)=>f()&&Reflect[c](o,...m)])),get(c,_,m){return _===bm?a:_===Em?t:f()&&Reflect.get(o??c,_,m)}})}});var hi,mt,Vo,Kn=g(()=>{"use strict";l();u();(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(hi||(hi={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(mt||(mt={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(Vo||(Vo={}))});var wm={};D(wm,{default:()=>Cg});function Tm(e){return"```js\n"+e.replaceAll("`","`"+Ag)+"\n```"}var Tg,wg,Ag,Cg,Am=g(()=>{"use strict";l();u();fe();de();Kn();De();Y();ne();Tg=C("inspect"),wg=x(function*(){}).constructor,Ag="\u200B";Cg=()=>({name:"eval",description:d.COMMAND_EVAL_DESC,shouldHide:()=>P.enableEvalCommand===!0,options:[{name:"code",type:mt.STRING,description:d.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:mt.BOOLEAN,description:d.COMMAND_EVAL_OPT_ASYNC}],execute([e,r],t){return x(function*(){try{var o=Tg.inspect(r?.value?yield wg(e.value)():eval?.(e.value)),n=o.length>2e3?o.slice(0,2e3)+"...":o;hr.sendBotMessage(t.channel.id,Tm(n))}catch(a){hr.sendBotMessage(t.channel.id,Tm(a?.stack??a))}})()}})});var Cm={};D(Cm,{default:()=>Rg});var Rg,Rm=g(()=>{"use strict";l();u();de();Kn();lt();Y();Rg=()=>({name:"debug",description:d.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:mt.BOOLEAN,description:d.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=st(),o=["**Bunny Debug Info**",`> Bunny: ${t.bunny.version} (${t.bunny.loader.name} ${t.bunny.loader.version})`,`> Discord: ${t.discord.version} (${t.discord.build})`,`> React: ${t.react.version} (RN ${t.react.nativeVersion})`,`> Hermes: ${t.hermes.version} (bcv${t.hermes.bytecodeVersion})`,`> System: ${t.os.name} ${t.os.version} ${t.os.sdk?`(SDK ${t.os.sdk})`:""}`.trimEnd(),`> Device: ${t.device.model} (${t.device.codename})`].join(`
`);e?.value?hr.sendBotMessage(r.channel.id,o):hr.sendMessage(r.channel.id,{content:o})}})});var Im={};D(Im,{default:()=>Ig});var Ig,Pm=g(()=>{"use strict";l();u();de();ut();Kn();Y();Ig=()=>({name:"plugins",description:d.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:mt.BOOLEAN,description:d.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=Object.values(j.plugins).filter(Boolean);t.sort((s,f)=>s.manifest.name.localeCompare(f.manifest.name));var o=t.filter(s=>s.enabled).map(s=>s.manifest.name),n=t.filter(s=>!s.enabled).map(s=>s.manifest.name),a=[`**Installed Plugins (${t.length}):**`,...o.length>0?[`Enabled (${o.length}):`,"> "+o.join(", ")]:[],...n.length>0?[`Disabled (${n.length}):`,"> "+n.join(", ")]:[]].join(`
`);e?.value?hr.sendBotMessage(r.channel.id,a):hr.sendMessage(r.channel.id,{content:a})}})});var gi={};D(gi,{patchCommands:()=>ql,registerCommand:()=>Go});function ql(){var e=q("getBuiltInCommands",co,([r],t)=>[...t,...qn.filter(o=>(r instanceof Array?r.includes(o.type):r===o.type)&&o.__bunny?.shouldHide?.()!==!1)]);return[(Am(),Ve(wm)),(Rm(),Ve(Cm)),(Pm(),Ve(Im))].forEach(r=>Go(r.default())),()=>{qn=[],e()}}function Go(e){var r;try{r=co.getBuiltInCommands(Vo.CHAT,!0,!1)}catch{r=co.getBuiltInCommands(Object.values(Vo),!0,!1)}r.sort((n,a)=>parseInt(a.id)-parseInt(n.id));var t=r[r.length-1];if(e.id=(parseInt(t.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},e.applicationId??="-1",e.type??=Vo.CHAT,e.inputType=hi.BUILT_IN,e.displayName??=e.name,e.untranslatedName??=e.name,e.displayDescription??=e.description,e.untranslatedDescription??=e.description,e.options)for(var o of e.options)o.displayName??=o.name,o.displayDescription??=o.description;return bt("execute",e,(n,a)=>{Promise.resolve(a.apply(e,n)).then(s=>{s&&typeof s=="object"&&hr.sendMessage(n[1].channel.id,s)}).catch(s=>{Ue.error("Failed to execute command",s)})}),qn.push(e),()=>qn=qn.filter(({id:n})=>n!==e.id)}var qn,Xn=g(()=>{"use strict";l();u();Kn();Ge();et();Y();qn=[]});var Jl={};D(Jl,{dispatcher:()=>vi,injectFluxInterceptor:()=>Xl,intercept:()=>Lg});function Xl(){var e=r=>{for(var t of yi){var o=t(r);o!=null&&(o?typeof o=="object"&&(Object.assign(r,o),r[Pg]=!0):r[Lm]=!0)}return Lm in r};return(vi._interceptors??=[]).unshift(e),()=>vi._interceptors&&=vi._interceptors.filter(r=>r!==e)}function Lg(e){return yi.push(e),()=>{yi=yi.filter(r=>r!==e)}}var Lm,Pg,vi,yi,Zl=g(()=>{"use strict";l();u();Y();Lm=Symbol.for("bunny.flux.blocked"),Pg=Symbol.for("bunny.flux.modified"),vi=Cr,yi=[]});var Ql={};D(Ql,{fs:()=>zn});var Nm=g(()=>{"use strict";l();u();xo()});var eu={};D(eu,{jsx:()=>Pl});var Om=g(()=>{"use strict";l();u();fi()});var ru={};D(ru,{assets:()=>un,commands:()=>gi,debug:()=>ri,flux:()=>Jl,native:()=>Ql,patcher:()=>Qt,react:()=>eu,settings:()=>Ba,storage:()=>Kl});var tu=g(()=>{"use strict";l();u();le();Xn();lt();Zl();Nm();Ge();Om();De();Ho()});function Jn(e,r){return(...t)=>{var o=r(...t);return e.push(o),o}}function Dm(e){var r=new Array,t={...window.bunny,api:{...window.bunny.api,patcher:{before:Jn(r,Qt.before),after:Jn(r,Qt.after),instead:Jn(r,Qt.instead)},commands:{...window.bunny.api.commands,registerCommand:Jn(r,Go)},flux:{...window.bunny.api.flux,intercept:Jn(r,window.bunny.api.flux.intercept)}},plugin:{createStorage:()=>ko(`plugins/storage/${e}.json`),manifest:_e.get(e),logger:Ue}};return{object:t,disposers:r}}var Mm=g(()=>{"use strict";l();u();tu();Xn();Ho();et();So()});var ta={};D(ta,{apiObjects:()=>hu,corePluginInstances:()=>Qn,deleteRepository:()=>Dg,disablePlugin:()=>_u,enablePlugin:()=>yu,getId:()=>zo,getPluginSettingsComponent:()=>vu,initPlugins:()=>Su,installPlugin:()=>Mg,isCorePlugin:()=>gu,isPluginEnabled:()=>xi,isPluginInstalled:()=>pt,pluginInstances:()=>Kr,pluginRepositories:()=>dt,pluginSettings:()=>Ie,refreshPlugin:()=>Og,registeredPlugins:()=>_e,startPlugin:()=>ra,stopPlugin:()=>Si,uninstallPlugin:()=>Um,updateAndWritePlugin:()=>Zn,updatePlugins:()=>xu,updateRepository:()=>au});function xe(e,r,t){if(!e)throw new Error(`[${r}] Attempted to ${t}`)}function Bm(e,r){if(Oo.gt(e,r))return!0;var t=Oo.coerce(e);return t==null?!1:Oo.prerelease(e)?.includes("dev")&&Oo.eq(t,r)}function ea(e){return"parentRepository"in e}function gu(e){return Qn.has(e)}function zo(e){var r=_i.get(e);return xe(r,e?.name??"unknown","getting ID from an unregistered/invalid manifest"),r}function vu(e){var r=Kr.get(e);return r&&r.SettingsComponent?r.SettingsComponent:null}function pt(e){return Ie[e]!=null}function xi(e){return!!Ie[e]?.enabled}function Zn(e,r,t){return ou.apply(this,arguments)}function ou(){return ou=x(function*(e,r,t){var o=yield jm(e,`plugins/${r}/manifest.json`);if(o.parentRepository=e,t){o.jsPath=`plugins/scripts/${r}.js`;var n=yield Ng(e,`plugins/${r}/index.js`);yield ft(o.jsPath,n)}if(yield $l(`plugins/manifests/${r}.json`,o),_e.has(r)){var a=_e.get(r);return Object.assign(a,o)}return o}),ou.apply(this,arguments)}function Og(e,r){return nu.apply(this,arguments)}function nu(){return nu=x(function*(e,r){var t=_e.get(e);xe(t,e,"refresh a non-registered plugin"),xe(Kr.get(e),e,"refresh a non-started plugin"),Si(e),ea(t)&&(t=yield Zn(r??t.parentRepository,e,!0)),_e.delete(e),_e.set(e,t),_i.set(t,e),yield ra(e)}),nu.apply(this,arguments)}function au(e){return iu.apply(this,arguments)}function iu(){return iu=x(function*(e){var r=yield jm(e,"repo.json"),t=dt[e],o=!1;if(t)for(var a in t)r[a]||delete t[a];else{for(var n in r)if(Qn.has(n))throw new Error(`Plugins can't have the same ID as any of Bunny core plugin '${n}'`);o=!0,dt[e]=r}yield Promise.all(Object.keys(r).map(function(){var _=x(function*(m){if(!t||!t[m]||r[m].alwaysFetch||Bm(r[m].version,t[m].version))o=!0,dt[e][m]=r[m],yield Zn(e,m,!!(t&&Ie[m]));else{var R=yield di(`plugins/manifests/${m}.json`);R===void 0&&(yield Zn(e,m,!!(t&&Ie[m])))}});return function(m){return _.apply(this,arguments)}}()));for(var s in r){var f=Wl(`plugins/manifests/${s}.json`);if(f!==void 0){var c=_e.get(s);c&&!Bm(f.version,c.version)||(_e.set(s,f),_i.set(f,s))}}return o}),iu.apply(this,arguments)}function Dg(e){return su.apply(this,arguments)}function su(){return su=x(function*(e){xe(e!==yn,e,"delete the official repository"),xe(dt[e],e,"delete a non-registered repository");var r=[];for(var[t,o]of _e)!ea(o)||o.parentRepository!==e||(pt(t)&&r.push(Um(t)),_e.delete(t));delete dt[e],yield Promise.all(r)}),su.apply(this,arguments)}function yu(e,r){return lu.apply(this,arguments)}function lu(){return lu=x(function*(e,r){xe(pt(e),e,"enable a non-installed plugin"),Ie[e].enabled=!0,r&&(yield ra(e))}),lu.apply(this,arguments)}function _u(e){xe(pt(e),e,"disable a non-installed plugin"),Kr.has(e)&&Si(e),Ie[e].enabled=!1}function Mg(e,r){return uu.apply(this,arguments)}function uu(){return uu=x(function*(e,r){var t=_e.get(e);xe(t,e,"install an non-registered plugin"),xe(!pt(e),e,"install an already installed plugin"),xe(ea(t),e,"install a core plugin"),yield Zn(t.parentRepository,e,!0),Ie[e]={enabled:!0},r&&ra(e)}),uu.apply(this,arguments)}function Um(e){return fu.apply(this,arguments)}function fu(){return fu=x(function*(e){var r=_e.get(e);xe(r,e,"uninstall an unregistered plugin"),xe(pt(e),e,"uninstall a non-installed plugin"),xe(ea(r),e,"uninstall a core plugin"),Kr.has(e)&&Si(e),delete Ie[e],yield yo(`plugins/scripts/${e}.js`)}),fu.apply(this,arguments)}function ra(e){return cu.apply(this,arguments)}function cu(){return cu=x(function*(e){var r=_e.get(e);xe(r,e,"start a non-registered plugin"),xe(pt(e),e,"start a non-installed plugin"),xe(Ie[e]?.enabled,e,"start a disabled plugin"),xe(!Kr.has(e),e,"start an already started plugin"),yield di(`plugins/storage/${e}.json`);var t;if(ea(r)){try{var o=yield Gn(r.jsPath),n=globalEvalWithSourceUrl(`(bunny,definePlugin)=>{${o};return plugin?.default ?? plugin;}`,`bunny-plugin/${e}-${r.version}`)}catch(s){throw new Error("An error occured while parsing plugin's code, possibly a syntax error?",{cause:s})}try{var a=Dm(e);if(t=n(a.object,s=>Object.assign(s,{manifest:r})),!t)throw new Error(`Plugin '${e}' does not export a valid plugin instance`);hu.set(e,a),Kr.set(e,t)}catch(s){throw new Error("An error occured while instantiating plugin's code",{cause:s})}}else t=Qn.get(e),xe(t,e,"start a non-existent core plugin"),Kr.set(e,t);try{t.start?.()}catch(s){throw new Error("An error occured while starting the plugin",{cause:s})}}),cu.apply(this,arguments)}function Si(e){var r=Kr.get(e);xe(r,e,"stop a non-started plugin"),r.stop?.();var t=hu.get(e);t?.disposers.forEach(o=>o()),Kr.delete(e)}function Bg(){return mu.apply(this,arguments)}function mu(){return mu=x(function*(){try{yield au(yn)}catch(e){console.error("Failed to update official plugins repository",e)}yield p(Object.keys(dt).map(function(){var e=x(function*(r){r!==yn&&(yield au(r))});return function(r){return e.apply(this,arguments)}}()))}),mu.apply(this,arguments)}function xu(){return du.apply(this,arguments)}function du(){return du=x(function*(){yield pi(dt,Ie);var e=fm();for(var r in e){var{default:t,preenabled:o}=e[r];Ie[r]??={enabled:o??!0},_e.set(r,t.manifest),_i.set(t.manifest,r),Qn.set(r,t)}yield Bg()}),du.apply(this,arguments)}function Su(){return pu.apply(this,arguments)}function pu(){return pu=x(function*(){yield pi(dt,Ie),yield p([..._e.keys()].map(function(){var e=x(function*(r){xi(r)&&(yield ra(r))});return function(r){return e.apply(this,arguments)}}()))}),pu.apply(this,arguments)}var Qn,_e,Kr,hu,dt,Ie,_i,Fm,Ng,jm,So=g(()=>{"use strict";l();u();fe();ui();xo();Ho();Tr();Pt();Y();Mm();Qn=new Map,_e=new Map,Kr=new Map,hu=new Map,dt=ko("plugins/repositories.json"),Ie=ko("plugins/settings.json"),_i=new WeakMap,Fm=(e,r)=>ze(new URL(r,e),{cache:"no-store"}),Ng=(e,r)=>Fm(e,r).then(t=>t.text()),jm=(e,r)=>Fm(e,r).then(t=>t.json())});var Hm={};D(Hm,{default:()=>km});function km({plugin:e,navigation:r}){return e.usePluginState(),i(uo,{children:b(bo.ScrollView,{contentContainerStyle:{gap:8,marginBottom:12},children:[b(bo.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[b(bo.View,{style:{gap:4},children:[i(H,{variant:"heading-xl/semibold",children:e.name}),i(H,{variant:"text-md/medium",color:"text-muted",children:e.description})]}),i(bo.View,{style:{marginLeft:"auto"},children:e.getPluginSettingsComponent()&&i(ue,{size:"md",text:"Configure",variant:"secondary",icon:y("WrenchIcon"),onPress:()=>{kt("PluginInfoActionSheet"),r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}})})]}),i(bo.View,{style:{flexDirection:"row",justifyContent:"center",alignContent:"center"},children:i(H,{variant:"text-lg/medium",children:"Oops, you shouldn't see this!"})})]})})}var bo,Vm=g(()=>{"use strict";l();u();X();le();Hn();re();bo=k(ae())});function bu(e){return{id:e.id,name:e.name,description:e.description,authors:e.authors,isEnabled:()=>xi(zo(e)),isInstalled:()=>e.id in Ie,usePluginState(){Wn([Ie])},toggle(r){r?yu(zo(e),!0):_u(zo(e))},resolveSheetComponent(){return Promise.resolve().then(()=>(Vm(),Hm))},getPluginSettingsComponent(){return vu(zo(e))}}}var Gm=g(()=>{"use strict";l();u();So();Ho()});var $m={};D($m,{default:()=>zm});function zm({plugin:e,navigation:r}){e.usePluginState();var t=j.plugins[e.id],o=e.getPluginSettingsComponent();return i(uo,{children:b(oa.ScrollView,{children:[b(oa.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[i(H,{variant:"heading-xl/semibold",children:e.name}),i(oa.View,{style:{marginLeft:"auto"},children:o&&i(ue,{size:"md",text:"Configure",variant:"secondary",icon:y("WrenchIcon"),onPress:()=>{kt("PluginInfoActionSheet"),r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:o})}})})]}),b(Ot.Group,{children:[i(Ot,{label:d.REFETCH,icon:i(w.Icon,{source:y("RetryIcon")}),onPress:x(function*(){t.enabled&&j.stopPlugin(e.id,!1);try{yield j.fetchPlugin(e.id),V(d.PLUGIN_REFETCH_SUCCESSFUL,y("toast_image_saved"))}catch{V(d.PLUGIN_REFETCH_FAILED,y("Small"))}t.enabled&&(yield j.startPlugin(e.id)),kt("PluginInfoActionSheet")})}),i(Ot,{label:d.COPY_URL,icon:i(w.Icon,{source:y("copy")}),onPress:()=>{ar.setString(e.id),V.showCopyToClipboard()}}),i(Ot,{label:t.update?d.DISABLE_UPDATES:d.ENABLE_UPDATES,icon:i(w.Icon,{source:y("ic_download_24px")}),onPress:()=>{t.update=!t.update,V(ir("TOASTS_PLUGIN_UPDATE",{update:t.update,name:e.name}),y("toast_image_saved"))}}),i(Ot,{label:d.CLEAR_DATA,icon:i(w.Icon,{source:y("ic_duplicate")}),onPress:()=>Or({title:d.HOLD_UP,content:ir("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.name}),confirmText:d.CLEAR,cancelText:d.CANCEL,confirmColor:"red",onConfirm:x(function*(){t.enabled&&j.stopPlugin(e.id,!1);try{yield j.fetchPlugin(e.id),V(d.PLUGIN_REFETCH_SUCCESSFUL,y("toast_image_saved"))}catch{V(d.PLUGIN_REFETCH_FAILED,y("Small"))}var n;try{Ia(e.id),n=["CLEAR_DATA_SUCCESSFUL","trash"]}catch{n=["CLEAR_DATA_FAILED","Small"]}V(ir(n[0],{name:e.name}),y(n[1])),t.enabled&&(yield j.startPlugin(e.id)),kt("PluginInfoActionSheet")})})}),i(Ot,{label:d.DELETE,icon:i(w.Icon,{source:y("ic_message_delete")}),onPress:()=>Or({title:d.HOLD_UP,content:ir("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.name}),confirmText:d.DELETE,cancelText:d.CANCEL,confirmColor:"red",onConfirm:()=>{try{j.removePlugin(e.id)}catch(n){V(String(n),y("Small"))}kt("PluginInfoActionSheet")}})})]})]})})}var oa,Ym=g(()=>{"use strict";l();u();fe();X();de();Uo();ut();pe();le();Y();re();Hn();Lr();oa=k(ae())});function Eu(e){return{id:e.id,name:e.manifest.name,description:e.manifest.description,authors:e.manifest.authors,icon:e.manifest.vendetta?.icon,isEnabled:()=>e.enabled,isInstalled:()=>!!(e&&j.plugins[e.id]),usePluginState(){z(j.plugins[e.id])},toggle(r){r?j.startPlugin(e.id):j.stopPlugin(e.id)},resolveSheetComponent(){return Promise.resolve().then(()=>(Ym(),$m))},getPluginSettingsComponent(){return j.getSettings(e.id)}}}var Wm=g(()=>{"use strict";l();u();ut();pe()});var Jm={};D(Jm,{default:()=>Xm});function jg(e){var r=e.useItems();return i(go,{CardComponent:wl,title:d.PLUGINS,searchKeywords:["name","description",t=>t.authors?.map(o=>typeof o=="string"?o:o.name).join()],sortOptions:{"Name (A-Z)":(t,o)=>t.name.localeCompare(o.name),"Name (Z-A)":(t,o)=>o.name.localeCompare(t.name)},safeModeHint:{message:d.SAFE_MODE_NOTICE_PLUGINS},items:r,...e})}function Xm(){z(P);var e=me.useNavigation();return i(jg,{useItems:()=>{z(j.plugins),Wn([Ie]);var r=Object.values(j.plugins).map(Eu),t=[..._e.values()].filter(o=>pt(o.id)&&!gu(o.id)).map(bu);return[...r,...t]},ListHeaderComponent:()=>{var r=Object.values(j.plugins).filter(t=>!t.id.startsWith(Er)&&!t.id.startsWith(oo));return r.length?i($o.View,{style:{marginVertical:12,marginHorizontal:10},children:i(pr,{border:"strong",children:b($o.View,{style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[b($o.View,{style:{gap:6,flexShrink:1},children:[i(H,{variant:"heading-md/bold",children:"Unproxied Plugins Found"}),i(H,{variant:"text-sm/medium",color:"text-muted",children:"Plugins installed from unproxied sources may run unverified code in this app without your awareness."})]}),i($o.View,{style:{marginLeft:"auto"},children:i(Ce,{size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary"),style:{marginLeft:8},onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Unproxied Plugins",render:()=>i(Ln,{data:r,contentContainerStyle:{padding:8},ItemSeparatorComponent:()=>i($o.View,{style:{height:8}}),renderItem:({item:t})=>i(pr,{children:i(H,{variant:"heading-md/semibold",children:t.id})})})})}})})]})})}):null},installAction:{label:"Install a plugin",fetchFn:function(){var r=x(function*(t){if(!t.startsWith(Er)&&!t.startsWith(oo)&&!P.developerSettings)Km("bunny-plugin-unproxied-confirmation",i(qm,{title:"Hold On!",content:"You're trying to install a plugin from an unproxied external source. This means you're trusting the creator to run their code in this app without your knowledge. Are you sure you want to continue?",extraContent:i(pr,{children:i(H,{variant:"text-md/bold",children:t})}),actions:b(Fg,{children:[i(Tu,{text:"Continue",variant:"primary",onPress:()=>{j.installPlugin(t).then(()=>V(d.TOASTS_INSTALLED_PLUGIN,y("Check"))).catch(o=>Km("bunny-plugin-install-failed",i(qm,{title:"Install Failed",content:`Unable to install plugin from '${t}':`,extraContent:i(pr,{children:i(H,{variant:"text-md/normal",children:o instanceof Error?o.message:String(o)})}),actions:i(Tu,{text:"Okay",variant:"primary"})})))}}),i(Tu,{text:"Cancel",variant:"secondary"})]})}));else return yield j.installPlugin(t)});return function(t){return r.apply(this,arguments)}}()}})}var $o,Km,qm,Fg,Tu,Zm=g(()=>{"use strict";l();u();fe();X();de();ii();Wc();ut();pe();So();le();De();Ho();Lr();Pt();Ee();at();Y();re();$o=k(ae());Gm();Wm();({openAlert:Km}=G(()=>U("openAlert","dismissAlert"))),{AlertModal:qm,AlertActions:Fg,AlertActionButton:Tu}=G(()=>U("AlertModal","AlertActions"))});function wu(e){var r=Hg();return i(pr,{children:b(he,{spacing:16,children:[b(Eo.View,{style:{flexDirection:"row",alignItems:"center"},children:[b(Eo.View,{style:r.headerLeading,children:[i(H,{style:r.headerLabel,children:e.headerLabel}),e.headerSublabel&&i(H,{style:r.headerSubtitle,children:e.headerSublabel})]}),b(Eo.View,{style:[r.headerTrailing,{marginLeft:"auto"}],children:[b(Eo.View,{style:r.actions,children:[e.overflowActions&&i(Ce,{onPress:()=>kg({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&i($r.Icon,{style:{marginRight:8},source:y(e.headerIcon)}),onClose:()=>Ug()},options:e.overflowActions?.map(t=>({...t,icon:y(t.icon)}))}),size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary")}),e.actions?.map(({icon:t,onPress:o,disabled:n})=>i(Ce,{onPress:o,disabled:n,size:"sm",variant:"secondary",icon:y(t)}))]}),e.toggleType&&(e.toggleType==="switch"?i(Ks,{value:e.toggleValue(),onValueChange:e.onToggleChange}):i(Eo.TouchableOpacity,{onPress:()=>{e.onToggleChange?.(!e.toggleValue())},children:i(qs,{selected:e.toggleValue()})}))]})]}),e.descriptionLabel&&i(H,{variant:"text-md/medium",children:e.descriptionLabel})]})})}var Eo,Ug,kg,Hg,Qm=g(()=>{"use strict";l();u();X();le();Ee();re();ne();po();Yr();Eo=k(ae()),{hideActionSheet:Ug}=G(()=>U("openLazy","hideActionSheet")),{showSimpleActionSheet:kg}=G(()=>U("showSimpleActionSheet")),Hg=it({card:{backgroundColor:Re?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...vr["heading-md/semibold"],color:Re.TEXT_NORMAL},headerSubtitle:{...vr["text-md/semibold"],color:Re.TEXT_MUTED},descriptionLabel:{...vr["text-md/semibold"],color:Re.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:Re.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}})});function ed(e,r){try{tt(e?r:null),Sn(e?r:null)}catch(t){console.error("Error while selectAndApply,",t)}}function Au({item:e}){z(e);var[r,t]=React.useState(!1);if(r)return null;var{authors:o}=e.data;return i(wu,{headerLabel:e.data.name,headerSublabel:o?`by ${o.map(n=>n.name).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:P.safeMode?.enabled?void 0:"radio",toggleValue:()=>ie[e.id].selected,onToggleChange:n=>{ed(n,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:d.REFETCH,onPress:()=>{io(e.id,e.selected).then(()=>{V(d.THEME_REFETCH_SUCCESSFUL,y("toast_image_saved"))}).catch(()=>{V(d.THEME_REFETCH_FAILED,y("Small"))})}},{icon:"copy",label:d.COPY_URL,onPress:()=>{ar.setString(e.id),V.showCopyToClipboard()}},{icon:"ic_message_delete",label:d.DELETE,isDestructive:!0,onPress:()=>Or({title:d.HOLD_UP,content:ir("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:d.DELETE,cancelText:d.CANCEL,confirmColor:"red",onConfirm:()=>{so(e.id).then(n=>{t(!0),n&&ed(!1,e)}).catch(n=>{V(n.message,y("Small"))})}})}]})}var rd=g(()=>{"use strict";l();u();X();de();Qm();Uo();pe();nr();le();De();Y();Lr()});var od={};D(od,{default:()=>td});function td(){return z(P),z(ie),i(go,{title:d.THEMES,searchKeywords:["data.name","data.description",e=>e.data.authors?.map(r=>r.name).join(", ")],sortOptions:{"Name (A-Z)":(e,r)=>e.name.localeCompare(r.name),"Name (Z-A)":(e,r)=>r.name.localeCompare(e.name)},installAction:{label:"Install a theme",fetchFn:rt},items:Object.values(ie),safeModeHint:{message:ir("SAFE_MODE_NOTICE_THEMES",{enabled:!!P.safeMode?.currentThemeId}),footer:P.safeMode?.currentThemeId&&i(ue,{size:"small",text:d.DISABLE_THEME,onPress:()=>delete P.safeMode?.currentThemeId,style:{marginTop:8}})},CardComponent:Au})}var nd=g(()=>{"use strict";l();u();X();de();ii();rd();pe();nr();De();re()});var ia={};D(ia,{fonts:()=>se,installFont:()=>Vg,removeFont:()=>bi,saveFont:()=>Yo,selectFont:()=>aa,updateFonts:()=>Ou,validateFont:()=>na});function ad(e){return Cu.apply(this,arguments)}function Cu(){return Cu=x(function*(e){if(!e&&e!==null)throw new Error("Arg font must be a valid object or null");e?yield ft("fonts.json",JSON.stringify(e)):yield yo("fonts.json")}),Cu.apply(this,arguments)}function na(e){if(!e||typeof e!="object")throw new Error("URL returned a null/non-object JSON");if(typeof e.spec!="number")throw new Error("Invalid font 'spec' number");if(e.spec!==1)throw new Error("Only fonts which follows spec:1 are supported");var r=["name","main"];if(r.some(t=>!e[t]))throw new Error(`Font is missing one of the fields: ${r}`);if(e.name.startsWith("__"))throw new Error("Font names cannot start with __");if(e.name in se)throw new Error(`There is already a font named '${e.name}' installed`)}function Yo(e){return Ru.apply(this,arguments)}function Ru(){return Ru=x(function*(e,r=!1){var t;if(typeof e=="object"&&e.__source&&(e=e.__source),typeof e=="string")try{t=yield(yield ze(e)).json(),t.__source=e}catch(o){throw new Error(`Failed to fetch fonts at ${e}`,{cause:o})}else t=e;na(t);try{yield Promise.all(Object.entries(t.main).map(function(){var o=x(function*([n,a]){var s=a.split(".").pop();s!=="ttf"&&s!=="otf"&&(s="ttf");var f=`downloads/fonts/${t.name}/${n}.${s}`;(yield _o(f))||(yield jl(a,f))});return function(n){return o.apply(this,arguments)}}()))}catch(o){throw new Error("Failed to download font assets",{cause:o})}return se[t.name]=t,r&&ad(se[t.name]),t}),Ru.apply(this,arguments)}function Vg(e){return Iu.apply(this,arguments)}function Iu(){return Iu=x(function*(e,r=!1){if(typeof e!="string"||Object.values(se).some(o=>typeof o=="object"&&o.__source===e))throw new Error("Invalid source or font was already installed");var t=yield Yo(e);r&&(yield aa(t.name))}),Iu.apply(this,arguments)}function aa(e){return Pu.apply(this,arguments)}function Pu(){return Pu=x(function*(e){if(e&&!(e in se))throw new Error("Selected font does not exist!");e?se.__selected=e:delete se.__selected,yield ad(e==null?null:se[e])}),Pu.apply(this,arguments)}function bi(e){return Lu.apply(this,arguments)}function Lu(){return Lu=x(function*(e){var r=se.__selected===e;r&&(yield aa(null)),delete se[e];try{yield Fl(`downloads/fonts/${e}`)}catch{}}),Lu.apply(this,arguments)}function Ou(){return Nu.apply(this,arguments)}function Nu(){return Nu=x(function*(){yield It(se),yield p(Object.keys(se).map(e=>Yo(se[e],se.__selected===e)))}),Nu.apply(this,arguments)}var se,To=g(()=>{"use strict";l();u();fe();pe();xo();Tr();se=Sr(or(br("BUNNY_FONTS")))});function Gg(e){var r=e.map(o=>{var{pathname:n}=new URL(o),a=n.replace(/\.[^/.]+$/,"");return a.split("/").pop()}).filter(Boolean),t=r.reduce((o,n)=>n.length<o.length?n:o,r[0]||"");return t?.replace(/-[A-Za-z]*$/,"")||null}function zg({fonts:e,setName:r}){var t=Da().data,o=t.fonts,[n,a]=(0,Pe.useState)(Gg(Object.values(o))),[s,f]=(0,Pe.useState)(void 0);return b(ht.View,{style:{padding:8,paddingBottom:16,gap:12},children:[i(Ye,{autoFocus:!0,size:"md",label:d.FONT_NAME,value:n,placeholder:n||"Whitney",onChange:a,errorMessage:s,state:s?"error":void 0}),i(H,{variant:"text-xs/normal",color:"text-muted",children:ir("THEME_EXTRACTOR_DESC",{fonts:Object.keys(o).join(d.SEPARATOR)})}),i(ue,{size:"md",variant:"primary",text:d.EXTRACT,disabled:!n,onPress:()=>{if(n)try{na({spec:1,name:n,main:o}),r(n),Object.assign(e,o),Mu.hideActionSheet()}catch(c){f(String(c))}}})]})}function $g({fonts:e,setName:r,setSource:t}){var[o,n]=(0,Pe.useState)(""),[a,s]=(0,Pe.useState)(!1),[f,c]=(0,Pe.useState)(void 0);return b(ht.View,{style:{padding:8,paddingBottom:16,gap:12},children:[i(Ye,{autoFocus:!0,size:"md",label:"Font Link",value:o,placeholder:"https://link.to/font/pack.json",onChange:n,errorMessage:f,state:f?"error":void 0}),i(ue,{size:"md",variant:"primary",text:"Import",disabled:!o||a,loading:a,onPress:()=>{s(!0),x(function*(){var _=yield ze(o,{cache:"no-store"}),m=yield _.json();na(m),r(m.name),t(o),Object.assign(e,m.main)})().then(()=>Mu.hideActionSheet()).catch(_=>c(String(_))).finally(()=>s(!1))}})]})}function Yg(e){var[r,t]=(0,Pe.useState)(e.name),[o,n]=(0,Pe.useState)(e.fontEntries[e.name]);return b(ht.View,{style:{padding:8,paddingBottom:16,gap:12},children:[i(Ye,{autoFocus:!0,size:"md",label:"Family Name (to override)",value:r,placeholder:"ggsans-Bold",onChange:t}),i(Ye,{size:"md",label:"Font URL",value:o,placeholder:"https://link.to/the/font.ttf",onChange:n}),i(ue,{size:"md",variant:"primary",text:"Apply",onPress:()=>{delete e.fontEntries[e.name],e.fontEntries[r]=o}})]})}function Du(e,r,t){Mu.openLazy(Promise.resolve({default:()=>i(ge,{children:b(uo,{children:[i(Js,{title:"Import Font"}),i(e,{fonts:r,...t})]})})}),"FontEditorActionSheet")}function Wg({fontEntry:e}){var r=(0,Pe.useRef)(),t=(0,Pe.useRef)(),[o,n]=(0,Pe.useState)(!1),[a,s]=(0,Pe.useState)();return b(ht.View,{style:{flexDirection:"row",gap:8,justifyContent:"flex-start"},children:[i(ht.View,{style:{flex:1},children:i(Ye,{isRound:!0,size:"md",label:o?r.current:void 0,placeholder:o?"https://path.to/the/file.ttf":"PostScript name (e.g. ggsans-Bold)",leadingIcon:()=>o?null:i(w.Icon,{source:y("PlusSmallIcon")}),leadingText:o?r.current:"",onChange:f=>(o?t:r).current=f,errorMessage:a,state:a?"error":void 0})}),o&&i(Ce,{size:"md",variant:"secondary",onPress:()=>{r.current="",n(!1)},icon:y("TrashIcon")}),i(Ce,{size:"md",variant:"primary",onPress:()=>{if(!o&&r.current)n(!0);else if(o&&r.current&&t.current)try{var f=new URL(t.current);if(!f.protocol||!f.host)throw"Invalid URL";e[r.current]=t.current,r.current=void 0,t.current=void 0,n(!1)}catch(c){s(String(c))}},icon:y(o?"PlusSmallIcon":"ArrowLargeRightIcon")})]})}function sa(e){var[r,t]=(0,Pe.useState)(e.name),[o,n]=(0,Pe.useState)(),[a,s]=(0,Pe.useState)(!1),f=(0,Pe.useMemo)(()=>vn(e.name?{...se[e.name].main}:{}).proxy,[e.name]),c=z(f),_=me.useNavigation();return i(ht.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:b(he,{style:{paddingVertical:24,paddingHorizontal:12},spacing:12,children:[e.name?b(Me,{title:"Actions",children:[i(w,{label:"Refetch fonts from source",icon:i(w.Icon,{source:y("RetryIcon")}),onPress:x(function*(){var m={...se[e.name]};yield bi(e.name),yield Yo(m),_.goBack()})}),i(w,{label:"Delete font pack",icon:i(w.Icon,{source:y("TrashIcon")}),onPress:()=>bi(e.name).then(()=>_.goBack())})]}):b(Me,{title:"Import",children:[Da()?.data?.fonts&&i(w,{label:d.LABEL_EXTRACT_FONTS_FROM_THEME,subLabel:d.DESC_EXTRACT_FONTS_FROM_THEME,icon:i(w.Icon,{source:y("HammerIcon")}),onPress:()=>Du(zg,c,{setName:t})}),i(w,{label:"Import font entries from a link",subLabel:"Directly import from a link with a pre-configured JSON file",icon:i(w.Icon,{source:y("LinkIcon")}),onPress:()=>Du($g,c,{setName:t,setSource:n})})]}),i(Ye,{size:"lg",value:r,label:d.FONT_NAME,placeholder:"Whitney",onChange:t}),b(Me,{title:"Font Entries",children:[Object.entries(c).map(([m,R])=>i(w,{label:m,subLabel:R,trailing:b(he,{spacing:2,direction:"horizontal",children:[i(Ce,{size:"sm",variant:"secondary",icon:y("PencilIcon"),onPress:()=>Du(Yg,c,{name:m,fontEntries:c})}),i(Ce,{size:"sm",variant:"secondary",icon:y("TrashIcon"),onPress:()=>delete c[m]})]})})),i(w,{label:i(Wg,{fontEntry:c})})]}),i(ht.View,{style:{flexDirection:"row",justifyContent:"flex-end",bottom:0,left:0},children:i(ue,{size:"lg",loading:a,disabled:a||!r||Object.keys(c).length===0,variant:"primary",text:e.name?"Save":"Import",onPress:x(function*(){r&&(s(!0),e.name?(Object.assign(se[e.name],{name:r,main:c,__edited:!0}),s(!1),_.goBack()):Yo({spec:1,name:r,main:c,__source:o}).then(()=>_.goBack()).finally(()=>s(!1)))}),icon:y(e.name?"toast_image_saved":"DownloadIcon"),style:{marginLeft:8}})})]})})}var Pe,ht,Mu,Bu=g(()=>{"use strict";l();u();fe();X();de();pe();To();nr();le();Tr();Y();re();ne();Ir();Pe=k(Ut()),ht=k(ae()),Mu=C("hideActionSheet")});var sd=Mr((RI,id)=>{l();u();id.exports=Rt()["@shopify/react-native-skia"]});function qg({font:e}){var r=Kg(mo.colors.TEXT_NORMAL),{fontFamily:t,fontSize:o}=vr["text-md/medium"],n=t.split(/,/g)[0],a=Ko.useFont(e.main[n])?.getTypeface(),s=(0,ld.useMemo)(()=>{if(!a)return null;var f=SkiaApi.TypefaceFontProvider.Make();return f.registerFont(a,n),SkiaApi.ParagraphBuilder.Make({},f).pushStyle({color:SkiaApi.Color(r),fontFamilies:[n],fontSize:o}).addText("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.").pop().build()},[a]);return i(Wo.View,{style:{height:64},children:a?i(Ko.Canvas,{style:{height:64},children:i(Ko.Paragraph,{paragraph:s,x:0,y:0,width:300})}):i(Wo.View,{style:{justifyContent:"center",alignItems:"center"},children:i(H,{color:"text-muted",variant:"heading-lg/semibold",children:"Loading..."})})})}function Fu({item:e}){z(se);var r=me.useNavigation(),t=se.__selected===e.name;return i(pr,{children:b(he,{spacing:16,children:[b(Wo.View,{style:{flexDirection:"row",alignItems:"center"},children:[i(Wo.View,{children:i(H,{variant:"heading-lg/semibold",children:e.name})}),i(Wo.View,{style:{marginLeft:"auto"},children:b(he,{spacing:12,direction:"horizontal",children:[i(Ce,{onPress:()=>{r.push("BUNNY_CUSTOM_PAGE",{title:"Edit Font",render:()=>i(sa,{name:e.name})})},size:"sm",variant:"secondary",disabled:t,icon:y("PencilIcon")}),i(ue,{size:"sm",variant:t?"secondary":"primary",text:t?"Unapply":"Apply",onPress:x(function*(){yield aa(t?null:e.name),Or({title:d.HOLD_UP,content:"Reload Discord to apply changes?",confirmText:d.RELOAD,cancelText:d.CANCEL,confirmColor:"red",onConfirm:Qo.reload})})})]})})]}),i(qg,{font:e})]})})}var Ko,ld,Wo,Kg,ud=g(()=>{"use strict";l();u();fe();X();de();Uo();pe();To();le();Qr();Ee();at();Y();re();Ko=k(sd());Yr();ld=k(Ut()),Wo=k(ae());Bu();({useToken:Kg}=G(()=>U("useToken")))});var cd={};D(cd,{default:()=>fd});function fd(){z(P),z(se);var e=me.useNavigation();return i(go,{title:d.FONTS,searchKeywords:["name","description"],sortOptions:{"Name (A-Z)":(r,t)=>r.name.localeCompare(t.name),"Name (Z-A)":(r,t)=>t.name.localeCompare(r.name)},items:Object.values(se),safeModeHint:{message:d.SAFE_MODE_NOTICE_FONTS},CardComponent:Fu,installAction:{label:"Install a font",onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Import Font",render:()=>i(sa,{})})}}})}var md=g(()=>{"use strict";l();u();X();de();ii();Bu();pe();To();De();Y();ud()});function dd(e,r){var[t,o]=(0,qo.useState)(2),n=()=>_o(e,r).then(s=>o(s?1:0)).catch(()=>o(3)),a=(0,qo.useMemo)(()=>new Proxy(zn,{get(s,f,c){var _=Reflect.get(s,f,c);if(typeof _=="function")return(...m)=>{var R=(n(),_(...m));return R?.constructor?.name==="Promise"&&(o(2),R.finally(n)),R}}}),[]);return(0,qo.useEffect)(()=>void n(),[]),[t,a]}var qo,qr,pd=g(()=>{"use strict";l();u();xo();qo=k(Ut());(function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"})(qr||(qr={}))});function ju({asset:e}){return i($r,{label:`${e.name} - ${e.id}`,trailing:i(hd.Image,{source:e.id,style:{width:32,height:32}}),onPress:()=>{ar.setString(e.name),V.showCopyToClipboard()}})}var hd,gd=g(()=>{"use strict";l();u();X();Y();re();Lr();hd=k(ae())});function Uu(){var[e,r]=React.useState("");return i(ge,{children:b(Ei.View,{style:{flex:1},children:[i(jt,{style:{margin:10},onChangeText:t=>r(t)}),i(Ei.FlatList,{data:Object.values(Et).filter(t=>t.name.includes(e)||t.id.toString()===e),renderItem:({item:t})=>i(ju,{asset:t}),ItemSeparatorComponent:Pn,keyExtractor:t=>t.name})]})})}var Ei,vd=g(()=>{"use strict";l();u();X();gd();le();re();Ir();Ei=k(ae())});var _d={};D(_d,{default:()=>yd});function yd(){var[e,r]=dd("preloads/reactDevtools.js"),t=Qg(),o=me.useNavigation();return z(P),z(dr),i(ge,{children:i(Ti.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:b(he,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[i(Ye,{label:d.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:()=>i(fo,{style:t.leadingText,children:"ws://"}),defaultValue:P.debuggerUrl,onChange:n=>P.debuggerUrl=n}),b(Me,{title:d.DEBUG,children:[i(w,{label:d.CONNECT_TO_DEBUG_WEBSOCKET,icon:i(w.Icon,{source:y("copy")}),onPress:()=>kn(P.debuggerUrl)}),bn()&&i(gr,{children:i(w,{label:d.CONNECT_TO_REACT_DEVTOOLS,icon:i(w.Icon,{source:y("ic_badge_staff")}),onPress:()=>window[Uf()||"__vendetta_rdc"]?.connectToDevTools({host:P.debuggerUrl.split(":")?.[0],resolveRNStyle:Ti.StyleSheet.flatten})})})]}),Ds()&&i(gr,{children:b(Me,{title:"Loader config",children:[i(Dt,{label:d.LOAD_FROM_CUSTOM_URL,subLabel:d.LOAD_FROM_CUSTOM_URL_DEC,icon:i(w.Icon,{source:y("copy")}),value:dr.customLoadUrl.enabled,onValueChange:n=>{dr.customLoadUrl.enabled=n}}),dr.customLoadUrl.enabled&&i(w,{label:i(Ye,{defaultValue:dr.customLoadUrl.url,size:"md",onChange:n=>dr.customLoadUrl.url=n,placeholder:"http://localhost:4040/vendetta.js",label:d.BUNNY_URL})}),bn()&&qe()&&i(Dt,{label:d.LOAD_REACT_DEVTOOLS,subLabel:`${d.VERSION}: ${kf()}`,icon:i(w.Icon,{source:y("ic_badge_staff")}),value:dr.loadReactDevTools,onValueChange:n=>{dr.loadReactDevTools=n}})]})}),b(Me,{title:"Other",children:[i(w,{arrow:!0,label:d.ASSET_BROWSER,icon:i(w.Icon,{source:y("ic_image")}),trailing:w.Arrow,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{title:d.ASSET_BROWSER,render:Uu})}),i(w,{arrow:!0,label:d.ERROR_BOUNDARY_TOOLS_LABEL,icon:i(w.Icon,{source:y("ic_warning_24px")}),onPress:()=>Jg({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:i(w.Icon,{style:{marginRight:8},source:y("ic_warning_24px")}),onClose:()=>Xg()},options:[{label:d.BUNNY,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{render:()=>i("undefined",{})})},{label:"Discord",isDestructive:!0,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{noErrorBoundary:!0})}]})}),i(w,{label:d.INSTALL_REACT_DEVTOOLS,subLabel:d.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:i(w.Icon,{source:y("DownloadIcon")}),trailing:i(ue,{size:"sm",loading:e===qr.LOADING,disabled:e===qr.LOADING,variant:e===qr.TRUE?"secondary":"primary",text:e===qr.TRUE?d.UNINSTALL:d.INSTALL,onPress:x(function*(){e===qr.FALSE?r.downloadFile(Zg,"preloads/reactDevtools.js"):e===qr.TRUE&&r.removeFile("preloads/reactDevtools.js")}),icon:y(e===qr.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),i(Dt,{label:d.ENABLE_EVAL_COMMAND,subLabel:d.ENABLE_EVAL_COMMAND_DESC,icon:i(w.Icon,{source:y("PencilIcon")}),value:P.enableEvalCommand,onValueChange:n=>{P.enableEvalCommand=n}})]})]})})})}var Ti,Xg,Jg,Zg,Qg,xd=g(()=>{"use strict";l();u();fe();X();de();pd();vd();pe();le();lt();Vr();De();Ee();Y();re();ne();po();Ir();Yr();Ti=k(ae()),{hideActionSheet:Xg}=G(()=>U("openLazy","hideActionSheet")),{showSimpleActionSheet:Jg}=G(()=>U("showSimpleActionSheet")),Zg="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",Qg=it({leadingText:{...vr["heading-md/semibold"],color:Re.TEXT_MUTED,marginRight:-4}})});function ku(){Ja({name:"Bunny",items:[{key:"BUNNY",title:()=>d.BUNNY,icon:{uri:za},render:()=>Promise.resolve().then(()=>(Bc(),Mc)),useTrailing:()=>"(fd8ddce-main)"},{key:"BUNNY_PLUGINS",title:()=>d.PLUGINS,icon:y("ActivitiesIcon"),render:()=>Promise.resolve().then(()=>(Zm(),Jm))},{key:"BUNNY_THEMES",title:()=>d.THEMES,icon:y("PaintPaletteIcon"),render:()=>Promise.resolve().then(()=>(nd(),od)),usePredicate:()=>Ar()},{key:"BUNNY_FONTS",title:()=>d.FONTS,icon:y("ic_add_text"),render:()=>Promise.resolve().then(()=>(md(),cd)),usePredicate:()=>Gf()},{key:"BUNNY_DEVELOPER",title:()=>d.DEVELOPER,icon:y("WrenchIcon"),render:()=>Promise.resolve().then(()=>(xd(),_d)),usePredicate:()=>z(P).developerSettings??!1}]}),Ja({name:"Vendetta",items:[]})}var xl=g(()=>{"use strict";l();u();dc();de();pe();le();Vr();De();Fo()});var bd=Mr((ZP,Sd)=>{l();u();Sd.exports=Rt().lodash});var Td=Mr((rL,Ed)=>{l();u();Ed.exports=Rt().util});var wi,wd,Ad,Cd=g(()=>{"use strict";l();u();X();Uo();pe();pe();nr();le();Xn();lt();Vr();Ge();De();Tr();gs();et();at();Y();re();re();po();Ir();Yr();Lr();xa();wi=k(Ut()),wd=k(ae());ut();Ad=()=>{var e=t=>o=>t(cn.createSimpleFilter(o,Ef(new Error().stack))),r=window.vendetta={patcher:{before:an.before,after:an.after,instead:an.instead},metro:{modules:window.modules,find:e(Ne),findAll:e(Ct),findByProps:(...t)=>{t.length===1&&t[0]==="KeyboardAwareScrollView"&&t.push("listenToKeyboardEvents");var o=U(...t);if(o==null&&t.includes("ActionSheetTitleHeader")){var n=U("ActionSheetRow");return{...n,ActionSheetTitleHeader:n.BottomSheetTitleHeader,ActionSheetContentContainer:({children:a})=>((0,wi.useEffect)(()=>console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. This has been temporarily replaced with View"),[]),(0,wi.createElement)(wd.View,null,a))}}return o},findByPropsAll:(...t)=>Zi(...t),findByName:(t,o)=>t==="create"&&typeof o>"u"?Io("create",!1).default:Io(t,o??!0),findByNameAll:(t,o=!0)=>Qi(t,o),findByDisplayName:(t,o=!0)=>es(t,o),findByDisplayNameAll:(t,o=!0)=>ts(t,o),findByTypeName:(t,o=!0)=>os(t,o),findByTypeNameAll:(t,o=!0)=>ns(t,o),findByStoreName:t=>as(t),common:{constants:Mt,channels:Nn,i18n:Bt,url:Ft,toasts:On,stylesheet:{createThemedStyleSheet:ho},clipboard:ar,assets:el,invites:rl,commands:co,navigation:tl,navigationStack:ol,NavigationNative:me,Flux:nl,FluxDispatcher:Cr,React:Dn,ReactNative:Va,moment:al(),chroma:Na(),lodash:bd(),util:Td()}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:(t,o)=>mr(t,o),findInTree:(t,o,n)=>no(t,o,n),safeFetch:(t,o,n)=>ze(t,o,n),unfreeze:t=>Object.isFrozen(t)?{...t}:t,without:(t,...o)=>Fi(t,o)},debug:{connectToDebugger:t=>kn(t),getDebugInfo:()=>st()},ui:{components:{Forms:Ua,General:Va,Alert:An,Button:Cn,HelpMessage:(...t)=>i(Rn,{...t}),SafeAreaView:(...t)=>i(In,{...t}),Summary:Fn,ErrorBoundary:ge,Codeblock:Rr,Search:jt},toasts:{showToast:(t,o)=>V(t,o)},alerts:{showConfirmationAlert:t=>Or(t),showCustomAlert:(t,o)=>Cl(t,o),showInputAlert:t=>Qc(t)},assets:{all:Et,find:t=>ln(t),getAssetByName:t=>ln(t),getAssetByID:t=>ln(t),getAssetIDByName:t=>y(t)},semanticColors:Re,rawColors:vc},plugins:{plugins:j.plugins,fetchPlugin:t=>j.fetchPlugin(t),installPlugin:(t,o=!0)=>j.installPlugin(t,o),startPlugin:t=>j.startPlugin(t),stopPlugin:(t,o=!0)=>j.stopPlugin(t,o),removePlugin:t=>j.removePlugin(t),getSettings:t=>j.getSettings(t)},themes:{themes:ie,fetchTheme:(t,o)=>io(t,o),installTheme:t=>rt(t),selectTheme:t=>tt(t==="default"?null:ie[t]),removeTheme:t=>so(t),getCurrentTheme:()=>Nt(),updateThemes:()=>Oa()},commands:{registerCommand:Go},storage:{createProxy:t=>vn(t),useProxy:t=>z(t),createStorage:t=>or(t),wrapSync:t=>Sr(t),awaitSyncWrapper:t=>It(t),createMMKVBackend:t=>br(t),createFileBackend:t=>(we()&&t==="vendetta_theme.json"&&(t="pyoncord/current-theme.json"),to(t))},settings:P,loader:{identity:Ns()??void 0,config:dr},logger:{log:(...t)=>console.log(...t),info:(...t)=>console.info(...t),warn:(...t)=>console.warn(...t),error:(...t)=>console.error(...t),time:(...t)=>console.time(...t),trace:(...t)=>console.trace(...t),verbose:(...t)=>console.log(...t)},version:jn,unload:()=>{delete window.vendetta}};return()=>r.unload()}});function rv(){var e=Oe("ErrorBoundary")[Ra];return new Promise(r=>{e.getExports(t=>{r(t.prototype)})})}var gt,LL,ev,la,Rd,Id,Pd=g(()=>{"use strict";l();u();X();de();lt();Qr();Ge();De();Ee();re();hn();ne();po();Ir();Yr();gt=k(ae()),LL=Oe("ErrorBoundary"),{BadgableTabBar:ev}=G(()=>U("BadgableTabBar")),la=ho({container:{flex:1,backgroundColor:Re.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...vr["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:Re.HEADER_PRIMARY},headerDescription:{...vr["text-sm/medium"],textAlign:"center",color:Re.TEXT_MUTED},footer:{flexDirection:jr.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),Rd=[{id:"message",title:()=>d.MESSAGE},{id:"stack",title:()=>d.STACK_TRACE},{id:"componentStack",title:()=>d.COMPONENT,trimWhitespace:!0}];Id=()=>q.await("render",rv(),function(e,r){if(this.state.error){this.state.activeTab??="message";var t=Rd.find(a=>a.id===this.state.activeTab),o=this.state.error[this.state.activeTab],n=[{text:d.RELOAD_DISCORD,onPress:this.handleReload},...P.safeMode?.enabled?[]:[{text:d.RELOAD_IN_SAFE_MODE,onPress:Un}],{text:d.RETRY_RENDER,color:"red",onPress:()=>this.setState({info:null,error:null})}];return i(ge,{children:b(In,{style:la.container,children:[b(gt.View,{style:la.header,children:[i(r.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),b(gt.View,{style:{flex:2,paddingLeft:24},children:[i(gt.Text,{style:la.headerTitle,children:r.props.title}),i(gt.Text,{style:la.headerDescription,children:r.props.body})]})]}),b(gt.View,{style:{flex:6},children:[i(gt.View,{style:{paddingBottom:8},children:i(ev,{tabs:Rd.map(a=>({...a,title:a.title()})),activeTab:this.state.activeTab,onTabSelected:a=>{this.setState({activeTab:a})}})}),i(Rr,{selectable:!0,style:{flex:1,textAlignVertical:"top"},children:t?.trimWhitespace?o.split(`
`).filter(a=>a.length!==0).map(a=>a.trim()).join(`
`):o})]}),i(gt.View,{style:la.footer,children:n.map(a=>{var s=n.indexOf(a)!==0?8:0;return i(Cn,{text:a.text,color:a.color??"brand",size:a.size??"small",onPress:a.onPress,style:{...jr.isTablet?{flex:`0.${n.length}`,marginLeft:s}:{marginTop:s},borderRadius:16}})})})]})})}})});var Ld=g(()=>{"use strict";l();u()});var Nd=g(()=>{"use strict";l();u()});var Hu={};D(Hu,{components:()=>Ka,settings:()=>gl,sheets:()=>El,styles:()=>cl,toasts:()=>Za});var Od=g(()=>{"use strict";l();u();Ir();Fo();Hn();Yr();Lr()});var Vu={};D(Vu,{_jsx:()=>sl,api:()=>ru,fonts:()=>ia,managers:()=>tv,metro:()=>$a,plugins:()=>ta,themes:()=>lo,ui:()=>Hu,unload:()=>ua,utils:()=>La});function ua(){for(var e of Dd)typeof e=="function"&&e();delete window.bunny}var tv,Dd,Md=g(()=>{"use strict";l();u();Ld();Nd();To();So();nr();tu();Od();Tr();at();To();So();nr();X();Ee();tv=be(()=>(console.warn("bunny.managers.* is deprecated, and moved the top level (bunny.*). bunny.managers will be eventually removed soon"),{get fonts(){return ia},get plugins(){return ta},get themes(){return lo}}),{hint:"object"}),Dd=[];ua.push=e=>{Dd.push(e)}});var Bd={};D(Bd,{default:()=>nv});function ov(){if(Ar())try{we()&&ft("../vendetta_theme.json","null"),Ls()}catch(e){console.error("Failed to initialize themes",e)}}var nv,Fd=g(()=>{"use strict";l();u();fe();sc();de();xl();Cd();ut();To();So();nr();Xn();lt();Zl();xo();Vr();fi();et();Pd();Fo();Md();nv=x(function*(){ov(),yield Promise.all([Xl(),hl(),yl(),ql(),Ps(),Il(),Ad(),mc(),ku(),ic(),Id(),xu()]).then(e=>e.forEach(r=>r&&ua.push(r))),window.bunny=Vu,j.initPlugins().then(e=>ua.push(e)).catch(()=>alert("Failed to initialize Vendetta plugins")),Su(),Ou(),Ue.log("Bunny is ready!")})});l();u();fe();var{instead:av}=ha();globalThis.window=globalThis;function jd(){return Gu.apply(this,arguments)}function Gu(){return Gu=x(function*(){try{Object.freeze=Object.seal=Object,yield(ro(),Ve(tc)).initMetroCache(),yield(Fd(),Ve(Bd)).default()}catch(t){var{ClientInfoManager:e}=(Qr(),Ve(Xu)),r=t instanceof Error?t.stack:void 0;console.log(r??t?.toString?.()??t),alert([`Failed to load Bunny!
`,`Build Number: ${e.Build}`,"Bunny: fd8ddce-main",r||t?.toString?.()].join(`
`))}}),Gu.apply(this,arguments)}if(typeof globalThis.__r<"u")jd();else{var e=function(r){var t=window.__fbBatchedBridge,o=new Array,n=av("callFunctionReturnFlushedQueue",t,(s,f)=>s[0]==="AppRegistry"||!t.getCallableModule(s[0])?(o.push(s),t.flushedQueue()):f.apply(t,s)),a=function(){var s=x(function*(){yield jd(),n(),r(0),o.forEach(f=>t.getCallableModule(f[0])&&t.__callFunction(...f))});return function(){return s.apply(this,arguments)}}();a()};iv=e,Object.defineProperties(globalThis,{__r:{configurable:!0,get:()=>Ai,set(r){Ai=function(o){if(o===0)e(r),Ai=r;else return r(o)}}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(r){this.value=r}}})}var Ai,iv;})();
//# sourceURL=bunny
