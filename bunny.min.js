"use strict";(()=>{var jp=Object.create;var Ta=Object.defineProperty;var kp=Object.getOwnPropertyDescriptor;var Up=Object.getOwnPropertyNames;var Hp=Object.getPrototypeOf,Vp=Object.prototype.hasOwnProperty;var h=(e,r)=>()=>(e&&(r=e(e=0)),r);var jr=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),B=(e,r)=>{for(var t in r)Ta(e,t,{get:r[t],enumerable:!0})},Ef=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(var n=Up(r),a=0,u=n.length,f;a<u;a++)f=n[a],!Vp.call(e,f)&&f!==t&&Ta(e,f,{get:(c=>r[c]).bind(null,f),enumerable:!(o=kp(r,f))||o.enumerable});return e};var U=(e,r,t)=>(t=e!=null?jp(Hp(e)):{},Ef(r||!e||!e.__esModule?Ta(t,"default",{value:e,enumerable:!0}):t,e)),Ge=e=>Ef(Ta({},"__esModule",{value:!0}),e);var d,s=h(()=>{"use strict";d=Symbol("Symbol.asyncIterator")});var Gp,zp,$p,m,l=h(()=>{"use strict";Gp=e=>({status:"fulfilled",value:e}),zp=e=>({status:"rejected",reason:e}),$p=e=>Promise.resolve(e).then(Gp,zp),m=Promise.allSettled??=e=>Promise.all(Array.from(e).map($p))});function wf(e,r,t,o,n,a,u){try{var f=e[a](u),c=f.value}catch(b){t(b);return}f.done?r(c):Promise.resolve(c).then(o,n)}function x(e){return function(){var r=this,t=arguments;return new Promise(function(o,n){var a=e.apply(r,t);function u(c){wf(a,o,n,u,f,"next",c)}function f(c){wf(a,o,n,u,f,"throw",c)}u(void 0)})}}var pe=h(()=>{s();l()});var Aa=jr((dy,Rf)=>{s();l();var Gi=Object.defineProperty,Yp=Object.getOwnPropertyDescriptor,Wp=Object.getOwnPropertyNames,Kp=Object.prototype.hasOwnProperty,qp=(e,r)=>{for(var t in r)Gi(e,t,{get:r[t],enumerable:!0})},Xp=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function"){var n=function(u){!Kp.call(e,u)&&u!==t&&Gi(e,u,{get:()=>r[u],enumerable:!(o=Yp(r,u))||o.enumerable})};for(var a of Wp(r))n(a)}return e},Jp=e=>Xp(Gi({},"__esModule",{value:!0}),e),Tf={};qp(Tf,{after:()=>th,before:()=>eh,instead:()=>rh,unpatchAll:()=>Qp});Rf.exports=Jp(Tf);var Af=["a","b","i"],eo=new Map;function Zp(e,r,t,o,n){var a=eo.get(r)?.[e];if(!a)return n?Reflect.construct(r[e],t,o):r[e].apply(o,t);for(var u of a.b.values()){var f=u.call(o,t);Array.isArray(f)&&(t=f)}var c=[...a.i.values()].reduce((p,A)=>(...C)=>A.call(o,C,p),(...p)=>n?Reflect.construct(a.o,p,o):a.o.apply(o,p))(...t);for(var b of a.a.values())c=b.call(o,t,c)??c;return c}function Cf(e,r,t,o){var n=eo.get(e),a=n?.[r];if(!a?.[o].has(t))return!1;if(a[o].delete(t),Af.every(f=>a[f].size===0)){var u=Reflect.defineProperty(e,r,{value:a.o,writable:!0,configurable:!0});u||(e[r]=a.o),delete n[r]}return Object.keys(n).length==0&&eo.delete(e),!0}function Qp(){for(var[e,r]of eo.entries())for(var t in r)for(var o of Af)for(var n of r[t]?.[o].keys()??[])Cf(e,t,n,o)}var zi=e=>(r,t,o,n=!1)=>{if(typeof t[r]!="function")throw new Error(`${r} is not a function in ${t.constructor.name}`);eo.has(t)||eo.set(t,Object.create(null));var a=eo.get(t);if(!a[r]){var u=t[r];a[r]={o:u,b:new Map,i:new Map,a:new Map};var f=(C,j,re)=>{var de=Zp(r,t,j,C,re);return n&&A(),de},c=new Proxy(u,{apply:(C,j,re)=>f(j,re,!1),construct:(C,j)=>f(u,j,!0),get:(C,j,re)=>j=="toString"?u.toString.bind(u):Reflect.get(C,j,re)}),b=Reflect.defineProperty(t,r,{value:c,configurable:!0,writable:!0});b||(t[r]=c)}var p=Symbol(),A=()=>Cf(t,r,p,e);return a[r][e].set(p,o),A},eh=zi("b"),rh=zi("i"),th=zi("a")});var If={};B(If,{BundleUpdaterManager:()=>oo,ClientInfoManager:()=>ro,DeviceManager:()=>to,FileManager:()=>oe,MMKVManager:()=>Ur,ThemeManager:()=>$i});var kr,Ur,oe,ro,to,oo,$i,rt=h(()=>{"use strict";s();l();kr=window.nativeModuleProxy,Ur=kr.MMKVManager,oe=kr.DCDFileManager??kr.RTNFileManager,ro=kr.InfoDictionaryManager??kr.RTNClientInfoManager,to=kr.DCDDeviceManager??kr.RTNDeviceManager,{BundleUpdaterManager:oo}=kr,$i=kr.RTNThemeManager??kr.DCDTheme});function no(e){return no=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},no(e)}var Yi=h(()=>{s();l()});function fn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fn=function(){return!!e})()}var Wi=h(()=>{s();l()});function Pf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Nf=h(()=>{s();l()});function Lf(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var Of=h(()=>{s();l()});function Df(e,r){return r&&(Lf(r)==="object"||typeof r=="function")?r:Pf(e)}var Bf=h(()=>{s();l();Nf();Of()});function St(e,r,t){return r=no(r),Df(e,fn()?Reflect.construct(r,t||[],no(e).constructor):r.apply(e,t))}var Ca=h(()=>{s();l();Yi();Wi();Bf()});function or(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var cn=h(()=>{s();l()});function bt(e,r){return bt=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},bt(e,r)}var Ra=h(()=>{s();l()});function Et(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&bt(e,r)}var Ia=h(()=>{s();l();Ra()});function mn(e,r,t){return fn()?mn=Reflect.construct:mn=function(n,a,u){var f=[null];f.push.apply(f,a);var c=Function.bind.apply(n,f),b=new c;return u&&bt(b,u.prototype),b},mn.apply(null,arguments)}var Mf=h(()=>{s();l();Wi();Ra()});function Ff(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var jf=h(()=>{s();l()});function Pa(e){var r=typeof Map=="function"?new Map:void 0;return Pa=function(o){if(o===null||!Ff(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(o))return r.get(o);r.set(o,n)}function n(){return mn(o,arguments,no(this).constructor)}return n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),bt(n,o)},Pa(e)}var kf=h(()=>{s();l();Mf();Yi();jf();Ra()});function dn(e,r,{signal:t,edges:o}={}){var n=void 0,a=null,u=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),c=()=>{a!==null&&(e.apply(n,a),n=void 0,a=null)},b=()=>{f&&c(),j()},p=null,A=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,b()},r)},C=()=>{p!==null&&(clearTimeout(p),p=null)},j=()=>{C(),n=void 0,a=null},re=()=>{C(),c()},de=function(...Fr){if(!t?.aborted){n=this,a=Fr;var xt=p==null;A(),u&&xt&&c()}};return de.schedule=A,de.cancel=j,de.flush=re,t?.addEventListener("abort",j,{once:!0}),de}var Uf=h(()=>{s();l()});function pn(e,r){for(var t={...e},o=0;o<r.length;o++){var n=r[o];delete t[n]}return t}var Hf=h(()=>{s();l()});function Na(e){return e!=null}var Vf=h(()=>{s();l()});var Oo=h(()=>{s();l();Uf();Hf();Vf()});var wt,Hr,Ki=h(()=>{"use strict";s();l();(function(e){e[e.EXISTS=1]="EXISTS",e[e.BLACKLISTED=2]="BLACKLISTED"})(wt||(wt={}));(function(e){e[e.FULL_LOOKUP=0]="FULL_LOOKUP",e[e.NOT_FOUND=1]="NOT_FOUND"})(Hr||(Hr={}))});var ao={};B(ao,{_patcherDelaySymbol:()=>hn,after:()=>X,before:()=>Tt,default:()=>gn,instead:()=>At});function qi(e){function r(...o){if(hn in o[1]){var n=o[1][hn],a=!1,u=()=>a=!0;return n(f=>{a||(o[1]=f,u=e.apply(this,o))}),()=>u()}return e.apply(this,o)}function t(...o){var n=o[1];if(!n||!("then"in n))throw new Error("target is not a then-able object");var a=!1,u=()=>a=!0;return n.then(f=>{a||(o[1]=f,u=r.apply(this,o))}),()=>u()}return Object.assign(r,{await:t})}var oh,nh,ah,hn,X,Tt,At,gn,Le=h(()=>{"use strict";s();l();({after:oh,before:nh,instead:ah}=Aa()),hn=Symbol.for("bunny.api.patcher.delay");X=qi(oh),Tt=qi(nh),At=qi(ah),gn={after:X,before:Tt,instead:At}});var _n={};B(_n,{assetsMap:()=>Ct,findAsset:()=>yn,findAssetId:()=>y,patchAssets:()=>ih});function ih(e){if(!vn){vn=e;var r=X("registerAsset",vn,([t])=>{var o=Xi();o!==-1&&Ji(t.name,o)});return r}}function yn(e){return typeof e=="number"?vn.getAssetByID(e):typeof e=="string"?Ct[e]:Object.values(Ct).find(e)}function y(e){return Ct[e]?.index}var Ct,vn,ie=h(()=>{"use strict";s();l();Le();so();io();Ct=new Proxy({},{get(e,r){if(typeof r=="string"){if(e[r])return e[r];var t=Vr().assetsIndex[r];if(t!=null){for(var o in t){var n=cr(Number(o));if(typeof n=="number"){var a=vn.getAssetByID(n);a&&(a.index??=a.id??=n,a.moduleId??=o,e[r]??=a)}}return e[r]}}},ownKeys(e){var r=[];for(var t in Vr().assetsIndex)e[t]=this.get(e,t,{}),e[t]&&r.push(t);return r}})});function Gf(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function br(e,r,t){return r&&Gf(e.prototype,r),t&&Gf(e,t),e}var xn=h(()=>{s();l()});function Sn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Zi=h(()=>{s();l()});var Qi,La,es=h(()=>{"use strict";s();l();cn();xn();Zi();(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(Qi||(Qi={}));La=function(){"use strict";function e(){or(this,e),Sn(this,"listeners",Object.values(Qi).reduce((r,t)=>(r[t]=new Set,r),{}))}return br(e,[{key:"on",value:function(t,o){this.listeners[t].has(o)||this.listeners[t].add(o)}},{key:"off",value:function(t,o){this.listeners[t].delete(o)}},{key:"once",value:function(t,o){var n=(a,u)=>{this.off(a,n),o(a,u)};this.on(t,n)}},{key:"emit",value:function(t,o){for(var n of this.listeners[t])n(t,o)}}]),e}()});var bn={};B(bn,{createFilterDefinition:()=>mr,createSimpleFilter:()=>sh});function mr(e,r){function t(n,a,u){return Object.assign(n,{filter:e,raw:u,uniq:[u&&"raw::",r(a)].filter(Boolean).join("")})}var o=n=>(...a)=>t((u,f,c)=>e(a,u,f,c),a,n);return Object.assign(o(!1),{byRaw:o(!0),uniqMaker:r})}function sh(e,r){return mr((t,o)=>e(o),()=>`dynamic::${r}`)()}var Oa=h(()=>{"use strict";s();l()});var rs={};B(rs,{byDisplayName:()=>It,byFilePath:()=>Ba,byMutableProp:()=>wn,byName:()=>Rt,byProps:()=>En,byStoreName:()=>Da,byTypeName:()=>Pt});var En,Rt,It,Pt,Da,Ba,wn,Tn=h(()=>{"use strict";s();l();Oa();io();En=mr((e,r)=>e.length===0?r[e[0]]:e.every(t=>r[t]),e=>`bunny.metro.byProps(${e.join(",")})`),Rt=mr(([e],r)=>r.name===e,e=>`bunny.metro.byName(${e})`),It=mr(([e],r)=>r.displayName===e,e=>`bunny.metro.byDisplayName(${e})`),Pt=mr(([e],r)=>r.type?.name===e,e=>`bunny.metro.byTypeName(${e})`),Da=mr(([e],r)=>r.getName?.length===0&&r.getName()===e,e=>`bunny.metro.byStoreName(${e})`),Ba=mr(([e,r],t,o,n)=>r===n&&je[o]?.__filePath===e,([e,r])=>`bunny.metro.byFilePath(${e},${r})`),wn=mr(([e],r)=>r?.[e]&&!Object.getOwnPropertyDescriptor(r,e)?.get,e=>`bunny.metro.byMutableProp(${e})`)});function zf(e,r,t){return e.default&&e.__esModule&&t(e.default,r,!0)?{exports:t.raw?e:e.default,defaultExport:!t.raw}:!t.raw&&t(e,r,!1)?{exports:e,defaultExport:!1}:{}}function ts(e){var{cacheId:r,finish:t}=Fa(e.uniq,!1);for(var[o,n]of Ma(e.uniq,!1)){var{exports:a,defaultExport:u}=zf(n,o,e);if(a!==void 0)return r(o,a),{id:o,defaultExport:u}}return t(!0),{}}function lh(e){return ts(e)?.id}function Oe(e){var{id:r,defaultExport:t}=ts(e);if(r!=null)return t?cr(r).default:cr(r)}function os(e){var{cacheId:r,finish:t}=Fa(e.uniq,!0),o=[];for(var[n,a]of Ma(e.uniq,!0)){var{exports:u,defaultExport:f}=zf(a,n,e);u!==void 0&&typeof f=="boolean"&&(o.push({id:n,defaultExport:f}),r(n,u))}return t(o.length===0),o}function uh(e){return os(e).map(r=>r.id)}function Nt(e){return os(e).map(r=>{if(r.id){var{id:t,defaultExport:o}=r;return o?cr(t).default:cr(t)}})}var Do=h(()=>{"use strict";s();l();so();io()});var as={};B(as,{getProxyFactory:()=>ns,lazyDestructure:()=>Y,proxyLazy:()=>Se});function Se(e,r={}){var t,o=r.hint!=="object"?function(){}:{},n=()=>t??=e(),a=new Proxy(o,ch);return Yf.set(a,n),Bo.set(o,{factory:e,options:r}),a}function Y(e,r={}){var t=Se(e);return new Proxy({},{get(o,n){return n===Symbol.iterator?function*(){throw yield t,yield new Proxy({},{get:(a,u)=>Se(()=>t[u],r)}),new Error("This is not a real iterator, this is likely used incorrectly")}:Se(()=>t[n],r)}})}function ns(e){return Yf.get(e)}var $f,fh,Yf,Bo,ch,be=h(()=>{"use strict";s();l();$f=new Set(["arguments","caller","prototype"]),fh=e=>typeof e=="string"&&$f.has(e),Yf=new WeakMap,Bo=new WeakMap,ch={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(e=>[e,(r,...t)=>{var o=Bo.get(r),n=o?.factory();if(!n)throw new Error(`Trying to Reflect.${e} of ${typeof n}`);return Reflect[e](n,...t)}])),has(e,r){var t=Bo.get(e);if(t?.options){var{exemptedEntries:o}=t.options;if(o&&r in o)return!0}var n=t?.factory();if(!n)throw new Error(`Trying to Reflect.has of ${typeof n}`);return Reflect.has(n,r)},get(e,r,t){var o=Bo.get(e);if(o?.options){var{exemptedEntries:n}=o.options;if(n?.[r])return n[r]}var a=o?.factory();if(!a)throw new Error(`Trying to Reflect.get of ${typeof a}`);return Reflect.get(a,r,t)},ownKeys:e=>{var r=Bo.get(e),t=r?.factory();if(!t)throw new Error(`Trying to Reflect.ownKeys of ${typeof t}`);var o=Reflect.ownKeys(t);return $f.forEach(n=>!o.includes(n)&&o.push(n)),o},getOwnPropertyDescriptor:(e,r)=>{var t=Bo.get(e),o=t?.factory();if(!o)throw new Error(`Trying to getOwnPropertyDescriptor of ${typeof o}`);if(fh(r))return Reflect.getOwnPropertyDescriptor(e,r);var n=Reflect.getOwnPropertyDescriptor(o,r);return n&&Object.defineProperty(e,r,n),n}}});var is={};B(is,{_lazyContextSymbol:()=>ja,createLazyModule:()=>Gr,getLazyContext:()=>Kf});function mh(e){var r=Vr().findIndex[e.uniq];if(r){for(var t in r)if(t[0]!=="_")return Number(t)}}function dh(e,r){var t=Kf(e);if(!t)throw new Error("Subscribing a module for non-proxy-find");if(!t.indexed)throw new Error("Attempting to subscribe to a non-indexed find");return ss(t.moduleId,()=>{r(Oe(t.filter))})}function Kf(e){return Wf.get(e)}function Gr(e){var r=void 0,t=mh(e),o={filter:e,indexed:!!t,moduleId:t,getExports(a){return!t||je[t]?.isInitialized?(a(this.forceLoad()),()=>{}):this.subscribe(a)},subscribe(a){return dh(n,a)},get cache(){return r},forceLoad(){if(r??=Oe(e),!r)throw new Error(`${e.uniq} is ${typeof r}! (id ${o.moduleId??"unknown"})`);return r}},n=Se(()=>o.forceLoad(),{exemptedEntries:{[ja]:o,[hn]:a=>o.getExports(a)}});return Wf.set(n,o),n}var ja,Wf,An=h(()=>{"use strict";s();l();Le();be();Do();so();io();ja=Symbol.for("bunny.metro.lazyContext"),Wf=new WeakMap});var M,P,ls,Mo,ke,us,fs,cs,ms,ds,ph,ps,hs,Cn,gs,vs,ce=h(()=>{"use strict";s();l();Tn();Do();An();M=(...e)=>Oe(En(...e)),P=(...e)=>Gr(En(...e)),ls=(...e)=>Nt(En(...e)),Mo=(e,r=!0)=>Oe(r?Rt(e):Rt.byRaw(e)),ke=(e,r=!0)=>Gr(r?Rt(e):Rt.byRaw(e)),us=(e,r=!0)=>Nt(r?Rt(e):Rt.byRaw(e)),fs=(e,r=!0)=>Oe(r?It(e):It.byRaw(e)),cs=(e,r=!0)=>Gr(r?It(e):It.byRaw(e)),ms=(e,r=!0)=>Nt(r?It(e):It.byRaw(e)),ds=(e,r=!0)=>Oe(r?Pt(e):Pt.byRaw(e)),ph=(e,r=!0)=>Gr(r?Pt(e):Pt.byRaw(e)),ps=(e,r=!0)=>Nt(r?Pt(e):Pt.byRaw(e)),hs=e=>Oe(Da(e)),Cn=e=>Gr(Da(e)),gs=(e,r=!1)=>Oe(Ba(e,r)),vs=(e,r=!1)=>Gr(Ba(e,r))});var Lt=jr((bx,qf)=>{"use strict";s();l();ce();qf.exports={react:P("createElement"),"react-native":P("AppRegistry"),util:P("inspect","isNullOrUndefined"),moment:P("isMoment"),"chroma-js":P("brewer"),lodash:P("forEachRight"),"@shopify/react-native-skia":P("useFont")}});var Z=jr((Tx,Xf)=>{s();l();Xf.exports=Lt()["react-native"]});function Rn(e={}){var r=new La,t=new WeakMap,o=new WeakSet;function n(a,u){return new Proxy(a,{get(f,c){if(c===Qf)return r;var b=[...u,c],p=f[c];if(p!=null){if(r.emit("GET",{path:b,value:p}),typeof p=="object"){if(o.has(p))return p;if(t.has(p))return t.get(p);var A=n(p,b);return t.set(p,A),A}return p}return p},set(f,c,b){if(typeof b=="object")if(t.has(b))f[c]=t.get(b);else{var p=n(b,[...u,c]);t.set(b,p),o.add(b),f[c]=p}else f[c]=b;return r.emit("SET",{path:[...u,c],value:f[c]}),!0},deleteProperty(f,c){var b=typeof f[c]=="object"?t.get(f[c]):f[c],p=delete f[c];return p&&r.emit("DEL",{value:b,path:[...u,c]}),p}})}return{proxy:n(e,[]),emitter:r}}function J(e){var r=e?.[Qf];if(!r)throw new Error("storage?.[emitterSymbol] is undefined");var[,t]=React.useReducer(o=>~o,0);return React.useEffect(()=>{var o=(n,a)=>{n==="DEL"&&a.value===e||t()};return r.on("SET",o),r.on("DEL",o),()=>{r.off("SET",o),r.off("DEL",o)}},[]),e}function nr(e){return ys.apply(this,arguments)}function ys(){return ys=x(function*(e){var r=yield e.get(),{proxy:t,emitter:o}=Rn(r),n=()=>e.set(t);return o.on("SET",n),o.on("DEL",n),t}),ys.apply(this,arguments)}function Er(e){var r=void 0,t=[],o=n=>r?n():t.push(n);return e.then(n=>{r=n,t.forEach(a=>a())}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(n=>[n,(a,...u)=>Reflect[n](r??a,...u)])),get(n,a,u){return a===ec?o:Reflect.get(r??n,a,u)}})}function Ot(...e){return Promise.all(e.map(r=>new Promise(t=>r[ec](t))))}var Zf,Qf,ec,Jf,_s,rc,ka,wr,lo,_e=h(()=>{"use strict";s();l();pe();es();rt();Zf=U(Z()),Qf=Symbol.for("vendetta.storage.emitter"),ec=Symbol.for("vendetta.storage.accessor");Jf=/[<>:"/\\|?*]/g,_s=e=>Zf.Platform.select({default:e,ios:oe.saveFileToGallery?e:`Documents/${e}`}),rc=e=>(Jf.test(e)&&(e=e.replace(Jf,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`),ka=function(){var e=x(function*(r){(yield Ur.getItem(r))&&Ur.removeItem(r);var t=rc(r);(yield oe.fileExists(`${oe.getConstants().DocumentsDirPath}/${t}`))&&(yield oe.removeFile?.("documents",t))});return function(t){return e.apply(this,arguments)}}(),wr=(e,r={})=>{var t=rc(e),o=JSON.stringify(r);return lo(t,r,x(function*(){var n=`${oe.getConstants().DocumentsDirPath}/${t}`;if(!(yield oe.fileExists(n))){var a=(yield Ur.getItem(e))??o;if(a==="!!LARGE_VALUE!!"){var u=`${oe.getConstants().CacheDirPath}/mmkv/${e}`;(yield oe.fileExists(u))?a=yield oe.readFile(u,"utf8"):(console.log(`${e}: Experienced data loss :(`),a=o)}try{JSON.parse(a)}catch{console.error(`${e} had an unparseable data while migrating`),a=o}yield oe.writeFile("documents",_s(t),a,"utf8"),(yield Ur.getItem(e))!==null&&(Ur.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}})())},lo=(e,r={},t)=>({get:x(function*(){yield t;var o=`${oe.getConstants().DocumentsDirPath}/${e}`;if(yield oe.fileExists(o)){var n=yield oe.readFile(o,"utf8");try{return JSON.parse(n)}catch{}}return yield oe.writeFile("documents",_s(e),JSON.stringify(r),"utf8"),JSON.parse(yield oe.readFile(o,"utf8"))}),set:function(){var o=x(function*(n){yield t,yield oe.writeFile("documents",_s(e),JSON.stringify(n),"utf8")});return function(n){return o.apply(this,arguments)}}()})});var Pn={};B(Pn,{clearFolder:()=>As,downloadFile:()=>Cs,fileExists:()=>fo,readFile:()=>In,removeFile:()=>uo,writeFile:()=>tt});function As(e){return xs.apply(this,arguments)}function xs(){return xs=x(function*(e,{prefix:r="pyoncord/"}={}){if(typeof oe.clearFolder!="function")throw new Error("'fs.clearFolder' is not supported");return void(yield oe.clearFolder("documents",`${r}${e}`))}),xs.apply(this,arguments)}function uo(e){return Ss.apply(this,arguments)}function Ss(){return Ss=x(function*(e,{prefix:r="pyoncord/"}={}){if(typeof oe.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void(yield oe.removeFile("documents",`${r}${e}`))}),Ss.apply(this,arguments)}function fo(e){return bs.apply(this,arguments)}function bs(){return bs=x(function*(e,{prefix:r="pyoncord/"}={}){return yield oe.fileExists(`${oe.getConstants().DocumentsDirPath}/${r}${e}`)}),bs.apply(this,arguments)}function tt(e,r){return Es.apply(this,arguments)}function Es(){return Es=x(function*(e,r,{prefix:t="pyoncord/"}={}){if(typeof r!="string")throw new Error("Argument 'data' must be a string");return void(yield oe.writeFile("documents",`${t}${e}`,r,"utf8"))}),Es.apply(this,arguments)}function In(e){return ws.apply(this,arguments)}function ws(){return ws=x(function*(e,{prefix:r="pyoncord/"}={}){try{return yield oe.readFile(`${oe.getConstants().DocumentsDirPath}/${r}${e}`,"utf8")}catch(t){throw new Error(`An error occured while writing to '${e}'`,{cause:t})}}),ws.apply(this,arguments)}function Cs(e,r){return Ts.apply(this,arguments)}function Ts(){return Ts=x(function*(e,r,{prefix:t="pyoncord/"}={}){var o=yield fetch(e);if(!o.ok)throw new Error(`Failed to download file from ${e}: ${o.statusText}`);var n=yield o.arrayBuffer(),a=Buffer.from(n).toString("base64");return void(yield oe.writeFile("documents",`${t}${r}`,a,"base64"))}),Ts.apply(this,arguments)}var co=h(()=>{"use strict";s();l();pe();rt()});var Nn,Ln,Ua,tc,oc,ne,gh,vh,yh,_h,xh,Sh,nc,bh,dr,Dt,Eh,wh,Th,Ah,ac,ic,sc,lc,Ch,Rh,Ih,Ph,De,Rs,uc,fc,cc,ot,mc=h(()=>{s();l();Ca();cn();xn();Ia();Nn="insert",Ln="update",Ua="delete",tc="reverse",oc="shuffle",ne=Symbol.for("object-observer-meta-key-0"),gh={async:1},vh=e=>{if(!e||typeof e!="object")return null;var r={},t=[];for(var[o,n]of Object.entries(e))if(o==="path"){if(typeof n!="string"||n==="")throw new Error('"path" option, if/when provided, MUST be a non-empty string');r[o]=n}else if(o==="pathsOf"){if(e.path)throw new Error('"pathsOf" option MAY NOT be specified together with "path" option');if(typeof n!="string")throw new Error('"pathsOf" option, if/when provided, MUST be a string (MAY be empty)');r[o]=e.pathsOf.split(".").filter(Boolean)}else if(o==="pathsFrom"){if(e.path||e.pathsOf)throw new Error('"pathsFrom" option MAY NOT be specified together with "path"/"pathsOf" option/s');if(typeof n!="string"||n==="")throw new Error('"pathsFrom" option, if/when provided, MUST be a non-empty string');r[o]=n}else t.push(o);if(t.length)throw new Error(`'${t.join(", ")}' is/are not a valid observer option/s`);return r},yh=(e,r,t)=>{var o={};o[ne]=r;for(var n in e)o[n]=Dt(e[n],n,r,t);return o},_h=(e,r,t)=>{var o=e.length,n=new Array(o);n[ne]=r;for(var a=0;a<o;a++)n[a]=Dt(e[a],a,r,t);return n},xh=(e,r)=>(e[ne]=r,e),Sh=(e,r)=>{if(e===null)return r;var t=r;if(e.path){var o=e.path;t=r.filter(f=>f.path.join(".")===o)}else if(e.pathsOf){var n=e.pathsOf,a=n.join(".");t=r.filter(f=>(f.path.length===n.length+1||f.path.length===n.length&&(f.type===tc||f.type===oc))&&f.path.join(".").startsWith(a))}else if(e.pathsFrom){var u=e.pathsFrom;t=r.filter(f=>f.path.join(".").startsWith(u))}return t},nc=(e,r)=>{try{e(r)}catch(t){console.error(`failed to notify listener ${e} with ${r}`,t)}},bh=function(){var r=this.batches;this.batches=[];for(var[t,o]of r)nc(t,o)},dr=(e,r)=>{var t=e,o,n,a,u,f,c,b=r.length;do{for(o=t.options.async,n=t.observers,c=n.length;c--;)if([a,u]=n[c],f=Sh(u,r),f.length)if(o){t.batches.length===0&&queueMicrotask(bh.bind(t));var p=void 0;for(var A of t.batches)if(A[0]===a){p=A;break}p||(p=[a,[]],t.batches.push(p)),Array.prototype.push.apply(p[1],f)}else nc(a,f);var C=t.parent;if(C){for(var j=0;j<b;j++){var re=r[j];r[j]=new De(re.type,[t.ownKey,...re.path],re.value,re.oldValue,re.object)}t=C}else t=null}while(t)},Dt=(e,r,t,o)=>o!==void 0&&o.has(e)?null:typeof e!="object"||e===null?e:Array.isArray(e)?new fc({target:e,ownKey:r,parent:t,visited:o}).proxy:ArrayBuffer.isView(e)?new cc({target:e,ownKey:r,parent:t}).proxy:e instanceof Date?e:new uc({target:e,ownKey:r,parent:t,visited:o}).proxy,Eh=function(){var r=this[ne],t=r.target,o=t.length-1,n=t.pop();if(n&&typeof n=="object"){var a=n[ne];a&&(n=a.detach())}var u=[new De(Ua,[o],void 0,n,this)];return dr(r,u),n},wh=function(){for(var r=this[ne],t=r.target,o=arguments.length,n=new Array(o),a=t.length,u=0;u<o;u++)n[u]=Dt(arguments[u],a+u,r);for(var f=Reflect.apply(t.push,t,n),c=[],b=a,p=t.length;b<p;b++)c[b-a]=new De(Nn,[b],t[b],void 0,this);return dr(r,c),f},Th=function(){var r=this[ne],t=r.target,o,n,a,u,f;for(o=t.shift(),o&&typeof o=="object"&&(f=o[ne],f&&(o=f.detach())),n=0,a=t.length;n<a;n++)u=t[n],u&&typeof u=="object"&&(f=u[ne],f&&(f.ownKey=n));var c=[new De(Ua,[0],void 0,o,this)];return dr(r,c),o},Ah=function(){for(var r=this[ne],t=r.target,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=Dt(arguments[a],a,r);for(var u=Reflect.apply(t.unshift,t,n),f=0,c=t.length,b;f<c;f++)if(b=t[f],b&&typeof b=="object"){var p=b[ne];p&&(p.ownKey=f)}for(var A=n.length,C=new Array(A),j=0;j<A;j++)C[j]=new De(Nn,[j],t[j],void 0,this);return dr(r,C),u},ac=function(){var r=this[ne],t=r.target,o,n,a;for(t.reverse(),o=0,n=t.length;o<n;o++)if(a=t[o],a&&typeof a=="object"){var u=a[ne];u&&(u.ownKey=o)}var f=[new De(tc,[],void 0,void 0,this)];return dr(r,f),this},ic=function(r){var t=this[ne],o=t.target,n,a,u;for(o.sort(r),n=0,a=o.length;n<a;n++)if(u=o[n],u&&typeof u=="object"){var f=u[ne];f&&(f.ownKey=n)}var c=[new De(oc,[],void 0,void 0,this)];return dr(t,c),this},sc=function(r,t,o){var n=this[ne],a=n.target,u=[],f=a.length,c=a.slice(0);if(t=t===void 0?0:t<0?Math.max(f+t,0):Math.min(t,f),o=o===void 0?f:o<0?Math.max(f+o,0):Math.min(o,f),t<f&&o>t){a.fill(r,t,o);for(var b,p=t,A,C;p<o;p++)A=a[p],a[p]=Dt(A,p,n),p in c?(C=c[p],C&&typeof C=="object"&&(b=C[ne],b&&(C=b.detach())),u.push(new De(Ln,[p],a[p],C,this))):u.push(new De(Nn,[p],a[p],void 0,this));dr(n,u)}return this},lc=function(r,t,o){var n=this[ne],a=n.target,u=a.length;r=r<0?Math.max(u+r,0):r,t=t===void 0?0:t<0?Math.max(u+t,0):Math.min(t,u),o=o===void 0?u:o<0?Math.max(u+o,0):Math.min(o,u);var f=Math.min(o-t,u-r);if(r<u&&r!==t&&f>0){var c=a.slice(0),b=[];a.copyWithin(r,t,o);for(var p=r,A,C,j;p<r+f;p++)A=a[p],A&&typeof A=="object"&&(A=Dt(A,p,n),a[p]=A),C=c[p],C&&typeof C=="object"&&(j=C[ne],j&&(C=j.detach())),!(typeof A!="object"&&A===C)&&b.push(new De(Ln,[p],A,C,this));dr(n,b)}return this},Ch=function(){for(var r=this[ne],t=r.target,o=arguments.length,n=new Array(o),a=t.length,u=0;u<o;u++)n[u]=Dt(arguments[u],u,r);for(var f=o===0?0:n[0]<0?a+n[0]:n[0],c=o<2?a-f:n[1],b=Math.max(o-2,0),p=Reflect.apply(t.splice,t,n),A=t.length,C,j=0,re;j<A;j++)re=t[j],re&&typeof re=="object"&&(C=re[ne],C&&(C.ownKey=j));var de,sn,Fr;for(de=0,sn=p.length;de<sn;de++)Fr=p[de],Fr&&typeof Fr=="object"&&(C=Fr[ne],C&&(p[de]=C.detach()));var xt=[],He;for(He=0;He<c;He++)He<b?xt.push(new De(Ln,[f+He],t[f+He],p[He],this)):xt.push(new De(Ua,[f+He],void 0,p[He],this));for(;He<b;He++)xt.push(new De(Nn,[f+He],t[f+He],void 0,this));return dr(r,xt),p},Rh=function(r,t){var o=this[ne],n=o.target,a=r.length,u=n.slice(0);t=t||0,n.set(r,t);for(var f=new Array(a),c=t;c<a+t;c++)f[c-t]=new De(Ln,[c],n[c],u[c],this);dr(o,f)},Ih={pop:Eh,push:wh,shift:Th,unshift:Ah,reverse:ac,sort:ic,fill:sc,copyWithin:lc,splice:Ch},Ph={reverse:ac,sort:ic,fill:sc,copyWithin:lc,set:Rh},De=function e(r,t,o,n,a){"use strict";or(this,e),this.type=r,this.path=t,this.value=o,this.oldValue=n,this.object=a},Rs=function(){"use strict";function e(r,t){or(this,e);var{target:o,parent:n,ownKey:a,visited:u=new Set}=r;n&&a!==void 0?(this.parent=n,this.ownKey=a):(this.parent=null,this.ownKey=null),u.add(o);var f=t(o,this,u);u.delete(o),this.observers=[],this.revocable=Proxy.revocable(f,this),this.proxy=this.revocable.proxy,this.target=f,this.options=this.processOptions(r.options),this.options.async&&(this.batches=[])}return br(e,[{key:"processOptions",value:function(t){if(t){if(typeof t!="object")throw new Error(`Observable options if/when provided, MAY only be an object, got '${t}'`);var o=Object.keys(t).filter(n=>!(n in gh));if(o.length)throw new Error(`'${o.join(", ")}' is/are not a valid Observable option/s`);return Object.assign({},t)}else return{}}},{key:"detach",value:function(){return this.parent=null,this.target}},{key:"set",value:function(t,o,n){var a=t[o];if(n!==a){var u=Dt(n,o,this);if(t[o]=u,a&&typeof a=="object"){var f=a[ne];f&&(a=f.detach())}var c=a===void 0?[new De(Nn,[o],u,void 0,this.proxy)]:[new De(Ln,[o],u,a,this.proxy)];dr(this,c)}return!0}},{key:"deleteProperty",value:function(t,o){var n=t[o];if(delete t[o],n&&typeof n=="object"){var a=n[ne];a&&(n=a.detach())}var u=[new De(Ua,[o],void 0,n,this.proxy)];return dr(this,u),!0}}]),e}(),uc=function(e){"use strict";Et(r,e);function r(t){return or(this,r),St(this,r,[t,yh])}return r}(Rs),fc=function(e){"use strict";Et(r,e);function r(t){return or(this,r),St(this,r,[t,_h])}return br(r,[{key:"get",value:function(o,n){return Ih[n]||o[n]}}]),r}(Rs),cc=function(e){"use strict";Et(r,e);function r(t){return or(this,r),St(this,r,[t,xh])}return br(r,[{key:"get",value:function(o,n){return Ph[n]||o[n]}}]),r}(Rs),ot=Object.freeze({from:(e,r)=>{if(!e||typeof e!="object")throw new Error("observable MAY ONLY be created from a non-null object");if(e[ne])return e;if(Array.isArray(e))return new fc({target:e,ownKey:null,parent:null,options:r}).proxy;if(ArrayBuffer.isView(e))return new cc({target:e,ownKey:null,parent:null,options:r}).proxy;if(e instanceof Date)throw new Error(`${e} found to be one of a non-observable types`);return new uc({target:e,ownKey:null,parent:null,options:r}).proxy},isObservable:e=>!!(e&&e[ne]),observe:(e,r,t)=>{if(!ot.isObservable(e))throw new Error("invalid observable parameter");if(typeof r!="function")throw new Error(`observer MUST be a function, got '${r}'`);var o=e[ne].observers;o.some(n=>n[0]===r)?console.warn("observer may be bound to an observable only once; will NOT rebind"):o.push([r,vh(t)])},unobserve:(e,...r)=>{if(!ot.isObservable(e))throw new Error("invalid observable parameter");var t=e[ne].observers,o=t.length;if(o){if(!r.length){t.splice(0);return}for(;o;)r.indexOf(t[--o][0])>=0&&t.splice(o,1)}}})});var Fs={};B(Fs,{awaitStorage:()=>Fo,createStorage:()=>Bt,createStorageAndCallback:()=>Bs,createStorageAsync:()=>Nh,getPreloadedStorage:()=>Ms,preloadStorageIfExists:()=>Ha,purgeStorage:()=>Lh,updateStorage:()=>Ds,useObservable:()=>nt});function Os(e){var r=dn(t=>{tt(e,JSON.stringify(t))},500);return{get:x(function*(){try{return JSON.parse(yield In(e))}catch(t){throw new Error(`Failed to parse storage from '${e}'`,{cause:t})}}),set:function(){var t=x(function*(o){if(!o||typeof o!="object")throw new Error("data needs to be an object");r(o)});return function(o){return t.apply(this,arguments)}}(),exists:x(function*(){return yield fo(e)})}}function nt(e,r){if(e.some(o=>o?.[dc]))throw new Error("An error occured while initializing the storage");if(e.some(o=>!ot.isObservable(o)))throw new Error("Argument passed isn't an Observable");var[,t]=React.useReducer(o=>~o,0);React.useEffect(()=>{var o=()=>t();return e.forEach(n=>ot.observe(n,o,r)),()=>{e.forEach(n=>ot.unobserve(n,o))}},[])}function Ds(e,r){return Is.apply(this,arguments)}function Is(){return Is=x(function*(e,r){zr[e]=r,Os(e).set(r)}),Is.apply(this,arguments)}function Bs(e,r,{dflt:t={},nullIfEmpty:o=!1}={}){var n,a=f=>{var c=new Proxy(ot.from(f),{get(p,A,C){return A===Symbol.for("vendetta.storage.emitter")?n||(n=new La,ot.observe(p,j=>{for(var re of j)n.emit(re.type!=="delete"?"SET":"DEL",{path:re.path,value:re.value})}),n):Reflect.get(p,A,C)}}),b=()=>u.set(c);ot.observe(c,b),r(c)},u=Os(e);zr[e]?a(zr[e]):u.exists().then(function(){var f=x(function*(c){c?a(zr[e]=yield u.get()):o?a(zr[e]=null):(zr[e]=t,yield u.set(t),a(t))});return function(c){return f.apply(this,arguments)}}())}function Nh(e){return Ps.apply(this,arguments)}function Ps(){return Ps=x(function*(e,r={}){return new Promise(t=>Bs(e,t,r))}),Ps.apply(this,arguments)}function Ha(e){return Ns.apply(this,arguments)}function Ns(){return Ns=x(function*(e){if(zr[e])return!0;var r=Os(e);return(yield r.exists())?(zr[e]=yield r.get(),!1):!0}),Ns.apply(this,arguments)}function Lh(e){return Ls.apply(this,arguments)}function Ls(){return Ls=x(function*(e){yield uo(e),delete zr[e]}),Ls.apply(this,arguments)}function Fo(...e){return Promise.all(e.map(r=>r[pc]))}function Ms(e){return zr[e]}var dc,pc,zr,Bt,$r=h(()=>{"use strict";s();l();pe();es();mc();co();Oo();dc=Symbol.for("bunny.storage.initError"),pc=Symbol.for("bunny.storage.promise"),zr={};Bt=(e,r={})=>{var t=new Promise(c=>u=c),o,n,a,u;Bs(e,c=>{o=c,n=!0,u()},r);var f=()=>{if(n)return!0;throw new Error(`Attempted to access storage without initializing: ${e}`)};return new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(c=>[c,(b,...p)=>f()&&Reflect[c](o,...p)])),get(c,b,p){return b===dc?a:b===pc?t:f()&&Reflect.get(o??c,b,p)}})}});var Gs={};B(Gs,{BUNNY_PROXY_PREFIX:()=>mo,DISCORD_SERVER:()=>js,GITHUB:()=>ks,HTTP_REGEX:()=>Oh,HTTP_REGEX_MULTI:()=>Us,OFFICIAL_PLUGINS_REPO_URL:()=>On,VD_DISCORD_SERVER_ID:()=>Hs,VD_PLUGINS_CHANNEL_ID:()=>Vs,VD_PROXY_PREFIX:()=>Tr,VD_THEMES_CHANNEL_ID:()=>Dn});var js,ks,Oh,Us,mo,On,Tr,Hs,Vs,Dn,Mt=h(()=>{"use strict";s();l();js="https://discord.gg/XjYgWXHb9Q",ks="https://github.com/pyoncord",Oh=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,Us=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,mo="https://bn-plugins.github.io/vd-proxy",On="https://bn-plugins.github.io/dist/repo.json",Tr="https://vd-plugins.github.io/proxy",Hs="1015931589865246730",Vs="1091880384561684561",Dn="1091880434939482202"});function Va(e,r=0){for(var t=3735928559^r,o=1103547991^r,n=0,a;n<e.length;n++)a=e.charCodeAt(n),t=Math.imul(t^a,2654435761),o=Math.imul(o^a,1597334677);return t=Math.imul(t^t>>>16,2246822507),t^=Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(t^t>>>13,3266489909),[o>>>0,t>>>0]}function hc(e,r=0){var[t,o]=Va(e,r);return t.toString(36).padStart(7,"0")+o.toString(36).padStart(7,"0")}var zs=h(()=>{"use strict";s();l()});function pr(e,r){return at(e,r,{walkable:["props","children","child","sibling"]})}var gc=h(()=>{"use strict";s();l();ar()});function $s(e,r,t,o){if(!(o>t.maxDepth)&&e){try{if(r(e))return e}catch{}if(Array.isArray(e)){for(var n of e)if(!(typeof n!="object"||n===null))try{var a=$s(n,r,t,o+1);if(a)return a}catch{}}else if(typeof e=="object"){for(var u of Object.keys(e))if(!(typeof e[u]!="object"||e[u]===null)&&!(t.walkable.length&&!t.walkable.includes(u))&&!t.ignore.includes(u))try{var f=$s(e[u],r,t,o+1);if(f)return f}catch{}}}}function at(e,r,{walkable:t=[],ignore:o=[],maxDepth:n=100}={}){return $s(e,r,{walkable:t,ignore:o,maxDepth:n},0)}var vc=h(()=>{"use strict";s();l()});function Ys(e,r,t){var o=e;if(r in e)return void t(o[r]);var n;return Object.defineProperty(o,r,{get:()=>n,set(a){n=t(a)??a},configurable:!0,enumerable:!1}),()=>{delete o[r],o[r]=n}}var yc=h(()=>{"use strict";s();l()});function Ws(e,r){if(!e){var t=typeof r=="function"?r():r,o="[Invariant Violation]",n=t?`${o}: ${t}`:o;throw new Error(n)}}var _c=h(()=>{"use strict";s();l()});var Ks={};B(Ks,{LoggerClass:()=>Bn,logger:()=>Ue});var Bn,Ue,it=h(()=>{"use strict";s();l();ce();Bn=ke("Logger"),Ue=new Bn("Bunny")});function ze(e,r){return qs.apply(this,arguments)}function qs(){return qs=x(function*(e,r,t=1e4){var o=yield fetch(e,{signal:Dh(t),...r});if(!o.ok)throw new Error(`Request returned non-ok: ${o.status} ${o.statusText}`);return o}),qs.apply(this,arguments)}function Dh(e){var r=new AbortController;return setTimeout(()=>r.abort(`Timed out after ${e}ms`),e),r.signal}var xc=h(()=>{"use strict";s();l();pe()});var Ga={};B(Ga,{constants:()=>Gs,cyrb64:()=>Va,findInReactTree:()=>pr,findInTree:()=>at,hookDefineProperty:()=>Ys,invariant:()=>Ws,lazy:()=>as,logger:()=>Ks,safeFetch:()=>ze});var ar=h(()=>{"use strict";s();l();Mt();zs();gc();vc();yc();_c();be();it();xc()});var Xs={};B(Xs,{Fragment:()=>hr,jsx:()=>i,jsxs:()=>_});function bc(e){if(!e[0])throw new Error("The first argument (Component) is falsy. Ensure that you are passing a valid component.");var r=ns(e[0]);return r&&(e[0]=r()),e}var Sc,hr,i,_,V=h(()=>{"use strict";s();l();be();ce();Sc=P("jsx","jsxs","Fragment");hr=Symbol.for("react.fragment"),i=(...e)=>Sc.jsx(...bc(e)),_=(...e)=>Sc.jsxs(...bc(e))});var ir,Mn=h(()=>{"use strict";s();l();$r();ir=Bt("themes/colors/preferences.json",{dflt:{selected:null,customBackground:null}})});var Wa={};B(Wa,{ActionSheet:()=>Ar,ActionSheetRow:()=>Ft,AlertActionButton:()=>ol,AlertActions:()=>zh,AlertModal:()=>tl,Avatar:()=>Yh,AvatarPile:()=>$h,BottomSheetTitleHeader:()=>Un,Button:()=>G,Card:()=>xe,CompatButton:()=>Js,CompatSegmentedControl:()=>Jh,FlashList:()=>Gn,FloatingActionButton:()=>nl,FormCheckbox:()=>Vh,FormRadio:()=>rl,FormSwitch:()=>el,Forms:()=>$a,HelpMessage:()=>jn,IconButton:()=>Ee,LegacyAlert:()=>Fn,LegacyForm:()=>Qh,LegacyFormArrow:()=>eg,LegacyFormCTA:()=>rg,LegacyFormCTAButton:()=>tg,LegacyFormCardSection:()=>og,LegacyFormCheckbox:()=>ng,LegacyFormCheckboxRow:()=>ag,LegacyFormCheckmark:()=>ig,LegacyFormDivider:()=>Hn,LegacyFormHint:()=>sg,LegacyFormIcon:()=>al,LegacyFormInput:()=>il,LegacyFormLabel:()=>lg,LegacyFormRadio:()=>ug,LegacyFormRadioGroup:()=>fg,LegacyFormRadioRow:()=>cg,LegacyFormRow:()=>Yr,LegacyFormSection:()=>Ya,LegacyFormSelect:()=>mg,LegacyFormSliderRow:()=>dg,LegacyFormSubLabel:()=>pg,LegacyFormSwitch:()=>hg,LegacyFormSwitchRow:()=>gg,LegacyFormTernaryCheckBox:()=>vg,LegacyFormText:()=>Vn,LegacyFormTitle:()=>yg,PressableScale:()=>Fh,RedesignCompat:()=>Gh,RowButton:()=>Mh,SafeAreaView:()=>kn,SegmentedControl:()=>Kh,SegmentedControlPages:()=>qh,Stack:()=>he,TableCheckbox:()=>Hh,TableCheckboxRow:()=>kh,TableRadio:()=>Uh,TableRadioGroup:()=>za,TableRadioRow:()=>ho,TableRow:()=>T,TableRowGroup:()=>Be,TableRowIcon:()=>po,TableRowTrailingText:()=>jh,TableSwitch:()=>Qs,TableSwitchRow:()=>jt,Text:()=>L,TextArea:()=>Wh,TextInput:()=>$e,TwinButtons:()=>Zs,useSegmentedControlState:()=>Xh});var Bh,gr,ue,Fn,Js,jn,kn,Ft,G,Zs,Ee,Mh,Fh,T,po,jh,Be,za,ho,jt,kh,Qs,Uh,Hh,el,rl,Vh,xe,Gh,tl,ol,zh,$h,he,Yh,$e,Wh,Kh,qh,Xh,Jh,nl,Ar,Un,Zh,L,$a,Qh,eg,rg,tg,og,ng,ag,ig,Hn,sg,al,il,lg,ug,fg,cg,Yr,Ya,mg,dg,pg,hg,gg,vg,Vn,yg,Gn,Q=h(()=>{"use strict";s();l();be();Oa();Do();ce();Bh=mr(([e],r)=>r[e]&&Object.keys(r).length===1,e=>`bunny.metro.common.components.bySingularProp(${e})`),gr=e=>Se(()=>Oe(Bh(e))?.[e]),ue=(...e)=>Se(()=>M(...e)[e[0]]),Fn=cs("FluxContainer(Alert)"),Js=P("Looks","Colors","Sizes"),jn=ke("HelpMessage"),kn=Se(()=>M("useSafeAreaInsets").SafeAreaView),Ft=ue("ActionSheetRow"),G=gr("Button"),Zs=ue("TwinButtons"),Ee=gr("IconButton"),Mh=ue("RowButton"),Fh=ue("PressableScale"),T=ue("TableRow"),po=ue("TableRowIcon"),jh=ue("TableRowTrailingText"),Be=ue("TableRowGroup"),za=ue("TableRadioGroup"),ho=ue("TableRadioRow"),jt=ue("TableSwitchRow"),kh=ue("TableCheckboxRow"),Qs=gr("FormSwitch"),Uh=gr("FormRadio"),Hh=gr("FormCheckbox"),el=gr("FormSwitch"),rl=gr("FormRadio"),Vh=gr("FormCheckbox"),xe=ue("Card"),Gh=Se(()=>M("RedesignCompat").RedesignCompat),tl=ue("AlertModal"),ol=ue("AlertActionButton"),zh=ue("AlertActions"),$h=gr("AvatarPile"),he=ue("Stack"),Yh=ue("default","AvatarSizes","getStatusSize"),$e=gr("TextInput"),Wh=gr("TextArea"),Kh=ue("SegmentedControl"),qh=ue("SegmentedControlPages"),Xh=gr("useSegmentedControlState"),Jh=ue("CompatSegmentedControl"),nl=ue("FloatingActionButton"),Ar=ue("ActionSheet"),Un=ue("BottomSheetTitleHeader"),Zh=P("Text","LegacyText"),L=Se(()=>Zh.Text),$a=P("Form","FormSection"),{Form:Qh,FormArrow:eg,FormCTA:rg,FormCTAButton:tg,FormCardSection:og,FormCheckbox:ng,FormCheckboxRow:ag,FormCheckmark:ig,FormDivider:Hn,FormHint:sg,FormIcon:al,FormInput:il,FormLabel:lg,FormRadio:ug,FormRadioGroup:fg,FormRadioRow:cg,FormRow:Yr,FormSection:Ya,FormSelect:mg,FormSliderRow:dg,FormSubLabel:pg,FormSwitch:hg,FormSwitchRow:gg,FormTernaryCheckBox:vg,FormText:Vn,FormTitle:yg}=Y(()=>$a),Gn=ue("FlashList")});var qa={};B(qa,{Flux:()=>cl,FluxDispatcher:()=>Rr,NavigationNative:()=>me,React:()=>Yn,ReactNative:()=>Ka,assets:()=>sl,channels:()=>zn,clipboard:()=>Me,commands:()=>go,components:()=>Wa,constants:()=>Cr,i18n:()=>kt,invites:()=>ll,messageUtil:()=>vr,navigation:()=>ul,navigationStack:()=>fl,semver:()=>jo,toasts:()=>$n,tokens:()=>st,url:()=>Ut});var Cr,zn,kt,Ut,Me,sl,ll,go,ul,$n,vr,fl,me,st,jo,cl,Rr,Yn,Ka,z=h(()=>{"use strict";s();l();ce();Q();Cr=P("Fonts","Permissions"),zn=P("getVoiceChannelId"),kt=P("Messages"),Ut=P("openURL","openDeeplink"),Me=P("setString","getString","hasString"),sl=P("registerAsset"),ll=P("acceptInviteAndTransitionToInviteChannel"),go=P("getBuiltInCommands"),ul=P("pushLazy"),$n=vs("modules/toast/native/ToastActionCreators.tsx",!0),vr=P("sendBotMessage"),fl=P("createStackNavigator"),me=P("NavigationContainer"),st=P("colors","unsafe_rawColors"),jo=P("parse","clean"),cl=P("connectStores"),Rr=M("_interceptors"),Yn=window.React=P("createElement"),Ka=window.ReactNative=P("AppRegistry")});var Xa={};B(Xa,{common:()=>qa,factories:()=>bn,filters:()=>rs,findAllExports:()=>Nt,findAllModule:()=>os,findAllModuleId:()=>uh,findByDisplayName:()=>fs,findByDisplayNameAll:()=>ms,findByDisplayNameLazy:()=>cs,findByFilePath:()=>gs,findByFilePathLazy:()=>vs,findByName:()=>Mo,findByNameAll:()=>us,findByNameLazy:()=>ke,findByProps:()=>M,findByPropsAll:()=>ls,findByPropsLazy:()=>P,findByStoreName:()=>hs,findByStoreNameLazy:()=>Cn,findByTypeName:()=>ds,findByTypeNameAll:()=>ps,findByTypeNameLazy:()=>ph,findExports:()=>Oe,findModule:()=>ts,findModuleId:()=>lh,lazy:()=>is});var Ye=h(()=>{"use strict";s();l();z();Oa();Tn();Do();An();ce()});var ko=jr((JS,Ec)=>{s();l();Ec.exports=Lt()["chroma-js"]});function Tc(e){var r=(de="dark")=>(ir.type??de)==="dark"?"darker":"light";if(e.spec===3){var t={};for(var[o,n]of Object.entries(e.semantic??{}))if(typeof n=="object"){var{type:a,value:u,opacity:f}=n;if(a==="raw")t[o]={value:u,opacity:f??1};else{var c=wc.RawColor[u];t[o]={value:c,opacity:f??1}}}else if(typeof n=="string")n.startsWith("#")?t[o]={value:Uo.default.hex(n).hex(),opacity:1}:t[o]={value:wc.RawColor[n],opacity:1};else throw new Error(`Invalid semantic definitions: ${n}`);return{spec:3,reference:r(e.type),semantic:t,raw:e.raw??{},background:e.background}}else if(e.spec===2){var b={},p=e.background?{...pn(e.background,["alpha"]),opacity:e.background.alpha}:void 0;if(e.semanticColors)for(var A in e.semanticColors){var C=e.semanticColors[A].map(de=>de||void 0).slice(0,2);C[0]&&(b[A]={value:Wn(C[r()==="light"?1:0]),opacity:1})}if(e.rawColors){for(var j in e.rawColors){var re=e.rawColors[j];re&&(e.rawColors[j]=Wn(re))}Ja.Platform.OS==="android"&&ml(e.rawColors)}return{spec:2,reference:r(),semantic:b,raw:e.rawColors??{},background:p}}throw new Error("Invalid theme spec")}function ml(e){if(e){var r={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var t in r){var[o,n]=r[t];e[o]&&(e[t]=(0,Uo.default)(e[o]).alpha(n).hex())}return e}}function Wn(e){if(e!==void 0){if(Uo.default.valid(e))return(0,Uo.default)(e).hex();var r=Number((0,Ja.processColor)(e));return Uo.default.rgb(r>>16&255,r>>8&255,r&255,r>>24&255).hex()}}var Uo,Ja,wc,dl=h(()=>{"use strict";s();l();Ye();Uo=U(ko());Oo();Ja=U(Z());Mn();wc=M("SemanticColor")});function Vt(e,{update:r=!0}){if(!N.safeMode?.enabled){var t=e?Tc(e):null,o=Object.assign(ee,{current:t,key:`bn-theme-${++Ic}`,lastSetDiscordTheme:Cc.theme.startsWith("bn-theme-")?ee.lastSetDiscordTheme:Cc.theme});t!=null&&(Ht.Theme[o.key.toUpperCase()]=o.key,Rc.DIVIDER_COLORS[o.key]=Rc.DIVIDER_COLORS[o.current.reference],Object.keys(Ht.Shadow).forEach(n=>Ht.Shadow[n][o.key]=Ht.Shadow[n][o.current.reference]),Object.keys(Ht.SemanticColor).forEach(n=>{Ht.SemanticColor[n][o.key]={...Ht.SemanticColor[n][o.current.reference]}})),r&&(Ac.setShouldSyncAppearanceSettings(!1),Ac.updateTheme(t!=null?o.key:o.lastSetDiscordTheme))}}var Ht,_g,Ac,Cc,Rc,Ic,ee,vo=h(()=>{"use strict";s();l();Ce();Ye();dl();Ht=M("SemanticColor"),_g={...Ht.RawColor},Ac=P("updateTheme"),Cc=Cn("ThemeStore"),Rc=P("DIVIDER_COLORS"),Ic=1,ee={current:null,key:`bn-theme-${Ic}`,origRaw:_g,lastSetDiscordTheme:"darker"}});function pl(){var e=[X("default",xg,(r,t)=>(nt([ir]),!ee.current||!ee.current.background?.url||ir.customBackground==="hidden"?t:i(Nc.ImageBackground,{style:{flex:1,height:"100%"},source:ee.current.background?.url&&{uri:ee.current.background.url}||0,blurRadius:typeof ee.current.background?.blur=="number"?ee.current.background?.blur:0,children:t}))),X("render",Sg.prototype,(r,t)=>{if(!(!ee.current||!ee.current.background?.url)){var o=pr(t,a=>a&&"HACK_fixModalInteraction"in a.props&&a?.props?.style);if(o){var n=(0,Pc.default)(o.props.style.backgroundColor||"black").alpha(1-(ee.current.background?.opacity??1));o.props.style=[o.props.style,{backgroundColor:n}]}}})];return()=>e.forEach(r=>r())}var Pc,Nc,xg,Sg,Lc=h(()=>{"use strict";s();l();V();Mn();vo();Le();$r();ar();be();Ye();Pc=U(ko()),Nc=U(Z()),xg=ke("MessagesWrapperConnected",!1),{MessagesWrapper:Sg}=Y(()=>M("MessagesWrapper"))});function gl(){var e=([t])=>t===ee.key?[ee.current.reference]:void 0;Object.keys(Ho.RawColor).forEach(t=>{Object.defineProperty(Ho.RawColor,t,{configurable:!0,enumerable:!0,get:()=>{var o=ee.current?.raw[t];return o||ee.origRaw[t]}})});var r=[Tt("isThemeDark",Oc,e),Tt("isThemeLight",Oc,e),Tt("updateTheme",$i,e),At("resolveSemanticColor",Ho.default.meta??Ho.default.internal,(t,o)=>{if(!ee.current)return o(...t);if(t[0]!==ee.key)return o(...t);t[0]=ee.current.reference;var[n,a]=Bc(ee.current.reference,t[1]),u=ee.current.semantic[n];if(!u&&ee.current.spec===2&&n in Dc&&(u=ee.current.semantic[Dc[n]]),u?.value)return(0,hl.default)(u.value).alpha(u.opacity).hex();var f=ee.current.raw[a.raw];return f?a.opacity===1?f:(0,hl.default)(f).alpha(a.opacity).hex():o(...t)}),()=>{Object.defineProperty(Ho,"RawColor",{configurable:!0,writable:!0,value:ee.origRaw})}];return()=>r.forEach(t=>t())}function Bc(e,r){var t=r[Bc._sym??=Object.getOwnPropertySymbols(r)[0]],o=Ho.SemanticColor[t];return[t,o[e]]}var hl,Ho,Oc,Dc,Mc=h(()=>{"use strict";s();l();vo();rt();Le();Ye();Tn();An();hl=U(ko()),Ho=M("SemanticColor"),Oc=Gr(wn("isThemeDark")),Dc={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"}});function vl(){var e=new Set(["ThemeStore","SelectivelySyncedUserSettingsStore"]),r=[X("get",Fc,([t],o)=>{if(!(!ee.current||!e.has(t))){var n=at(o._state,a=>typeof a.theme=="string");n&&(n.theme=ee.key)}}),Tt("set",Fc,([t,o])=>{if(e.has(t)){var n=JSON.stringify(o),a=ee.lastSetDiscordTheme??"darker",u=n.replace(/"theme":"bn-theme-\d+"/,`"theme":${JSON.stringify(a)}`);return[t,JSON.parse(u)]}})];return()=>r.forEach(t=>t())}var Fc,jc=h(()=>{"use strict";s();l();vo();Le();ar();be();Ye();Fc=Se(()=>{var e=M("impl");return typeof e?.impl=="object"?e.impl:M("storage")})});function yl(e){var r=[vl(),gl(),pl()];return e&&Vt(e,{update:!1}),()=>r.forEach(t=>t())}var kc=h(()=>{"use strict";s();l();Lc();Mc();jc();vo()});var So={};B(So,{fetchTheme:()=>yo,getCurrentTheme:()=>xo,getThemeFromLoader:()=>Gt,initThemes:()=>Al,installTheme:()=>lt,removeTheme:()=>_o,selectTheme:()=>ut,themes:()=>le,updateThemes:()=>Za});function _l(e){return xl.apply(this,arguments)}function xl(){return xl=x(function*(e){if(typeof e!="object")throw new Error("Theme must be an object");yield lo(Hc()||"theme.json").set(e)}),xl.apply(this,arguments)}function bg(e){if(e.semanticColors){var{semanticColors:r}=e;for(var t in r)for(var o in r[t])r[t][o]&&=Wn(r[t][o])||!1}if(e.rawColors){var{rawColors:n}=e;for(var a in n){var u=Wn(n[a]);u&&(e.rawColors[a]=u)}Uc.Platform.OS==="android"&&ml(n)}return e.spec??=2,e}function yo(e){return Sl.apply(this,arguments)}function Sl(){return Sl=x(function*(e,r=!1){var t;try{t=yield(yield ze(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}le[e]={id:e,selected:r,data:bg(t)},r&&(_l(le[e]),Vt(le[e].data,{update:!0}))}),Sl.apply(this,arguments)}function lt(e){return bl.apply(this,arguments)}function bl(){return bl=x(function*(e){if(typeof e!="string"||e in le)throw new Error("Theme already installed");yield yo(e)}),bl.apply(this,arguments)}function ut(e,r=!0){if(e&&(e.selected=!0),Object.keys(le).forEach(t=>le[t].selected=le[t].id===e?.id),e==null&&r)return Vt(null,{update:!0}),_l({});if(e)return Vt(e.data,{update:!0}),_l(e)}function _o(e){return El.apply(this,arguments)}function El(){return El=x(function*(e){var r=le[e];return r.selected&&(yield ut(null)),delete le[e],r.selected}),El.apply(this,arguments)}function Za(){return wl.apply(this,arguments)}function wl(){return wl=x(function*(){yield Ot(le);var e=Gt();yield m(Object.keys(le).map(r=>yo(r,e?.id===r)))}),wl.apply(this,arguments)}function xo(){return Object.values(le).find(e=>e.selected)??null}function Gt(){return Qa()}function Al(){return Tl.apply(this,arguments)}function Tl(){return Tl=x(function*(){if(Ir())try{Re()&&tt("../vendetta_theme.json","null"),yield Fo(ir);var e=Gt();yl(e?.data??null),Za().catch(r=>console.error("Failed to update themes",r))}catch(r){console.error("Failed to initialize themes",r)}}),Tl.apply(this,arguments)}var Uc,le,yr=h(()=>{"use strict";s();l();pe();_e();co();ft();$r();ar();Uc=U(Z());kc();dl();Mn();vo();le=Er(nr(wr("VENDETTA_THEMES")))});function qe(){return Wr!=null}function Re(){return ct!=null}function Eg(){if(!Re()||qe())return null;var e={name:ct.loaderName,features:{}};return Il()&&(e.features.loaderConfig=!0),$c()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:()=>wg(),configurable:!0})),Ir()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:()=>{var r=Qa()?.id;if(!r)return null;var{themes:t}=(yr(),Ge(So));return t[r]??Qa()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:()=>e,configurable:!0}),e}function Cl(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:Eg()}function Rl(){return Re()?ct.loaderName:qe()?Wr.name:"Unknown"}function Vc(){return Re()?ct.loaderVersion:null}function Il(){return Re()?!0:qe()?Wr.features.loaderConfig:!1}function Ir(){return Re()?ct.hasThemeSupport:qe()?Wr.features.themes!=null:!1}function Qa(){if(Re())return ct.storedTheme;if(qe()){var e=Wr.features.themes?.prop;return e&&globalThis[e]||null}return null}function Hc(){return Re()?"pyoncord/current-theme.json":qe()?"vendetta_theme.json":null}function Kn(){return Re()?!!window.__reactDevTools:qe()?Wr.features.devtools!=null:!1}function Gc(){return Kn()?Re()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):qe()?Wr.features.devtools.prop:null:null}function zc(){return Kn()?Re()?window.__reactDevTools.version||null:qe()?Wr.features.devtools.version:null:null}function $c(){return Re()?ct.isSysColorsSupported:qe()?Wr.features.syscolors!=null:!1}function wg(){return $c()?Re()?ct.sysColors:qe()?Wr.features.syscolors.prop:null:null}function Yc(){return Re()?"pyoncord/loader.json":qe()?"vendetta_loader.json":"loader.json"}function Wc(){return Re()?ct.fontPatch===2:!1}var ct,Wr,ft=h(()=>{"use strict";s();l();ct=globalThis.__PYON_LOADER__,Wr=globalThis.__vendetta_loader;Cl()});var ei={};B(ei,{loaderConfig:()=>_r,settings:()=>N});var N,_r,Ce=h(()=>{"use strict";s();l();_e();ft();N=Er(nr(wr("VENDETTA_SETTINGS"))),_r=Er(nr(lo(Yc(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var Ol={};B(Ol,{default:()=>Tg});var Kc,Xc,Pl,Ll,Vo,Nl,mt,qc,qn,Tg,Dl=h(()=>{"use strict";s();l();so();Kc=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),Xc={},Pl={},Ll=Bl("redesign_module");for([qc,qn]of Ll.getModules())for(mt of Kc){if(Vo=void 0,qn[mt])Vo=qn;else if(qn.default?.[mt])Vo=qn.default;else continue;Nl=Reflect.ownKeys(Vo).length,!(Pl[mt]&&Nl>=Pl[mt])&&(Xc[mt]=Vo[mt],Pl[mt]=Reflect.ownKeys(Vo).length,Ll.cacheId(qc),Nl===1&&Kc.delete(mt))}Ll.finish();Tg=Xc});var jl={};B(jl,{getCachedPolyfillModules:()=>Ng,getImportingModuleId:()=>Xi,getModules:()=>Ma,metroModules:()=>je,requireModule:()=>cr,subscribeModule:()=>ss});function ti(e){Object.defineProperty(je,e,{enumerable:!1}),rm.add(e),Ul(Number(e))}function Xn(e){return!e||e===window||e["<!@ pylix was here :fuyusquish: !@>"]===null||e.__proto__===Object.prototype&&Reflect.ownKeys(e).length===0}function Pg(e,r){if(kl(r,e),e.initSentry&&=()=>{},e.default?.track&&e.default.trackMaker&&(e.default.track=()=>Promise.resolve()),e.registerAsset&&(ie(),Ge(_n)).patchAssets(e),!Qc&&["customBubblingEventTypes","customDirectEventTypes","register","get"].every(u=>e[u])&&(Fl("register",e,(u,f)=>{try{return f(...u)}catch{}}),Qc=!0),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(u,f,c){if(f==="isDeveloper"){var{settings:b}=(Ce(),Ge(ei));return b.enableDiscordDeveloperSettings??!1}return Reflect.get(u,f,c)}})),!Zc&&e.fileFinishedImporting&&(Cg("fileFinishedImporting",e,([u])=>{Go===-1||!u||(je[Go].__filePath=u)}),Zc=!0),!Jc&&window["__core-js_shared__"]){var t=u=>typeof u=="function"&&Ig.apply(u,[]);window["__core-js_shared__"].inspectSource=t,Jc=!0}if(e.findHostInstance_DEPRECATED){var o=je[r-1]?.publicModule.exports,n=o.default?.reactProfilingEnabled?1:-1;je[r+n]?.isInitialized||ti(r+n)}e.isMoment&&Fl("defineLocale",e,(u,f)=>{var c=e.locale();f(...u),e.locale(c)});var a=ri.get(Number(r));a&&(a.forEach(u=>u()),ri.delete(Number(r)))}function Xi(){return Go}function ss(e,r){var t=ri.get(e)??new Set;return t.add(r),ri.set(e,t),()=>t.delete(r)}function cr(e){if(je[0]?.isInitialized||Ml(0),!rm.has(e)){if(Number(e)===-1)return Dl(),Ge(Ol);if(je[e]?.isInitialized&&!je[e]?.hasError)return Ml(e);var r=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(Rg);var t;try{t=Ml(e)}catch{ti(e),t=void 0}return ErrorUtils.setGlobalHandler(r),t}}function*Ma(e,r=!1){yield[-1,(Dl(),Ge(Ol))];var t=Vr().findIndex[e];if(r&&!t?.[`_${Hr.FULL_LOOKUP}`]&&(t=void 0),!t?.[`_${Hr.NOT_FOUND}`]){for(var o in t)if(o[0]!=="_"){var n=cr(Number(o));Xn(n)||(yield[o,n])}for(var a in je){var u=cr(Number(a));Xn(u)||(yield[a,u])}}}function*Ng(e){var r=Vr().polyfillIndex[e];for(var t in r){var o=cr(Number(t));Xn(o)||(yield[t,o])}if(!r[`_${Hr.FULL_LOOKUP}`])for(var n in je){var a=cr(Number(n));Xn(a)||(yield[n,a])}}var Ag,Cg,Fl,je,Ml,ri,rm,Rg,Ig,Jc,Zc,Qc,Go,em,io=h(()=>{"use strict";s();l();so();Ki();Ag=function(e){var r=Number(e),t=je[r],o=Vr().exportsIndex[r];if(o&wt.BLACKLISTED)return ti(r),"continue";t.factory&&Fl("factory",t,(n,a)=>{var u=Go;Go=r;var{1:f,4:c}=n;n[2]=b=>{var p=f(b);return p&&p.__esModule?p.default:p},n[3]=b=>{var p=f(b);if(p&&p.__esModule)return p;var A={};return p&&Object.assign(A,p),A.default=p,A},a(...n),Xn(c.exports)?ti(r):Pg(c.exports,r),Go=u})},{before:Cg,instead:Fl}=Aa(),je=window.modules,Ml=window.__r,ri=new Map,rm=new Set,Rg=()=>{},Ig=Function.prototype.toString,Jc=!1,Zc=!1,Qc=!1,Go=-1;for(em in je)Ag(em)});var im={};B(im,{getCacherForUniq:()=>Fa,getMetroCache:()=>Vr,getPolyfillModuleCacher:()=>Bl,indexAssetName:()=>Ji,indexBlacklistFlag:()=>Ul,indexExportsFlags:()=>kl,initMetroCache:()=>Lg});function tm(){var e={_v:om,_buildNumber:ro.Build,_modulesCount:Object.keys(window.modules).length,exportsIndex:{},findIndex:{},polyfillIndex:{},assetsIndex:{}};return setTimeout(()=>{for(var r in window.modules)(io(),Ge(jl)).requireModule(r)},100),We=e,e}function Lg(){return Hl.apply(this,arguments)}function Hl(){return Hl=x(function*(){var e=yield Ur.getItem(nm);if(e==null)return void tm();try{if(We=JSON.parse(e),We._v!==om)throw We=null,"cache invalidated; cache version outdated";if(We._buildNumber!==ro.Build)throw We=null,"cache invalidated; version mismatch";if(We._modulesCount!==Object.keys(window.modules).length)throw We=null,"cache invalidated; modules count mismatch"}catch{tm()}}),Hl.apply(this,arguments)}function am(e){if(e){var r=wt.EXISTS;return r}}function kl(e,r){var t=am(r);t&&t!==wt.EXISTS&&(We.exportsIndex[e]=t)}function Ul(e){We.exportsIndex[e]|=wt.BLACKLISTED}function Fa(e,r){var t=We.findIndex[e]??={};return{cacheId(o,n){t[o]??=am(n),Jn()},finish(o){r&&(t[`_${Hr.FULL_LOOKUP}`]=1),o&&(t[`_${Hr.NOT_FOUND}`]=1),Jn()}}}function Bl(e){var r=We.polyfillIndex[e]??={};return{getModules(){return(io(),Ge(jl)).getCachedPolyfillModules(e)},cacheId(t){r[t]=1,Jn()},finish(){r[`_${Hr.FULL_LOOKUP}`]=1,Jn()}}}function Ji(e,r){isNaN(r)||((We.assetsIndex[e]??={})[r]=1,Jn())}var om,nm,We,Vr,Jn,so=h(()=>{"use strict";s();l();pe();rt();Oo();Ki();om=52,nm="__bunny_metro_cache_key__",We=null,Vr=window.__getMetroCache=()=>We;Jn=dn(()=>{Ur.setItem(nm,JSON.stringify(We))},1e3)});function oi(e){return"componentStack"in e&&typeof e.componentStack=="string"}function ni(e){return!!e.stack}var Vl=h(()=>{"use strict";s();l()});var lm,sm=h(()=>{lm={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",CONTINUE:"Continue",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DESC_EXTRACT_FONTS_FROM_THEME:'Looks out for "fonts" field in your currently applied theme and install it.',DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",DONE:"Done",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",EXTRACT:"Extract",FONT_NAME:"Font Name",FONTS:"Fonts",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install an add-on",INSTALL_FONT:"Install a font",INSTALL_PLUGIN:"Install a plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LABEL_EXTRACT_FONTS_FROM_THEME:"Extract font from theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",REMOVE:"Remove",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart is required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_FONTS:"You are in Safe Mode, meaning fonts have been temporarily disabled. {enabled, select, true {If a font appears to be causing the issue, you can press below to disable it persistently.} other {}}",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SEPARATOR:", ",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_EXTRACTOR_DESC:"This pack overrides the following: {fonts}",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function cm(){var e=({locale:r})=>{var t={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},o=um=t[r]??r;if(o.startsWith("en-")){zo=null;return}fm.has(o)?zo=o:(fm.add(o),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${o}/bunny.json`).then(n=>n.json()).then(n=>Gl[o]=n).then(()=>o===um&&(zo=o)).catch(n=>console.error(`An error occured while fetching strings for ${o}: ${n}`)))};return Rr.subscribe("I18N_LOAD_SUCCESS",e),()=>Rr.unsubscribe("I18N_LOAD_SUCCESS",e)}function sr(e,r){var t=g[e];return new Dg(t).format(r)}var Dg,zo,um,fm,Gl,g,ye=h(()=>{"use strict";s();l();z();ce();sm();Dg=ke("MessageFormat"),zo=null,um=null,fm=new Set,Gl={},g=new Proxy({},{get:(e,r)=>zo&&Gl[zo]?.[r]?Gl[zo]?.[r]:lm[r]})});var ai={};B(ai,{showToast:()=>$});var Bg,$,Pr=h(()=>{"use strict";s();l();ye();ie();be();z();ce();({uuid4:Bg}=Y(()=>M("uuid4"))),$=(e,r)=>$n.open({key:`vd-toast-${Bg()}`,content:e,source:r,icon:r});$.showCopyToClipboard=(e=g.COPIED_TO_CLIPBOARD)=>{$(e,y("toast_copy_link"))}});var si={};B(si,{connectToDebugger:()=>ea,getDebugInfo:()=>Lr,patchLogHook:()=>$l,toggleSafeMode:()=>Qn,versionHash:()=>Zn});function Qn(){return zl.apply(this,arguments)}function zl(){return zl=x(function*(){N.safeMode={...N.safeMode,enabled:!N.safeMode?.enabled},Ir()&&(Gt()?.id&&(N.safeMode.currentThemeId=Gt().id),N.safeMode?.enabled?yield ut(null):N.safeMode?.currentThemeId&&(yield ut(le[N.safeMode?.currentThemeId]))),setTimeout(oo.reload,400)}),zl.apply(this,arguments)}function ea(e){if(Nr!==void 0&&Nr.readyState!==WebSocket.CLOSED&&Nr.close(),!e){$("Invalid debugger URL!",y("Small"));return}Nr=new WebSocket(`ws://${e}`),Nr.addEventListener("open",()=>$("Connected to debugger.",y("Check"))),Nr.addEventListener("message",r=>{try{(0,eval)(r.data)}catch(t){console.error(t)}}),Nr.addEventListener("error",r=>{console.log(`Debugger error: ${r.message}`),$("An error occurred with the debugger connection!",y("Small"))})}function $l(){var e=X("nativeLoggingHook",globalThis,r=>{Nr?.readyState===WebSocket.OPEN&&Nr.send(JSON.stringify({message:r[0],level:r[1]})),Ue.log(r[0])});return()=>{Nr&&Nr.close(),e()}}function Lr(){var e=window.HermesInternal.getRuntimeProperties(),r=e["OSS Release Version"],t="for RN ",o=ii.Platform.constants,n=o.reactNativeVersion;return{vendetta:{version:Zn.split("-")[0],loader:Rl()},bunny:{version:Zn,loader:{name:Rl(),version:Vc()}},discord:{version:ro.Version,build:ro.Build},react:{version:React.version,nativeVersion:r.startsWith(t)?r.substring(t.length):`${n.major}.${n.minor}.${n.patch}`},hermes:{version:r,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...ii.Platform.select({android:{os:{name:"Android",version:o.Release,sdk:o.Version}},ios:{os:{name:o.systemName,version:o.osVersion}}}),...ii.Platform.select({android:{device:{manufacturer:o.Manufacturer,brand:o.Brand,model:o.Model,codename:to.device}},ios:{device:{manufacturer:to.deviceManufacturer,brand:to.deviceBrand,model:to.deviceModel,codename:to.device}}})}}var ii,Nr,Zn,dt=h(()=>{"use strict";s();l();pe();yr();ie();ft();rt();Le();Ce();it();Pr();ii=U(Z());Zn="ada2480-dev"});function Wl(e){var r=gs("modules/forwarding/native/ForwardFailedAlertModal.tsx");return!r&&"extraContent"in e&&(e.content=_(Yl.View,{style:{gap:16},children:[i(L,{variant:"text-md/medium",color:"text-muted",children:e.content}),i(Yl.View,{children:e.extraContent})]}),delete e.extraContent),i(Mg,{...e})}var Yl,Mg,Fg,mm,dm=h(()=>{"use strict";s();l();V();be();Ye();Q();Yl=U(Z()),{AlertModal:Mg,AlertActionButton:Fg}=Y(()=>M("AlertModal","AlertActions")),mm=Fg});var Kl={};B(Kl,{AlertActionButton:()=>mm,AlertModal:()=>Wl});var pm=h(()=>{"use strict";s();l();dm()});function vm(e){return gm.isSemanticColor(e)}function ym(e,r=jg.theme){return gm.resolveSemanticColor(r,e)}var li,Xe,hm,jg,gm,$o=h(()=>{"use strict";s();l();z();ce();li=M("SemanticColor"),Xe=li?.default?.colors??Cr?.ThemeColorMap,hm=li?.default?.unsafe_rawColors??Cr?.Colors,jg=Cn("ThemeStore"),gm=li.default.meta??=li.default.internal});var Jl={};B(Jl,{TextStyleSheet:()=>pt,ThemeContext:()=>ql,createLegacyClassComponentStyles:()=>Ug,createStyles:()=>Or,createThemedStyleSheet:()=>Xl});function Or(e){return Se(()=>xm.createStyles(e))}function Ug(e){return Se(()=>xm.createLegacyClassComponentStyles(e))}function Xl(e){for(var r in e)e[r]=new Proxy(_m.StyleSheet.flatten(e[r]),{get(t,o,n){var a=Reflect.get(t,o,n);return vm(a)?ym(a):a}});return e}var _m,xm,ql,pt,Kr=h(()=>{"use strict";s();l();be();ce();$o();_m=U(Z()),xm=P("createStyles"),{ThemeContext:ql}=Y(()=>M("ThemeContext"),{hint:"object"}),{TextStyleSheet:pt}=Y(()=>M("TextStyleSheet"))});function Dr({selectable:e,style:r,children:t}){return e?Yo.Platform.select({ios:i(Hg,{style:r,children:t}),default:i(Sm,{style:r,children:t,selectable:!0})}):i(Sm,{style:r,children:t})}var Yo,bm,Hg,Sm,Em=h(()=>{"use strict";s();l();V();z();$o();Kr();Yo=U(Z()),bm=Or({codeBlock:{fontFamily:Cr.Fonts.CODE_NORMAL,fontSize:12,textAlignVertical:"center",backgroundColor:Xe.BACKGROUND_SECONDARY,color:Xe.TEXT_NORMAL,borderWidth:1,borderRadius:12,borderColor:Xe.BACKGROUND_TERTIARY,padding:10}}),Hg=({style:e,children:r})=>i(Yo.TextInput,{editable:!1,multiline:!0,style:[bm().codeBlock,e&&e],value:r}),Sm=({selectable:e,style:r,children:t})=>i(Yo.Text,{selectable:e,style:[bm().codeBlock,r&&r],children:t})});var Zl={};B(Zl,{hideSheet:()=>zt,showSheet:()=>bo});function bo(e,r,t){"then"in r||(r=Promise.resolve({default:r})),wm.openLazy(r,e,t??{})}function zt(e){wm.hideActionSheet(e)}var wm,Eo=h(()=>{"use strict";s();l();ce();wm=P("openLazy","hideActionSheet")});function Tm(e){return e.split(/[\s|\n]+?in /).filter(Boolean)}var Am=h(()=>{"use strict";s();l()});var qr=jr((Nw,Cm)=>{s();l();Cm.exports=Lt().react});function ra(e){var[r,t]=(0,Rm.useState)(!0),o;try{o=Tm(e.componentStack),o=r?o.slice(0,4):o}catch{return}return i(xe,{children:_(wo.View,{style:{gap:8},children:[i(L,{variant:"heading-lg/bold",children:"Component Stack"}),i(wo.View,{style:{gap:4},children:o.map(n=>_(wo.View,{style:{flexDirection:"row"},children:[i(L,{variant:"text-md/bold",color:"text-muted",children:"<"}),i(L,{variant:"text-md/bold",children:n}),i(L,{variant:"text-md/bold",color:"text-muted",children:"/>"})]}))}),r&&i(L,{children:"..."}),_(wo.View,{style:{gap:8,flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[i(G,{variant:"secondary",text:`Show ${r?"more":"less"}`,icon:r?y("down_arrow"):i(wo.Image,{style:{transform:[{rotate:`${r?0:180}deg`}]},source:y("down_arrow")}),onPress:()=>t(n=>!n)}),i(G,{variant:"secondary",text:"Copy",icon:y("CopyIcon"),onPress:()=>Me.setString(e.componentStack)})]})]})})}var Rm,wo,Ql=h(()=>{"use strict";s();l();V();Am();ie();z();Q();Rm=U(qr()),wo=U(Z())});function $g(e){return e==="InternalBytecode.js"}function Yg(e){var r=e.match(Vg);if(r)return{type:"FRAME",functionName:r[1],location:r[2]==="native"?{type:"NATIVE"}:r[3]==="address at "?$g(r[4])?{type:"INTERNAL_BYTECODE",sourceUrl:r[4],line1Based:Number.parseInt(r[5],10),virtualOffset0Based:Number.parseInt(r[6],10)}:{type:"BYTECODE",sourceUrl:r[4],line1Based:Number.parseInt(r[5],10),virtualOffset0Based:Number.parseInt(r[6],10)}:{type:"SOURCE",sourceUrl:r[4],line1Based:Number.parseInt(r[5],10),column1Based:Number.parseInt(r[6],10)}};var t=e.match(Gg);if(t)return{type:"SKIPPED",count:Number.parseInt(t[1],10)}}function Wg(e){for(var r=e.split(/\n/),t=[],o=-1,n=0;n<r.length;++n){var a=r[n];if(a){var u=Yg(a);if(u){t.push(u);continue}zg.test(a)||(o=n,t=[])}}var f=r.slice(0,o+1).join(`
`);return{message:f,entries:t}}function Kg(e){var r=[];for(var t of e.entries)if(t.type==="FRAME"){var{location:o,functionName:n}=t;o.type==="NATIVE"||o.type==="INTERNAL_BYTECODE"||r.push({methodName:n,file:o.sourceUrl,lineNumber:o.line1Based,column:o.type==="SOURCE"?o.column1Based-1:o.virtualOffset0Based})}return r}function eu(e){if(e==null)return[];var r=Array.isArray(e)?e:Kg(Wg(e));return r}var Vg,Gg,zg,Im=h(()=>{"use strict";s();l();Vg=/^ {4}at (.+?)(?: \((native)\)?| \((address at )?(.*?):(\d+):(\d+)\))$/,Gg=/^ {4}... skipping (\d+) frames$/,zg=/^ {4}at .*$/});function ta(e){var[r,t]=(0,ru.useState)(!0),o;try{var n=eu(e.error.stack);o=r?n.slice(0,4):n}catch{return null}return i(xe,{children:_($t.View,{style:{gap:12},children:[i(L,{variant:"heading-lg/bold",children:"Call Stack"}),i($t.View,{style:{gap:4},children:o.map((a,u)=>i(qg,{id:u,frame:a}))}),r&&i(L,{children:"..."}),_($t.View,{style:{gap:8,flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[i(G,{variant:"secondary",text:`Show ${r?"more":"less"}`,icon:r?y("down_arrow"):i($t.Image,{style:{transform:[{rotate:`${r?0:180}deg`}]},source:y("down_arrow")}),onPress:()=>t(a=>!a)}),i(G,{variant:"secondary",text:"Copy",icon:y("CopyIcon"),onPress:()=>Me.setString(e.error.stack)})]})]})})}function qg(e){var[r,t]=(0,ru.useState)(!0);return _($t.Pressable,{onPress:()=>t(o=>!o),children:[i(L,{style:{fontFamily:Cr.Fonts.CODE_BOLD},children:e.frame.methodName}),i(L,{style:{fontFamily:Cr.Fonts.CODE_NORMAL},ellipsizeMode:"middle",numberOfLines:r?1:void 0,children:_(L,{color:"text-muted",children:[e.frame.file===Pm?"jsbundle":e.frame.file,":",e.frame.lineNumber,":",e.frame.column]})})]},e.id)}var ru,$t,tu=h(()=>{"use strict";s();l();V();Im();ie();z();Q();ru=U(qr()),$t=U(Z());ou()});function nu(e){return i(Ar,{children:_(Nm.View,{style:{gap:12,paddingVertical:12},children:[i(L,{variant:"heading-lg/extrabold",children:"Error"}),i(Dr,{selectable:!0,children:e.error.message}),ni(e.error)&&i(ta,{error:e.error}),oi(e.error)?i(ra,{componentStack:e.error.componentStack}):null]})})}var Nm,Lm=h(()=>{"use strict";s();l();V();Vl();xr();Q();Nm=U(Z());Ql();tu()});function au(e){return i(xe,{children:_(he,{children:[e.header&&typeof e.header!="string"?e.header:i(L,{variant:"heading-lg/bold",children:e.header??g.UH_OH}),i(Dr,{selectable:!0,children:String(e.error)}),_(Zs,{children:[e.onRetryRender&&i(G,{variant:"destructive",text:g.RETRY_RENDER,onPress:e.onRetryRender}),e.error instanceof Error?i(G,{text:"Details",onPress:()=>bo("BunnyErrorDetailsActionSheet",nu,{error:e.error})}):null]})]})})}var Pm,ou=h(()=>{"use strict";s();l();V();ye();xr();Eo();Q();Lm();Pm=window.HermesInternal.getFunctionLocation(window.__r).fileName});var Xg,ve,iu=h(()=>{"use strict";s();l();Ca();cn();xn();Zi();Ia();V();ou();z();Kr();ve=function(e){"use strict";Et(r,e);function r(t){or(this,r);var o;return o=St(this,r,[t]),o.state={hasErr:!1},o}return br(r,[{key:"render",value:function(){return this.state.hasErr?i(au,{error:this.state.error,onRetryRender:()=>this.setState({hasErr:!1})}):this.props.children}}]),r}(Xg=Yn.Component);Sn(ve,"contextType",ql);Sn(ve,"getDerivedStateFromError",e=>({hasErr:!0,error:e}))});function Jg(){return i(ui.Image,{style:{width:16,height:16},source:y("search")})}var ui,Yt,Om=h(()=>{"use strict";s();l();V();ye();ie();Q();iu();ui=U(Z());Yt=({onChangeText:e,placeholder:r,style:t,isRound:o})=>{var[n,a]=React.useState(""),u=f=>{a(f),e?.(f)};return i(ve,{children:i(ui.View,{style:t,children:i($e,{grow:!0,isClearable:!0,leadingIcon:Jg,placeholder:r??g.SEARCH,onChange:u,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,isRound:o,value:n})})})}});function na({label:e,icon:r,noPadding:t=!1,noAnimation:o=!1,children:n}){var[a,u]=React.useState(!0);return _(hr,{children:[i(T,{label:e,icon:r&&i(T.Icon,{source:y(r)}),trailing:i(Yr.Arrow,{style:{transform:[{rotate:`${a?180:90}deg`}]}}),onPress:()=>{u(!a),o||oa.LayoutAnimation.configureNext(oa.LayoutAnimation.Presets.easeInEaseOut)}}),!a&&i(hr,{children:i(oa.View,{style:!t&&{paddingHorizontal:15},children:n})})]})}var oa,Dm=h(()=>{"use strict";s();l();V();ie();Q();oa=U(Z())});var fi={};B(fi,{Codeblock:()=>Dr,ErrorBoundary:()=>ve,Search:()=>Yt,Summary:()=>na,wrappers:()=>Kl});var xr=h(()=>{"use strict";s();l();pm();Em();iu();Om();Dm()});function su(e){var r=Zg(),t=Lr();return i(ve,{children:_(kn,{style:r.container,children:[_(ci.View,{style:{gap:4},children:[i(L,{variant:"display-lg",children:"Uh oh."}),i(L,{variant:"text-md/normal",children:"A crash occured while rendering a component. This could be caused by a plugin, Bunny or Discord itself."}),_(L,{variant:"text-sm/normal",color:"text-muted",children:[t.os.name,"; ",t.discord.build," (",t.discord.version,"); ",t.bunny.version]})]}),_(ci.ScrollView,{fadingEdgeLength:64,contentContainerStyle:{gap:12},children:[i(Dr,{selectable:!0,children:e.error.message}),ni(e.error)&&i(ta,{error:e.error}),oi(e.error)?i(ra,{componentStack:e.error.componentStack}):null]}),_(xe,{style:{gap:6},children:[i(G,{text:"Reload Discord",onPress:()=>oo.reload()}),!N.safeMode?.enabled&&i(G,{text:"Reload in Safe Mode",onPress:()=>Qn()}),i(G,{variant:"destructive",text:"Retry Render",onPress:()=>e.rerender()})]})]})})}var ci,Zg,Bm=h(()=>{"use strict";s();l();V();Vl();dt();rt();Ce();xr();Kr();z();Q();ci=U(Z());Ql();tu();Zg=Or({container:{flex:1,backgroundColor:st.colors.BG_BASE_SECONDARY,paddingHorizontal:16,height:"100%",padding:8,gap:12}})});function Qg(){var e=ke("ErrorBoundary")[ja];return new Promise(r=>e.getExports(t=>r(t.prototype)))}function lu(){return X.await("render",Qg(),function(){if(this.state.error)return i(su,{error:this.state.error,rerender:()=>this.setState({info:null,error:null})})})}var Mm=h(()=>{"use strict";s();l();V();Bm();Le();An();ce()});var uu=jr((yA,Fm)=>{s();l();Fm.exports=Lt().moment});function km({locale:e}){try{jm.default.locale(e.toLowerCase())}catch(r){Ue.error("Failed to fix timestamps...",r)}Rr.unsubscribe("I18N_LOAD_SUCCESS",km)}var jm,Um,Hm=h(()=>{"use strict";s();l();it();z();jm=U(uu());Um=()=>{Rr.subscribe("I18N_LOAD_SUCCESS",km)}});var mi,Vm=h(()=>{mi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABoBJREFUeF7lW1nIVlUUXasom80kijJKaVQzGtTUjCJteNBmeqigssnIpDIqwmw0GqhQi4iw8SEaHtKgMpNKM7SiyUZpLppoTi0rd2f9nCu36/2+79zxv/5t8MV/n333WWefffb0EQ0iM+sH4AEAowG8CGAqycVVqsgqhWeVbWavAtg/tu4vABNIPphVVih/YwAws2EAlrRQfChJgVM6NQmARwGc0GKHX5PcofTdA2gSAJ8A2KXNJueQPLpsEJoEwI8A+rTZ4GrnIAeQ/KpMEJoEwCoAm3TY3DKSezcKADPbCMDWADYEIK/9B4CVJC2LomYWwv8PgC1JCqxSqJAFmNlOAF6PAfA3ACn3MYBLSD4bqmUgABI3l+T4ULmd+IoCcDeAs9p8RI5NPDNJrminTAYAZAVbkJSlFaaiALwJYEiAFh8CuJHk7Fa8ZqaNbRAgSyzjSc4N5G3LVhQAmfiYDIosBXAGyXeSa8xMJ9orUNb7AAZm9TNpsosCMNnd/9sDlY7Y/gRwAYDZJOUzusjMfvK+JFRcX5J6OgtRUQB2B/BBDg3k8ZeQHBED4AsASoZCaTTJRaHMrfiKAqD1jwM4NqcinwE4mOTnZiYgBWgozSN5RChzJQB40x0A4KMCivwO4GQAFwI4JIMcRYa9i74GhSwgZr5XuWs8LYPyaazPAMh6ojvLeop8tywA5L0V/FSSsbXZ4Eh3DV7udgD8VdgMwK8+JC6iU5a115GcmmVBkrcUC4hdhYPcPX6+RhAWkDysMQB4SzgXwB0Zoroi+q8iKcvLTaVaQMwSZgGYWBMIfUj+nBeBSgDwljADwHk1XIdCL0FlAMRAOL/i0tsgku82zgI8AMruLgNwfV4FA9btQ/KtAL5UlkotIOYTjgdwr6o5eRVts244SWWZuagWALw1DFUGCGBwLk1bLxpG8pW8MmsDwIPQ25W+7wNwTF6FU9bJ2U7L+xLUCkDsSij5keLblASEagmjSL6XVV63AOCtQSVw3d2yytxr3JN7LUklZsHUnQAMcnUE1RRVTi+TXgIwjqSsoiN1CwBmtqvzA28A2LyjhvkYlCKr9vhcp+W1A2BmewB4AcB2nZQr+Hc1aaaQlK9pSbUC4E9eLfCynF8IRoo/JpJUMXYdqgUAM9N3RgFYGKJxDh71FK5WAwbAvgAeShRnPgWwZxoIdQFwEwCV0DfOsbmQJWPi993MZGGqMsdT5e9VdE3GC5UCYGY69ehUQjaSh0dv/5B4j0FCXJ8hrWexHMAIkj9EH6oEADNTZUjNj+MqeOaSIM0nOTb5n2amStH8FEQVNh8eWcJaAHybe7gfU9kLgEzmbd/91VCCujArXdd3hdA2M73fKobKzDTYIK+uRsel7tT75jnKnGvUUtuWpMrra8nMNG12aguZatjKMa7pAsDMtnK9tkdylKVz6lz6snsATFKPwB+M+gtppx//sBoyCyMAkuNppWtYg0CVxeT4tvfPbKcI8zHXpD2RZnaOW3RXDQo27ROrSfYSAGowylv/30iR4qYCQBFSVe9zk0Fd5GKH0QJAPfpO96XJG8mjmyJHOcHFAuA1APvlkbIerzmN5P3SXwBc7IaOblmPN5NVdaXK/RUDRACoTqcOq4KfptA37l1XuKpma0QKrlQ/2LEEJY8i+XQXAD4Q6u+uwZwKKrbtdNWYjMboNDClf0qTl+ktb5W6RsLMbDc/naZK80Cvt/YQSvruYJIr46GwanQTAJzph5Y1/Vk2aVZQCck8xR4kpUgpZGYCQDHNOK9/p6bpRSRvS02GzEx1tZGlaAbopH8DcDnJO0uS2VaMmWnzk1xz9hrXldIob9o+ldf0W+cPZiafkLvbmtDsSY3MytQ7mXUVwJiZrFozTKoK6QcZSVrXAszsSABPFVRIs4MzyjTxgvoo4TsAwCm+Yy2rEC1PswC9CAfm+KBMSsWPW0l+l2N9LUt8UfYKf8Vn/gcAM9MT82VGTeTYngBwdqeB6Ixya2FPAnCSKx4+HPhlBRJ6vsaS/DZwTePYkgCozx7SqpJXl69YmqzFNW6HHRSKxwGhc79XApgV2npqOiBxAE73/ftWOquRqbJT7mGEJoIRhcIaZVGjMm14QT+BucHVDKa7oUSlkT2KIgAUT6/zIwbXYFTmpLxZU909kiIAprhM6+bEDqf7Hy93pY09lSIAFriO7aF+k7/4aYs0i+hxOEQAqIGgNrJ+iDS5p3j4kNP6F9f7+CyBdXonAAAAAElFTkSuQmCC"});function di(e,r,t,o,n){return x(function*(){if(e)return void e();var a=yield t().then(u=>u.default);typeof o=="string"&&(o={title:o}),r??=rv.getRootNavigationRef(),r.navigate("BUNNY_CUSTOM_PAGE",{...o,render:()=>i(a,{...n})})})}var rv,Wo,fu=h(()=>{"use strict";s();l();pe();V();z();ce();xr();rv=P("getRootNavigationRef"),Wo=React.memo(()=>{var e=me.useNavigation(),r=me.useRoute(),{render:t,...o}=r.params;return React.useEffect(()=>void e.setOptions({...o}),[]),i(ve,{children:i(t,{})})})});function tv(){var e=me.useNavigation();return i(hr,{children:Object.keys(Br).map(r=>Br[r].length>0&&i(Ya,{title:r,children:Br[r].filter(t=>t.usePredicate?.()??!0).map((t,o,n)=>_(hr,{children:[i(Yr,{label:t.title(),leading:i(al,{source:t.icon}),trailing:i(Yr.Arrow,{label:t.useTrailing?.()||void 0}),onPress:di(t.onPress,e,t.render,t.title())}),o!==n.length-1&&i(Hn,{})]}))},r))})}function Gm(e){e.push(X("default",ke("getScreens",!1),(t,o)=>({...o,VendettaCustomPage:{title:"Bunny",render:()=>i(Wo,{})},BUNNY_CUSTOM_PAGE:{title:"Bunny",render:()=>i(Wo,{})}})));var r=X("default",ke("UserSettingsOverviewWrapper",!1),(t,o)=>{var n=pr(o.props.children,a=>a.type?.name==="UserSettingsOverview");e.push(X("renderSupportAndAcknowledgements",n.type.prototype,(a,{props:{children:u}})=>{var f=u.findIndex(c=>c?.type?.name==="UploadLogsButton");f!==-1&&u.splice(f,1)})),e.push(X("render",n.type.prototype,(a,u)=>{var f=[kt.Messages.BILLING_SETTINGS,kt.Messages.PREMIUM_SETTINGS],c=pr(u.props.children,p=>p?.children?.[1]?.type===Ya)?.children||u.props.children;if(c){var b=c.findIndex(p=>f.includes(p?.props.label));c.splice(-~b||4,0,i(tv,{}))}}))},!0);e.push(r)}var zm=h(()=>{"use strict";s();l();V();Le();ar();z();Q();ce();Ko();fu()});function nv(){var e=!1;return React.useEffect(()=>void(e=!0),[]),e}function $m(e){var r=()=>Object.values(Br).flatMap(n=>n.map(a=>({[a.key]:{type:"pressable",title:a.title,icon:a.icon,usePredicate:a.usePredicate,useTrailing:a.useTrailing,onPress:di(a.onPress,null,a.render,a.title()),withArrow:!0,...a.rawTabsConfig}}))).reduce((n,a)=>Object.assign(n,a)),t=pi.SETTING_RENDERER_CONFIG,o=pi.SETTING_RENDERER_CONFIG;Object.defineProperty(pi,"SETTING_RENDERER_CONFIG",{enumerable:!0,configurable:!0,get:()=>({...o,VendettaCustomPage:{type:"route",title:()=>"Bunny",screen:{route:"VendettaCustomPage",getComponent:()=>Wo}},BUNNY_CUSTOM_PAGE:{type:"route",title:()=>"Bunny",screen:{route:"BUNNY_CUSTOM_PAGE",getComponent:()=>Wo}},...r()}),set:n=>o=n}),e.push(()=>{Object.defineProperty(pi,"SETTING_RENDERER_CONFIG",{value:t,writable:!0,get:void 0,set:void 0})}),e.push(X("default",ov,(n,a)=>{if(!nv()){var{sections:u}=pr(a,c=>c.props?.sections).props,f=-~u.findIndex(c=>c.label===kt.Messages.ACCOUNT_SETTINGS)||1;Object.keys(Br).forEach(c=>{u.splice(f++,0,{label:c,title:c,settings:Br[c].map(b=>b.key)})})}}))}var pi,ov,Ym=h(()=>{"use strict";s();l();Le();ar();z();ce();Ko();fu();pi=P("SETTING_RENDERER_CONFIG"),ov=ke("SettingsOverviewScreen",!1)});var mu={};B(mu,{patchSettings:()=>cu,registerSection:()=>hi,registeredSections:()=>Br});function hi(e){return Br[e.name]=e.items,()=>delete Br[e.name]}function cu(){var e=new Array;return Gm(e),$m(e),()=>e.forEach(r=>r())}var Br,Ko=h(()=>{"use strict";s();l();zm();Ym();Br={}});function gi({label:e,version:r,icon:t}){return i(T,{label:e,icon:i(T.Icon,{source:y(t)}),trailing:i(Vn,{children:r}),onPress:()=>{Me.setString(`${e} - ${r}`),$.showCopyToClipboard()}})}var Wm=h(()=>{"use strict";s();l();V();ie();z();Q();Pr()});function du(){var e=Lr();J(N);var r=[{label:g.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:g.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],t=[{label:g.LOADER,version:`${e.bunny.loader.name} (${e.bunny.loader.version})`,icon:"ic_download_24px"},{label:g.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:g.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:g.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:g.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:vi.Platform.select({android:g.CODENAME,ios:g.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return i(vi.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:_(he,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[i(Be,{title:g.VERSIONS,children:r.map(o=>i(gi,{label:o.label,version:o.version,icon:o.icon}))}),i(Be,{title:g.PLATFORM,children:t.map(o=>i(gi,{label:o.label,version:o.version,icon:o.icon}))})]})})}var vi,Km=h(()=>{"use strict";s();l();V();ye();Wm();_e();dt();Ce();Q();vi=U(Z())});var Xm={};B(Xm,{default:()=>qm});function qm(){J(N);var e=Lr(),r=me.useNavigation();return i(yi.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:_(he,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[_(Be,{title:g.INFO,children:[i(T,{label:g.BUNNY,icon:i(T.Icon,{source:{uri:mi}}),trailing:i(T.TrailingText,{text:e.bunny.version})}),i(T,{label:"Discord",icon:i(T.Icon,{source:y("Discord")}),trailing:i(T.TrailingText,{text:`${e.discord.version} (${e.discord.build})`})}),i(T,{arrow:!0,label:g.ABOUT,icon:i(T.Icon,{source:y("CircleInformationIcon-primary")}),trailing:T.Arrow,onPress:()=>r.push("BUNNY_CUSTOM_PAGE",{title:g.ABOUT,render:()=>i(du,{})})})]}),_(Be,{title:g.LINKS,children:[i(T,{label:g.DISCORD_SERVER,icon:i(T.Icon,{source:y("Discord")}),trailing:T.Arrow,onPress:()=>Ut.openDeeplink(js)}),i(T,{label:g.GITHUB,icon:i(T.Icon,{source:y("img_account_sync_github_white")}),trailing:T.Arrow,onPress:()=>Ut.openURL(ks)})]}),_(Be,{title:g.ACTIONS,children:[i(T,{label:g.RELOAD_DISCORD,icon:i(T.Icon,{source:y("ic_message_retry")}),onPress:()=>yi.NativeModules.BundleUpdaterManager.reload()}),i(T,{label:N.safeMode?.enabled?g.RELOAD_IN_NORMAL_MODE:g.RELOAD_IN_SAFE_MODE,subLabel:N.safeMode?.enabled?g.RELOAD_IN_NORMAL_MODE_DESC:g.RELOAD_IN_SAFE_MODE_DESC,icon:i(T.Icon,{source:y("ic_privacy_24px")}),onPress:Qn}),i(jt,{label:g.DEVELOPER_SETTINGS,icon:i(T.Icon,{source:y("ic_progress_wrench_24px")}),value:N.developerSettings,onValueChange:t=>{N.developerSettings=t}})]}),i(Be,{title:g.MISCELLANEOUS,children:i(jt,{label:g.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:g.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:i(T.Icon,{source:y("ic_progress_wrench_24px")}),value:N.enableDiscordDeveloperSettings,onValueChange:t=>{N.enableDiscordDeveloperSettings=t}})})]})})}var yi,Jm=h(()=>{"use strict";s();l();V();ye();pu();Km();_e();ie();dt();Ce();Mt();z();Q();yi=U(Z())});var vu={};B(vu,{dismissAlert:()=>gu,openAlert:()=>hu});var hu,gu,yu=h(()=>{"use strict";s();l();be();Ye();({openAlert:hu,dismissAlert:gu}=Y(()=>M("openAlert","dismissAlert")))});function _u(e){var r;try{r=new URL(e)}catch{return!1}return r.protocol==="http:"||r.protocol==="https:"}var Zm=h(()=>{"use strict";s();l()});var ed=jr((Qm,_i)=>{s();l();Ca();cn();xn();Ia();kf();((e,r)=>{typeof define=="function"&&define.amd?define([],r):typeof _i=="object"&&_i.exports?_i.exports=r():e.fuzzysort=r()})(Qm,e=>{"use strict";var r=(S,v)=>{if(!S||!v)return Ae;var E=j(S);Xt(v)||(v=C(v));var R=E.bitflags;return(R&v._bitflags)!==R?Ae:de(E,v)},t=(S,v,E)=>{if(!S)return E?.all?re(v,E):Vi;var R=j(S),O=R.bitflags,I=R.containsSpace,w=p(E?.threshold||0),k=E?.limit||Hi,D=0,K=0,W=v.length;function Ke(Qt){D<k?(wa.add(Qt),++D):(++K,Qt._score>wa.peek()._score&&wa.replaceTop(Qt))}if(E?.key)for(var Fe=E.key,q=0;q<W;++q){var Ve=v[q],te=Ea(Ve,Fe);if(te&&(Xt(te)||(te=C(te)),(O&te._bitflags)===O)){var ae=de(R,te);ae!==Ae&&(ae._score<w||(ae.obj=Ve,Ke(ae)))}}else if(E?.keys){var et=E.keys,Sr=et.length;e:for(var q=0;q<W;++q){var Ve=v[q];{for(var Ne=0,ge=0;ge<Sr;++ge){var Fe=et[ge],te=Ea(Ve,Fe);if(!te){Ui[ge]=ln;continue}Xt(te)||(te=C(te)),Ui[ge]=te,Ne|=te._bitflags}if((O&Ne)!==O)continue}if(I)for(var Qe=0;Qe<R.spaceSearches.length;Qe++)Qr[Qe]=Ze;for(var ge=0;ge<Sr;++ge){if(te=Ui[ge],te===ln){No[ge]=ln;continue}if(No[ge]=de(R,te,!1,I),No[ge]===Ae){No[ge]=ln;continue}if(I)for(var F=0;F<R.spaceSearches.length;F++){if(qt[F]>-1e3&&Qr[F]>Ze){var er=(Qr[F]+qt[F])/4;er>Qr[F]&&(Qr[F]=er)}qt[F]>Qr[F]&&(Qr[F]=qt[F])}}if(I){for(var ur=0;ur<R.spaceSearches.length;ur++)if(Qr[ur]===Ze)continue e}else{for(var Jt=!1,Zt=0;Zt<Sr;Zt++)if(No[Zt]._score!==Ze){Jt=!0;break}if(!Jt)continue}for(var fr=new f(Sr),rr=0;rr<Sr;rr++)fr[rr]=No[rr];if(I)for(var se=0,Lo=0;Lo<R.spaceSearches.length;Lo++)se+=Qr[Lo];else for(var se=Ze,tr=0;tr<Sr;tr++){var ae=fr[tr];if(ae._score>-1e3&&se>Ze){var er=(se+ae._score)/4;er>se&&(se=er)}ae._score>se&&(se=ae._score)}if(fr.obj=Ve,fr._score=se,E?.scoreFn){if(se=E.scoreFn(fr),!se)continue;se=p(se),fr._score=se}se<w||Ke(fr)}}else for(var q=0;q<W;++q){var te=v[q];if(te&&(Xt(te)||(te=C(te)),(O&te._bitflags)===O)){var ae=de(R,te);ae!==Ae&&(ae._score<w||Ke(ae))}}if(D===0)return Vi;for(var un=new Array(D),q=D-1;q>=0;--q)un[q]=wa.poll();return un.total=D+K,un},o=(S,v="<b>",E="</b>")=>{for(var R=typeof v=="function"?v:void 0,O=S.target,I=O.length,w=S.indexes,k="",D=0,K=0,W=!1,Ke=[],Fe=0;Fe<I;++Fe){var q=O[Fe];if(w[K]===Fe){if(++K,W||(W=!0,R?(Ke.push(k),k=""):k+=v),K===w.length){R?(k+=q,Ke.push(R(k,D++)),k="",Ke.push(O.substr(Fe+1))):k+=q+E+O.substr(Fe+1);break}}else W&&(W=!1,R?(Ke.push(R(k,D++)),k=""):k+=E);k+=q}return R?Ke:k},n=S=>{typeof S=="number"?S=""+S:typeof S!="string"&&(S="");var v=Fr(S);return c(S,{_targetLower:v._lower,_targetLowerCodes:v.lowerCodes,_bitflags:v.bitflags})},a=()=>{ji.clear(),ki.clear()},u=function(){function S(){or(this,S)}return br(S,[{key:"indexes",get:function(){return this._indexes.slice(0,this._indexes.len).sort((E,R)=>E-R)}},{key:"indexes",set:function(E){return this._indexes=E}},{key:"highlight",value:function(E,R){return o(this,E,R)}},{key:"score",get:function(){return b(this._score)}},{key:"score",set:function(E){this._score=p(E)}}]),S}(),f=function(S){Et(v,S);function v(){return or(this,v),St(this,v,arguments)}return br(v,[{key:"score",get:function(){return b(this._score)}},{key:"score",set:function(R){this._score=p(R)}}]),v}(Pa(Array)),c=(S,v)=>{var E=new u;return E.target=S,E.obj=v.obj??Ae,E._score=v._score??Ze,E._indexes=v._indexes??[],E._targetLower=v._targetLower??"",E._targetLowerCodes=v._targetLowerCodes??Ae,E._nextBeginningIndexes=v._nextBeginningIndexes??Ae,E._bitflags=v._bitflags??0,E},b=S=>S===Ze?0:S>1?S:Math.E**(((-S+1)**.04307-1)*-2),p=S=>S===0?Ze:S>1?S:1-Math.pow(Math.log(S)/-2+1,1/.04307),A=S=>{typeof S=="number"?S=""+S:typeof S!="string"&&(S=""),S=S.trim();var v=Fr(S),E=[];if(v.containsSpace){var R=S.split(/\s+/);R=[...new Set(R)];for(var O=0;O<R.length;O++)if(R[O]!==""){var I=Fr(R[O]);E.push({lowerCodes:I.lowerCodes,_lower:R[O].toLowerCase(),containsSpace:!1})}}return{lowerCodes:v.lowerCodes,_lower:v._lower,containsSpace:v.containsSpace,bitflags:v.bitflags,spaceSearches:E}},C=S=>{if(S.length>999)return n(S);var v=ji.get(S);return v!==void 0||(v=n(S),ji.set(S,v)),v},j=S=>{if(S.length>999)return A(S);var v=ki.get(S);return v!==void 0||(v=A(S),ki.set(S,v)),v},re=(S,v)=>{var E=[];E.total=S.length;var R=v?.limit||Hi;if(v?.key)for(var O=0;O<S.length;O++){var I=S[O],w=Ea(I,v.key);if(w!=Ae){Xt(w)||(w=C(w));var k=c(w.target,{_score:w._score,obj:I});if(E.push(k),E.length>=R)return E}}else if(v?.keys)for(var O=0;O<S.length;O++){for(var I=S[O],D=new f(v.keys.length),K=v.keys.length-1;K>=0;--K){var w=Ea(I,v.keys[K]);if(!w){D[K]=ln;continue}Xt(w)||(w=C(w)),w._score=Ze,w._indexes.len=0,D[K]=w}if(D.obj=I,D._score=Ze,E.push(D),E.length>=R)return E}else for(var O=0;O<S.length;O++){var w=S[O];if(w!=Ae&&(Xt(w)||(w=C(w)),w._score=Ze,w._indexes.len=0,E.push(w),E.length>=R))return E}return E},de=(S,v,E=!1,R=!1)=>{if(E===!1&&S.containsSpace)return sn(S,v,R);for(var O=S._lower,I=S.lowerCodes,w=I[0],k=v._targetLowerCodes,D=I.length,K=k.length,q=0,W=0,Ke=0;;){var Fe=w===k[W];if(Fe){if(Zr[Ke++]=W,++q,q===D)break;w=I[q]}if(++W,W>=K)return Ae}var q=0,Ve=!1,te=0,ae=v._nextBeginningIndexes;ae===Ae&&(ae=v._nextBeginningIndexes=He(v.target)),W=Zr[0]===0?0:ae[Zr[0]-1];var et=0;if(W!==K)for(;;)if(W>=K){if(q<=0||(++et,et>200))break;--q;var Sr=Sa[--te];W=ae[Sr]}else{var Fe=I[q]===k[W];if(Fe){if(Sa[te++]=W,++q,q===D){Ve=!0;break}++W}else W=ae[W]}var Ne=D<=1?-1:v._targetLower.indexOf(O,Zr[0]),ge=!!~Ne,Qe=ge?Ne===0||v._nextBeginningIndexes[Ne-1]===Ne:!1;if(ge&&!Qe){for(var F=0;F<ae.length;F=ae[F])if(!(F<=Ne)){for(var er=0;er<D&&I[er]===v._targetLowerCodes[F+er];er++);if(er===D){Ne=F,Qe=!0;break}}}var ur=rr=>{for(var se=0,Lo=0,tr=1;tr<D;++tr)rr[tr]-rr[tr-1]!==1&&(se-=rr[tr],++Lo);var un=rr[D-1]-rr[0]-(D-1);if(se-=(12+un)*Lo,rr[0]!==0&&(se-=rr[0]*rr[0]*.2),!Ve)se*=1e3;else{for(var Qt=1,tr=ae[0];tr<K;tr=ae[tr])++Qt;Qt>24&&(se*=(Qt-24)*10)}return se-=(K-D)/2,ge&&(se/=1+D*D*1),Qe&&(se/=1+D*D*1),se-=(K-D)/2,se};if(Ve)if(Qe){for(var F=0;F<D;++F)Zr[F]=Ne+F;var Jt=Zr,Zt=ur(Zr)}else var Jt=Sa,Zt=ur(Sa);else{if(ge)for(var F=0;F<D;++F)Zr[F]=Ne+F;var Jt=Zr,Zt=ur(Jt)}v._score=Zt;for(var F=0;F<D;++F)v._indexes[F]=Jt[F];v._indexes.len=D;var fr=new u;return fr.target=v.target,fr._score=v._score,fr._indexes=v._indexes,fr},sn=(S,v,E)=>{for(var R=new Set,O=0,I=Ae,w=0,k=S.spaceSearches,D=k.length,K=0,W=()=>{for(var ur=K-1;ur>=0;ur--)v._nextBeginningIndexes[ba[ur*2+0]]=ba[ur*2+1]},Ke=!1,F=0;F<D;++F){qt[F]=Ze;var Fe=k[F];if(I=de(Fe,v),E){if(I===Ae)continue;Ke=!0}else if(I===Ae)return W(),Ae;var q=F===D-1;if(!q){for(var Ve=I._indexes,te=!0,ae=0;ae<Ve.len-1;ae++)if(Ve[ae+1]-Ve[ae]!==1){te=!1;break}if(te)for(var et=Ve[Ve.len-1]+1,Sr=v._nextBeginningIndexes[et-1],Ne=et-1;Ne>=0&&Sr===v._nextBeginningIndexes[Ne];Ne--)v._nextBeginningIndexes[Ne]=et,ba[K*2+0]=Ne,ba[K*2+1]=Sr,K++}O+=I._score/D,qt[F]=I._score/D,I._indexes[0]<w&&(O-=(w-I._indexes[0])*2),w=I._indexes[0];for(var ge=0;ge<I._indexes.len;++ge)R.add(I._indexes[ge])}if(E&&!Ke)return Ae;W();var Qe=de(S,v,!0);if(Qe!==Ae&&Qe._score>O){if(E)for(var F=0;F<D;++F)qt[F]=Qe._score/D;return Qe}E&&(I=v),I._score=O;var F=0;for(var er of R)I._indexes[F++]=er;return I._indexes.len=F,I},Fr=S=>{for(var v=S.length,E=S.toLowerCase(),R=[],O=0,I=!1,w=0;w<v;++w){var k=R[w]=E.charCodeAt(w);if(k===32){I=!0;continue}var D=k>=97&&k<=122?k-97:k>=48&&k<=57?26:k<=127?30:31;O|=1<<D}return{lowerCodes:R,bitflags:O,containsSpace:I,_lower:E}},xt=S=>{for(var v=S.length,E=[],R=0,O=!1,I=!1,w=0;w<v;++w){var k=S.charCodeAt(w),D=k>=65&&k<=90,K=D||k>=97&&k<=122||k>=48&&k<=57,W=D&&!O||!I||!K;O=D,I=K,W&&(E[R++]=w)}return E},He=S=>{for(var v=S.length,E=xt(S),R=[],O=E[0],I=0,w=0;w<v;++w)O>w?R[w]=O:(O=E[++I],R[w]=O===void 0?v:O);return R},ji=new Map,ki=new Map,Zr=[],Sa=[],ba=[],Qr=[],qt=[],Ui=[],No=[],Ea=(S,v)=>{var E=S[v];if(E!==void 0)return E;if(typeof v=="function")return v(S);var R=v;Array.isArray(v)||(R=v.split("."));for(var O=R.length,I=-1;S&&++I<O;)S=S[R[I]];return S},Xt=S=>typeof S=="object"&&typeof S._bitflags=="number",Hi=1/0,Ze=-Hi,Vi=[];Vi.total=0;var Ae=null,ln=n(""),Fp=S=>{var v=[],E=0,R={},O=I=>{for(var w=0,k=v[w],D=1;D<E;){var K=D+1;w=D,K<E&&v[K]._score<v[D]._score&&(w=K),v[w-1>>1]=v[w],D=1+(w<<1)}for(var W=w-1>>1;w>0&&k._score<v[W]._score;W=(w=W)-1>>1)v[w]=v[W];v[w]=k};return R.add=I=>{var w=E;v[E++]=I;for(var k=w-1>>1;w>0&&I._score<v[k]._score;k=(w=k)-1>>1)v[w]=v[k];v[w]=I},R.poll=I=>{if(E!==0){var w=v[0];return v[0]=v[--E],O(),w}},R.peek=I=>{if(E!==0)return v[0]},R.replaceTop=I=>{v[0]=I,O()},R},wa=Fp();return{single:r,go:t,prepare:n,cleanup:a}})});function sv(e){var[r,t]=React.useState(""),[o,n]=React.useState(""),[a,u]=React.useState(!1);function f(){u(!0),e.fetchFn(r).then(()=>gu("AddonInputAlert")).catch(c=>c instanceof Error?n(c.message):String(c)).finally(()=>u(!1))}return i(tl,{title:e.label,content:"Type in the source URL you want to install from:",extraContent:_(he,{style:{marginTop:-12},children:[i($e,{autoFocus:!0,isClearable:!0,value:r,onChange:c=>{t(c),o&&n("")},returnKeyType:"done",onSubmitEditing:f,state:o?"error":void 0,errorMessage:o||void 0}),i(lr.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{gap:8},children:i(G,{size:"sm",variant:"tertiary",text:"Import from clipboard",icon:y("ClipboardListIcon"),onPress:()=>Me.getString().then(c=>t(c))})})]}),actions:_(he,{children:[i(G,{loading:a,text:"Install",variant:"primary",disabled:!r||!_u(r),onPress:f}),i(ol,{disabled:a,text:"Cancel",variant:"secondary"})]})})}function To({CardComponent:e,...r}){var[t,o]=React.useState(""),[n,a]=React.useState(()=>null),u=me.useNavigation();(0,qo.useEffect)(()=>{r.OptionsActionSheetComponent&&u.setOptions({headerRight:()=>i(Ee,{size:"sm",variant:"secondary",icon:y("MoreHorizontalIcon"),onPress:()=>bo("AddonMoreSheet",r.OptionsActionSheetComponent)})})},[u]);var f=(0,qo.useMemo)(()=>{var p=r.items;r.resolveItem&&(p=p.map(r.resolveItem).filter(Na));var A=p.filter(C=>Na(C)&&typeof C=="object");return!t&&n&&A.sort(n),rd.default.go(t,A,{keys:r.searchKeywords,all:!0})},[r.items,n,t]),c=(0,qo.useCallback)(()=>{if(!r.installAction)return()=>{};var{label:p,onPress:A,fetchFn:C}=r.installAction;C?hu("AddonInputAlert",i(sv,{label:p??"Install",fetchFn:C})):A?.()},[]);if(f.length===0&&!t)return _(lr.View,{style:{gap:32,flexGrow:1,justifyContent:"center",alignItems:"center"},children:[_(lr.View,{style:{gap:8,alignItems:"center"},children:[i(lr.Image,{source:y("empty_quick_switcher")}),i(L,{variant:"text-lg/semibold",color:"text-normal",children:"Oops! Nothing to see here\u2026 yet!"})]}),i(G,{size:"lg",icon:y("DownloadIcon"),text:r.installAction?.label??"Install",onPress:c})]});var b=_(lr.View,{style:{paddingBottom:8},children:[N.safeMode?.enabled&&_(lr.View,{style:{marginBottom:10},children:[i(jn,{messageType:0,children:r.safeModeHint?.message}),r.safeModeHint?.footer]}),_(lr.View,{style:{flexDirection:"row",gap:8},children:[i(Yt,{style:{flexGrow:1},isRound:!!r.sortOptions,onChangeText:p=>o(p)}),r.sortOptions&&i(Ee,{icon:y("ic_forum_channel_sort_order_24px"),variant:"tertiary",disabled:!!t,onPress:()=>av({key:"AddonListSortOptions",header:{title:"Sort Options",onClose:()=>iv("AddonListSortOptions")},options:Object.entries(r.sortOptions).map(([p,A])=>({label:p,onPress:()=>a(()=>A)}))})})]}),r.ListHeaderComponent&&i(r.ListHeaderComponent,{})]});return _(ve,{children:[i(Gn,{data:f,extraData:t,estimatedItemSize:136,ListHeaderComponent:b,ListEmptyComponent:()=>_(lr.View,{style:{gap:12,padding:12,alignItems:"center"},children:[i(lr.Image,{source:y("devices_not_found")}),i(L,{variant:"text-lg/semibold",color:"text-normal",children:"Hmmm... could not find that!"})]}),contentContainerStyle:{padding:8,paddingHorizontal:12,paddingBottom:90},ItemSeparatorComponent:()=>i(lr.View,{style:{height:8}}),ListFooterComponent:r.ListFooterComponent,renderItem:({item:p})=>i(e,{item:p.obj,result:p})}),r.installAction&&i(nl,{icon:y("PlusLargeIcon"),onPress:c})]})}var rd,qo,lr,av,iv,xi=h(()=>{"use strict";s();l();V();ie();Ce();yu();Eo();Zm();be();Ye();z();Q();xr();Oo();rd=U(ed()),qo=U(qr()),lr=U(Z()),{showSimpleActionSheet:av,hideActionSheet:iv}=Y(()=>M("showSimpleActionSheet"))});var td,od=h(()=>{"use strict";s();l();z();Kr();td=Or({smallIcon:{tintColor:st.colors.LOGO_PRIMARY,height:18,width:18}})});function xu(){return(0,nd.default)(st.unsafe_rawColors.YELLOW_300).alpha(.3).hex()}function lv(){var e=td(),{plugin:r,result:t}=Si(),o=t[0].highlight((u,f)=>i(L,{style:{backgroundColor:xu()},children:u},f)),n=r.icon&&y(r.icon),a=i(L,{numberOfLines:1,variant:"heading-lg/semibold",children:o.length?o:r.name});return _(Wt.View,{style:{flexDirection:"row",alignItems:"center",gap:6},children:[n&&i(Wt.Image,{style:e.smallIcon,source:n}),a]})}function uv(){var{plugin:e,result:r}=Si();if(!e.authors)return null;var t=r[2].highlight((a,u)=>i(L,{style:{backgroundColor:xu()},children:a},u));if(t.length>0)return _(L,{variant:"text-md/semibold",color:"text-muted",children:["by ",t]});var o=["by "];for(var n of e.authors)o.push(typeof n=="string"?n:n.name),o.push(", ");return o.pop(),i(L,{variant:"text-md/semibold",color:"text-muted",children:o})}function fv(){var{plugin:e,result:r}=Si(),t=r[1].highlight((o,n)=>i(L,{style:{backgroundColor:xu()},children:o},n));return i(L,{variant:"text-md/medium",children:t.length?t:e.description})}function Su({result:e,item:r}){r.usePluginState();var[,t]=React.useReducer(()=>({}),0),o=(0,Xo.useMemo)(()=>({plugin:r,result:e}),[r,e]);return i(ad.Provider,{value:o,children:i(xe,{children:_(he,{spacing:16,children:[_(Wt.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[_(Wt.View,{style:{flexShrink:1},children:[i(lv,{}),i(uv,{})]}),i(Wt.View,{children:_(he,{spacing:12,direction:"horizontal",children:[i(cv,{}),i(Qs,{value:r.isEnabled(),onValueChange:n=>{r.toggle(n),t()}})]})})]}),i(fv,{})]})})})}var nd,Xo,Wt,ad,Si,cv,id=h(()=>{"use strict";s();l();V();od();ie();z();Q();Eo();nd=U(ko()),Xo=U(qr()),Wt=U(Z()),ad=(0,Xo.createContext)(null),Si=()=>(0,Xo.useContext)(ad);cv=()=>{var{plugin:e}=Si(),r=me.useNavigation();return _(Wt.View,{style:{flexDirection:"row",gap:6},children:[i(Ee,{size:"sm",variant:"secondary",icon:y("WrenchIcon"),disabled:!e.getPluginSettingsComponent(),onPress:()=>r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}),i(Ee,{size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary"),onPress:()=>void bo("PluginInfoActionSheet",e.resolveSheetComponent(),{plugin:e,navigation:r})})]})}});var Je,Ao,H,ht=h(()=>{"use strict";s();l();pe();_e();Ce();ar();Mt();it();Je=Er(nr(wr("VENDETTA_PLUGINS"))),Ao={},H={plugins:Je,pluginFetch(e){return x(function*(){return e.startsWith(Tr)&&(e=e.replace("https://bunny-mod.github.io/plugins-proxy",mo).replace(Tr,mo)),yield ze(e,{cache:"no-store"})})()},fetchPlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=Je[e],t;try{t=yield(yield this.pluginFetch(e+"manifest.json")).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var o;if(r?.manifest.hash!==t.hash)try{o=yield(yield this.pluginFetch(e+(t.main||"index.js"))).text()}catch{}if(!o&&!r)throw new Error(`Failed to fetch JS for ${e}`);Je[e]={id:e,manifest:t,enabled:r?.enabled??!1,update:r?.update??!0,js:o??r.js}}).apply(this)},installPlugin(e,r=!0){return x(function*(){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in Je)throw new Error("Plugin already installed");yield this.fetchPlugin(e),r&&(yield this.startPlugin(e))}).apply(this)},evalPlugin(e){return x(function*(){var r={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:yield nr(wr(e.id))},logger:new Bn(`Bunny \xBB ${e.manifest.name}`)},t=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,o=(0,eval)(t)(r),n=typeof o=="function"?o():o;return n?.default??n??{}})()},startPlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=Je[e];if(!r)throw new Error("Attempted to start non-existent plugin");try{if(!N.safeMode?.enabled){var t=yield this.evalPlugin(r);Ao[e]=t,t.onLoad?.()}r.enabled=!0}catch(o){Ue.error(`Plugin ${r.id} errored whilst loading, and will be unloaded`,o);try{Ao[r.id]?.onUnload?.()}catch(n){Ue.error(`Plugin ${r.id} errored whilst unloading`,n)}delete Ao[e],r.enabled=!1}}).apply(this)},stopPlugin(e,r=!0){e.endsWith("/")||(e+="/");var t=Je[e],o=Ao[e];if(!t)throw new Error("Attempted to stop non-existent plugin");if(!N.safeMode?.enabled){try{o?.onUnload?.()}catch(n){Ue.error(`Plugin ${t.id} errored whilst unloading`,n)}delete Ao[e]}r&&(t.enabled=!1)},removePlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=Je[e];r.enabled&&this.stopPlugin(e),delete Je[e],yield ka(e)}).apply(this)},initPlugins(){return x(function*(){yield Ot(N,Je);var e=Object.keys(Je);if(!N.safeMode?.enabled){var r=this;yield m(e.filter(t=>Je[t].enabled).map(function(){var t=x(function*(o){return Je[o].update&&(yield r.fetchPlugin(o).catch(n=>Ue.error(n.message))),yield r.startPlugin(o)});return function(o){return t.apply(this,arguments)}}())),e.filter(t=>!Je[t].enabled&&Je[t].update).forEach(t=>this.fetchPlugin(t))}return()=>this.stopAllPlugins()}).apply(this)},stopAllPlugins(){return Object.keys(Ao).forEach(e=>this.stopPlugin(e,!1))},getSettings:e=>Ao[e]?.settings}});function pv(e,r=null,t=!1){if(e.guild_id===Hs){var o;if(e.parent_id===Vs)o="Plugin";else if(e.parent_id===Dn&&Ir())o="Theme";else return;var{firstMessage:n}=t?mv(e):{firstMessage:r},a=n?.content?.match(Us)?.filter(aa[o].urlsFilter);if(!(!a||!a[0]))return o==="Plugin"&&!a[0].endsWith("/")&&(a[0]+="/"),[o,a[0]]}}function hv(e,r=null,t=!1){var[o,n]=pv(e,r,t)??[];J(H.plugins),J(le);var[a,u]=React.useState(!1);if(!o||!n)return[!0];var f=!!aa[o].storage[n],c=function(){var b=x(function*(){u(!0);try{yield aa[o].installOrRemove(n)}catch(p){$(p.message,y("Small"))}finally{u(!1)}});return function(){return b.apply(this,arguments)}}();return[!1,o,f,a,c]}var mv,dv,aa,gv,sd,ld=h(()=>{"use strict";s();l();pe();V();ye();ht();_e();yr();ie();ft();Le();Mt();be();Q();ce();xr();Pr();({useFirstForumPostMessage:mv}=Y(()=>M("useFirstForumPostMessage"))),dv=P("MostCommonForumPostReaction"),aa={Plugin:{storage:H.plugins,urlsFilter:e=>e.startsWith(Tr),installOrRemove:e=>{var r=aa.Plugin.storage[e];return r?H.removePlugin(e):H.installPlugin(e)}},Theme:{storage:le,urlsFilter:e=>e.endsWith(".json"),installOrRemove:e=>{var r=aa.Theme.storage[e];return r?_o(e):lt(e)}}};gv=()=>X("MostCommonForumPostReaction",dv,([{thread:e,firstMessage:r}],t)=>{var[o,n,a,u,f]=hv(e,r,!0);if(!o)return _(hr,{children:[t,i(ve,{children:i(G,{size:"sm",loading:u,disabled:u,variant:a?"secondary":"primary",text:a?g.UNINSTALL:g.INSTALL,onPress:f,icon:y(a?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})})]})}),sd=()=>{var e=[gv()];return()=>e.map(r=>r())}});function bu({title:e,confirmText:r,confirmColor:t,onConfirm:o,cancelText:n,placeholder:a,initialValue:u="",secureTextEntry:f}){var[c,b]=React.useState(u),[p,A]=React.useState("");function C(){var j=Promise.resolve(o(c));j.then(()=>{ud.close()}).catch(re=>{A(re.message)})}return i(Fn,{title:e,confirmText:r,confirmColor:t,isConfirmButtonDisabled:p.length!==0,onConfirm:C,cancelText:n,onCancel:()=>ud.close(),children:i(il,{placeholder:a,value:c,onChange:j=>{b(typeof j=="string"?j:j.text),p&&A("")},returnKeyType:"done",onSubmitEditing:C,error:p||void 0,secureTextEntry:f,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}})})}var ud,fd=h(()=>{"use strict";s();l();V();Q();ce();ud=P("openLazy","close")});function Mr(e){var r=e;return r.body=e.content,delete r.content,r.isDismissable??=!0,cd.show(r)}var cd,Eu,md,Jo=h(()=>{"use strict";s();l();pe();ce();fd();cd=P("openLazy","close");Eu=(e,r)=>cd.openLazy({importer:x(function*(){return()=>React.createElement(e,r)})}),md=e=>Eu(bu,e)});function dd(e){if(e.startsWith(Tr))return"plugin";if(e.endsWith(".json")&&Ir())return"theme"}function pd(e,r){(e==="plugin"?H.installPlugin.bind(H):lt)(r).then(()=>{$(g.SUCCESSFULLY_INSTALLED,y("Check"))}).catch(t=>{$(t.message,y("Small"))})}var yv,_v,xv,Sv,bv,hd,gd=h(()=>{"use strict";s();l();pe();ye();Jo();ht();yr();ie();ft();Le();Mt();be();z();Tn();Do();ce();Pr();yv=Oe(wn("showSimpleActionSheet")),_v=P("handleClick"),{openURL:xv}=Y(()=>Ut),{getChannelId:Sv}=Y(()=>zn),{getChannel:bv}=Y(()=>M("getChannel"));hd=()=>{var e=new Array;return e.push(X("showSimpleActionSheet",yv,r=>{if(r[0].key==="LongPressUrl"){var{header:{title:t},options:o}=r[0],n=dd(t);n&&o.push({label:g.INSTALL_ADDON,onPress:()=>pd(n,t)})}})),e.push(At("handleClick",_v,function(){var r=x(function*(t,o){var{href:n}=t[0],a=dd(n);if(!a)return o.apply(this,t);if(a==="theme"&&bv(Sv())?.parent_id!==Dn)return o.apply(this,t);Mr({title:g.HOLD_UP,content:sr("CONFIRMATION_LINK_IS_A_TYPE",{urlType:a}),onConfirm:()=>pd(a,n),confirmText:g.INSTALL,cancelText:g.CANCEL,secondaryConfirmText:g.OPEN_IN_BROWSER,onConfirmSecondary:()=>xv(n)})});return function(t,o){return r.apply(this,arguments)}}())),()=>e.forEach(r=>r())}});var yd={};B(yd,{default:()=>Ev});var vd,Ev,_d=h(()=>{"use strict";s();l();Ei();ld();gd();vd=[],Ev=bi({manifest:{id:"bunny.quickinstall",name:"QuickInstall",version:"1.0.0",description:"Quickly install Vendetta plugins and themes",authors:[{name:"Vendetta Team"}]},start(){vd=[sd(),hd()]},stop(){vd.forEach(e=>e())}})});var Au={};B(Au,{deleteJsxCreate:()=>wv,onJsxCreate:()=>wu,patchJsx:()=>Tu});function wu(e,r){Kt.has(e)||Kt.set(e,[]),Kt.get(e).push(r)}function wv(e,r){if(Kt.has(e)){var t=Kt.get(e);t.splice(t.indexOf(r),1),t.length===0&&Kt.delete(e)}}function Tu(){var e=([t],o)=>{if(typeof t=="function"&&Kt.has(t.name)){var n=Kt.get(t.name);for(var a of n){var u=a(t,o);u!==void 0&&(o=u)}return o}},r=[X("jsx",xd,e),X("jsxs",xd,e)];return()=>r.forEach(t=>t())}var Kt,xd,wi=h(()=>{"use strict";s();l();Le();Ye();Kt=new Map,xd=P("jsx","jsxs")});var Sd={};B(Sd,{default:()=>Av});var Ti,Tv,Av,bd=h(()=>{"use strict";s();l();Le();wi();Ye();Ti=U(qr());Ei();Tv=Mo("useBadges",!1),Av=bi({manifest:{id:"bunny.badges",name:"Badges",version:"1.0.0",description:"Adds badges to user's profile",authors:[{name:"pylixonly"}]},start(){var e={},r={};wu("RenderedBadge",(t,o)=>{o.props.id.match(/bunny-\d+-\d+/)&&Object.assign(o.props,e[o.props.id])}),X("default",Tv,([t],o)=>{var[n,a]=(0,Ti.useState)(t?r[t.userId]??=[]:[]);(0,Ti.useEffect)(()=>{t&&fetch(`https://raw.githubusercontent.com/pyoncord/badges/refs/heads/main/${t.userId}.json`).then(u=>u.json()).then(u=>a(r[t.userId]=u))},[t]),t&&n.forEach((u,f)=>{e[`bunny-${t.userId}-${f}`]={source:{uri:u.url},id:`bunny-${f}`,label:u.label},o.push({id:`bunny-${t.userId}-${f}`,description:u.label,icon:"_"})})})}})});function bi(e){return e[Symbol.for("bunny.core.plugin")]=!0,e}var Ed,Ei=h(()=>{"use strict";s();l();Ed=()=>({"bunny.quickinstall":(_d(),Ge(yd)),"bunny.badges":(bd(),Ge(Sd))})});var Ai,gt,Zo,ia=h(()=>{"use strict";s();l();(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(Ai||(Ai={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(gt||(gt={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(Zo||(Zo={}))});var Td={};B(Td,{default:()=>Pv});function wd(e){return"```js\n"+e.replaceAll("`","`"+Iv)+"\n```"}var Cv,Rv,Iv,Pv,Ad=h(()=>{"use strict";s();l();pe();ye();ia();Ce();z();ce();Cv=P("inspect"),Rv=x(function*(){}).constructor,Iv="\u200B";Pv=()=>({name:"eval",description:g.COMMAND_EVAL_DESC,shouldHide:()=>N.enableEvalCommand===!0,options:[{name:"code",type:gt.STRING,description:g.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:gt.BOOLEAN,description:g.COMMAND_EVAL_OPT_ASYNC}],execute([e,r],t){return x(function*(){try{var o=Cv.inspect(r?.value?yield Rv(e.value)():eval?.(e.value)),n=o.length>2e3?o.slice(0,2e3)+"...":o;vr.sendBotMessage(t.channel.id,wd(n))}catch(a){vr.sendBotMessage(t.channel.id,wd(a?.stack??a))}})()}})});var Cd={};B(Cd,{default:()=>Nv});var Nv,Rd=h(()=>{"use strict";s();l();ye();ia();dt();z();Nv=()=>({name:"debug",description:g.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:gt.BOOLEAN,description:g.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=Lr(),o=["**Bunny Debug Info**",`> Bunny: ${t.bunny.version} (${t.bunny.loader.name} ${t.bunny.loader.version})`,`> Discord: ${t.discord.version} (${t.discord.build})`,`> React: ${t.react.version} (RN ${t.react.nativeVersion})`,`> Hermes: ${t.hermes.version} (bcv${t.hermes.bytecodeVersion})`,`> System: ${t.os.name} ${t.os.version} ${t.os.sdk?`(SDK ${t.os.sdk})`:""}`.trimEnd(),`> Device: ${t.device.model} (${t.device.codename})`].join(`
`);e?.value?vr.sendBotMessage(r.channel.id,o):vr.sendMessage(r.channel.id,{content:o})}})});var Id={};B(Id,{default:()=>Lv});var Lv,Pd=h(()=>{"use strict";s();l();ye();ht();ia();z();Lv=()=>({name:"plugins",description:g.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:gt.BOOLEAN,description:g.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=Object.values(H.plugins).filter(Boolean);t.sort((u,f)=>u.manifest.name.localeCompare(f.manifest.name));var o=t.filter(u=>u.enabled).map(u=>u.manifest.name),n=t.filter(u=>!u.enabled).map(u=>u.manifest.name),a=[`**Installed Plugins (${t.length}):**`,...o.length>0?[`Enabled (${o.length}):`,"> "+o.join(", ")]:[],...n.length>0?[`Disabled (${n.length}):`,"> "+n.join(", ")]:[]].join(`
`);e?.value?vr.sendBotMessage(r.channel.id,a):vr.sendMessage(r.channel.id,{content:a})}})});var Ci={};B(Ci,{patchCommands:()=>Cu,registerCommand:()=>Qo});function Cu(){var e=X("getBuiltInCommands",go,([r],t)=>[...t,...sa.filter(o=>(r instanceof Array?r.includes(o.type):r===o.type)&&o.__bunny?.shouldHide?.()!==!1)]);return[(Ad(),Ge(Td)),(Rd(),Ge(Cd)),(Pd(),Ge(Id))].forEach(r=>Qo(r.default())),()=>{sa=[],e()}}function Qo(e){var r;try{r=go.getBuiltInCommands(Zo.CHAT,!0,!1)}catch{r=go.getBuiltInCommands(Object.values(Zo),!0,!1)}r.sort((n,a)=>parseInt(a.id)-parseInt(n.id));var t=r[r.length-1];if(e.id=(parseInt(t.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},e.applicationId??="-1",e.type??=Zo.CHAT,e.inputType=Ai.BUILT_IN,e.displayName??=e.name,e.untranslatedName??=e.name,e.displayDescription??=e.description,e.untranslatedDescription??=e.description,e.options)for(var o of e.options)o.displayName??=o.name,o.displayDescription??=o.description;return At("execute",e,(n,a)=>{Promise.resolve(a.apply(e,n)).then(u=>{u&&typeof u=="object"&&vr.sendMessage(n[1].channel.id,u)}).catch(u=>{Ue.error("Failed to execute command",u)})}),sa.push(e),()=>sa=sa.filter(({id:n})=>n!==e.id)}var sa,la=h(()=>{"use strict";s();l();ia();Le();it();z();sa=[]});var Iu={};B(Iu,{dispatcher:()=>Ri,injectFluxInterceptor:()=>Ru,intercept:()=>Dv});function Ru(){var e=r=>{for(var t of Ii){var o=t(r);o!=null&&(o?typeof o=="object"&&(Object.assign(r,o),r[Ov]=!0):r[Nd]=!0)}return Nd in r};return(Ri._interceptors??=[]).unshift(e),()=>Ri._interceptors&&=Ri._interceptors.filter(r=>r!==e)}function Dv(e){return Ii.push(e),()=>{Ii=Ii.filter(r=>r!==e)}}var Nd,Ov,Ri,Ii,Pu=h(()=>{"use strict";s();l();z();Nd=Symbol.for("bunny.flux.blocked"),Ov=Symbol.for("bunny.flux.modified"),Ri=Rr,Ii=[]});var Nu={};B(Nu,{fs:()=>Pn});var Ld=h(()=>{"use strict";s();l();co()});var Lu={};B(Lu,{jsx:()=>Au});var Od=h(()=>{"use strict";s();l();wi()});var Ou={};B(Ou,{assets:()=>_n,commands:()=>Ci,debug:()=>si,flux:()=>Iu,native:()=>Nu,patcher:()=>ao,react:()=>Lu,settings:()=>ei,storage:()=>Fs});var Du=h(()=>{"use strict";s();l();ie();la();dt();Pu();Ld();Le();Od();Ce();$r()});function ua(e,r){return(...t)=>{var o=r(...t);return e.push(o),o}}function Dd(e){var r=new Array,t={...window.bunny,api:{...window.bunny.api,patcher:{before:ua(r,ao.before),after:ua(r,ao.after),instead:ua(r,ao.instead)},commands:{...window.bunny.api.commands,registerCommand:ua(r,Qo)},flux:{...window.bunny.api.flux,intercept:ua(r,window.bunny.api.flux.intercept)}},plugin:{createStorage:()=>Bt(`plugins/storage/${e}.json`),manifest:we.get(e),logger:Ue}};return{object:t,disposers:r}}var Bd=h(()=>{"use strict";s();l();Du();la();$r();it();Co()});var pa={};B(pa,{apiObjects:()=>Wu,corePluginInstances:()=>ca,deleteRepository:()=>Fv,disablePlugin:()=>Ju,enablePlugin:()=>Xu,getId:()=>en,getPluginSettingsComponent:()=>qu,initPlugins:()=>Qu,installPlugin:()=>jv,isCorePlugin:()=>Ku,isPluginEnabled:()=>Ni,isPluginInstalled:()=>yt,pluginInstances:()=>Xr,pluginRepositories:()=>vt,pluginSettings:()=>Ie,refreshPlugin:()=>Mv,registeredPlugins:()=>we,startPlugin:()=>da,stopPlugin:()=>Li,uninstallPlugin:()=>kd,updateAndWritePlugin:()=>fa,updatePlugins:()=>Zu,updateRepository:()=>Fu});function Te(e,r,t){if(!e)throw new Error(`[${r}] Attempted to ${t}`)}function Md(e,r){if(jo.gt(e,r))return!0;var t=jo.coerce(e);return t==null?!1:jo.prerelease(e)?.includes("dev")&&jo.eq(t,r)}function ma(e){return"parentRepository"in e}function Ku(e){return ca.has(e)}function en(e){var r=Pi.get(e);return Te(r,e?.name??"unknown","getting ID from an unregistered/invalid manifest"),r}function qu(e){var r=Xr.get(e);return r&&r.SettingsComponent?r.SettingsComponent:null}function yt(e){return Ie[e]!=null}function Ni(e){return!!Ie[e]?.enabled}function fa(e,r,t){return Bu.apply(this,arguments)}function Bu(){return Bu=x(function*(e,r,t){var o=yield jd(e,`plugins/${r}/manifest.json`);if(o.parentRepository=e,t){o.jsPath=`plugins/scripts/${r}.js`;var n=yield Bv(e,`plugins/${r}/index.js`);yield tt(o.jsPath,n)}if(yield Ds(`plugins/manifests/${r}.json`,o),we.has(r)){var a=we.get(r);return Object.assign(a,o)}return o}),Bu.apply(this,arguments)}function Mv(e,r){return Mu.apply(this,arguments)}function Mu(){return Mu=x(function*(e,r){var t=we.get(e);Te(t,e,"refresh a non-registered plugin"),Te(Xr.get(e),e,"refresh a non-started plugin"),Li(e),ma(t)&&(t=yield fa(r??t.parentRepository,e,!0)),we.delete(e),we.set(e,t),Pi.set(t,e),yield da(e)}),Mu.apply(this,arguments)}function Fu(e){return ju.apply(this,arguments)}function ju(){return ju=x(function*(e){var r=yield jd(e,"repo.json"),t=vt[e],o=!1;if(t)for(var a in t)r[a]||delete t[a];else{for(var n in r)if(ca.has(n))throw new Error(`Plugins can't have the same ID as any of Bunny core plugin '${n}'`);o=!0,vt[e]=r}yield Promise.all(Object.keys(r).map(function(){var b=x(function*(p){if(!t||!t[p]||r[p].alwaysFetch||Md(r[p].version,t[p].version))o=!0,vt[e][p]=r[p],yield fa(e,p,!!(t&&Ie[p]));else{var A=yield Ha(`plugins/manifests/${p}.json`);A===void 0&&(yield fa(e,p,!!(t&&Ie[p])))}});return function(p){return b.apply(this,arguments)}}()));for(var u in r){var f=Ms(`plugins/manifests/${u}.json`);if(f!==void 0){var c=we.get(u);c&&!Md(f.version,c.version)||(we.set(u,f),Pi.set(f,u))}}return o}),ju.apply(this,arguments)}function Fv(e){return ku.apply(this,arguments)}function ku(){return ku=x(function*(e){Te(e!==On,e,"delete the official repository"),Te(vt[e],e,"delete a non-registered repository");var r=[];for(var[t,o]of we)!ma(o)||o.parentRepository!==e||(yt(t)&&r.push(kd(t)),we.delete(t));delete vt[e],yield Promise.all(r)}),ku.apply(this,arguments)}function Xu(e,r){return Uu.apply(this,arguments)}function Uu(){return Uu=x(function*(e,r){Te(yt(e),e,"enable a non-installed plugin"),Ie[e].enabled=!0,r&&(yield da(e))}),Uu.apply(this,arguments)}function Ju(e){Te(yt(e),e,"disable a non-installed plugin"),Xr.has(e)&&Li(e),Ie[e].enabled=!1}function jv(e,r){return Hu.apply(this,arguments)}function Hu(){return Hu=x(function*(e,r){var t=we.get(e);Te(t,e,"install an non-registered plugin"),Te(!yt(e),e,"install an already installed plugin"),Te(ma(t),e,"install a core plugin"),yield fa(t.parentRepository,e,!0),Ie[e]={enabled:!0},r&&da(e)}),Hu.apply(this,arguments)}function kd(e){return Vu.apply(this,arguments)}function Vu(){return Vu=x(function*(e){var r=we.get(e);Te(r,e,"uninstall an unregistered plugin"),Te(yt(e),e,"uninstall a non-installed plugin"),Te(ma(r),e,"uninstall a core plugin"),Xr.has(e)&&Li(e),delete Ie[e],yield uo(`plugins/scripts/${e}.js`)}),Vu.apply(this,arguments)}function da(e){return Gu.apply(this,arguments)}function Gu(){return Gu=x(function*(e){var r=we.get(e);Te(r,e,"start a non-registered plugin"),Te(yt(e),e,"start a non-installed plugin"),Te(Ie[e]?.enabled,e,"start a disabled plugin"),Te(!Xr.has(e),e,"start an already started plugin"),yield Ha(`plugins/storage/${e}.json`);var t;if(ma(r)){try{var o=yield In(r.jsPath),n=globalEvalWithSourceUrl(`(bunny,definePlugin)=>{${o};return plugin?.default ?? plugin;}`,`bunny-plugin/${e}-${r.version}`)}catch(u){throw new Error("An error occured while parsing plugin's code, possibly a syntax error?",{cause:u})}try{var a=Dd(e);if(t=n(a.object,u=>Object.assign(u,{manifest:r})),!t)throw new Error(`Plugin '${e}' does not export a valid plugin instance`);Wu.set(e,a),Xr.set(e,t)}catch(u){throw new Error("An error occured while instantiating plugin's code",{cause:u})}}else t=ca.get(e),Te(t,e,"start a non-existent core plugin"),Xr.set(e,t);try{t.start?.()}catch(u){throw new Error("An error occured while starting the plugin",{cause:u})}}),Gu.apply(this,arguments)}function Li(e){var r=Xr.get(e);Te(r,e,"stop a non-started plugin"),r.stop?.();var t=Wu.get(e);t?.disposers.forEach(o=>o()),Xr.delete(e)}function kv(){return zu.apply(this,arguments)}function zu(){return zu=x(function*(){try{yield Fu(On)}catch(e){console.error("Failed to update official plugins repository",e)}yield m(Object.keys(vt).map(function(){var e=x(function*(r){r!==On&&(yield Fu(r))});return function(r){return e.apply(this,arguments)}}()))}),zu.apply(this,arguments)}function Zu(){return $u.apply(this,arguments)}function $u(){return $u=x(function*(){yield Fo(vt,Ie);var e=Ed();for(var r in e){var{default:t,preenabled:o}=e[r];Ie[r]??={enabled:o??!0},we.set(r,t.manifest),Pi.set(t.manifest,r),ca.set(r,t)}yield kv()}),$u.apply(this,arguments)}function Qu(){return Yu.apply(this,arguments)}function Yu(){return Yu=x(function*(){yield Fo(vt,Ie),yield m([...we.keys()].map(function(){var e=x(function*(r){Ni(r)&&(yield da(r))});return function(r){return e.apply(this,arguments)}}()))}),Yu.apply(this,arguments)}var ca,we,Xr,Wu,vt,Ie,Pi,Fd,Bv,jd,Co=h(()=>{"use strict";s();l();pe();Ei();co();$r();ar();Mt();z();Bd();ca=new Map,we=new Map,Xr=new Map,Wu=new Map,vt=Bt("plugins/repositories.json"),Ie=Bt("plugins/settings.json"),Pi=new WeakMap,Fd=(e,r)=>ze(new URL(r,e),{cache:"no-store"}),Bv=(e,r)=>Fd(e,r).then(t=>t.text()),jd=(e,r)=>Fd(e,r).then(t=>t.json())});var Hd={};B(Hd,{default:()=>Ud});function Ud({plugin:e,navigation:r}){return e.usePluginState(),i(Ar,{children:_(Ro.ScrollView,{contentContainerStyle:{gap:8,marginBottom:12},children:[_(Ro.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[_(Ro.View,{style:{gap:4},children:[i(L,{variant:"heading-xl/semibold",children:e.name}),i(L,{variant:"text-md/medium",color:"text-muted",children:e.description})]}),i(Ro.View,{style:{marginLeft:"auto"},children:e.getPluginSettingsComponent()&&i(G,{size:"md",text:"Configure",variant:"secondary",icon:y("WrenchIcon"),onPress:()=>{zt("PluginInfoActionSheet"),r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}})})]}),i(Ro.View,{style:{flexDirection:"row",justifyContent:"center",alignContent:"center"},children:i(L,{variant:"text-lg/medium",children:"Oops, you shouldn't see this!"})})]})})}var Ro,Vd=h(()=>{"use strict";s();l();V();ie();Eo();Q();Ro=U(Z())});function ef(e){return{id:e.id,name:e.name,description:e.description,authors:e.authors,isEnabled:()=>Ni(en(e)),isInstalled:()=>e.id in Ie,usePluginState(){nt([Ie])},toggle(r){r?Xu(en(e),!0):Ju(en(e))},resolveSheetComponent(){return Promise.resolve().then(()=>(Vd(),Hd))},getPluginSettingsComponent(){return qu(en(e))}}}var Gd=h(()=>{"use strict";s();l();Co();$r()});var $d={};B($d,{default:()=>zd});function zd({plugin:e,navigation:r}){e.usePluginState();var t=H.plugins[e.id],o=e.getPluginSettingsComponent();return i(Ar,{children:_(ha.ScrollView,{children:[_(ha.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[i(L,{variant:"heading-xl/semibold",children:e.name}),i(ha.View,{style:{marginLeft:"auto"},children:o&&i(G,{size:"md",text:"Configure",variant:"secondary",icon:y("WrenchIcon"),onPress:()=>{zt("PluginInfoActionSheet"),r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:o})}})})]}),_(Ft.Group,{children:[i(Ft,{label:g.REFETCH,icon:i(T.Icon,{source:y("RetryIcon")}),onPress:x(function*(){t.enabled&&H.stopPlugin(e.id,!1);try{yield H.fetchPlugin(e.id),$(g.PLUGIN_REFETCH_SUCCESSFUL,y("toast_image_saved"))}catch{$(g.PLUGIN_REFETCH_FAILED,y("Small"))}t.enabled&&(yield H.startPlugin(e.id)),zt("PluginInfoActionSheet")})}),i(Ft,{label:g.COPY_URL,icon:i(T.Icon,{source:y("copy")}),onPress:()=>{Me.setString(e.id),$.showCopyToClipboard()}}),i(Ft,{label:t.update?g.DISABLE_UPDATES:g.ENABLE_UPDATES,icon:i(T.Icon,{source:y("ic_download_24px")}),onPress:()=>{t.update=!t.update,$(sr("TOASTS_PLUGIN_UPDATE",{update:t.update,name:e.name}),y("toast_image_saved"))}}),i(Ft,{label:g.CLEAR_DATA,icon:i(T.Icon,{source:y("ic_duplicate")}),onPress:()=>Mr({title:g.HOLD_UP,content:sr("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.name}),confirmText:g.CLEAR,cancelText:g.CANCEL,confirmColor:"red",onConfirm:x(function*(){t.enabled&&H.stopPlugin(e.id,!1);try{yield H.fetchPlugin(e.id),$(g.PLUGIN_REFETCH_SUCCESSFUL,y("toast_image_saved"))}catch{$(g.PLUGIN_REFETCH_FAILED,y("Small"))}var n;try{ka(e.id),n=["CLEAR_DATA_SUCCESSFUL","trash"]}catch{n=["CLEAR_DATA_FAILED","Small"]}$(sr(n[0],{name:e.name}),y(n[1])),t.enabled&&(yield H.startPlugin(e.id)),zt("PluginInfoActionSheet")})})}),i(Ft,{label:g.DELETE,icon:i(T.Icon,{source:y("ic_message_delete")}),onPress:()=>Mr({title:g.HOLD_UP,content:sr("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.name}),confirmText:g.DELETE,cancelText:g.CANCEL,confirmColor:"red",onConfirm:()=>{try{H.removePlugin(e.id)}catch(n){$(String(n),y("Small"))}zt("PluginInfoActionSheet")}})})]})]})})}var ha,Yd=h(()=>{"use strict";s();l();pe();V();ye();Jo();ht();_e();ie();z();Q();Eo();Pr();ha=U(Z())});function rf(e){return{id:e.id,name:e.manifest.name,description:e.manifest.description,authors:e.manifest.authors,icon:e.manifest.vendetta?.icon,isEnabled:()=>e.enabled,isInstalled:()=>!!(e&&H.plugins[e.id]),usePluginState(){J(H.plugins[e.id])},toggle(r){r?H.startPlugin(e.id):H.stopPlugin(e.id)},resolveSheetComponent(){return Promise.resolve().then(()=>(Yd(),$d))},getPluginSettingsComponent(){return H.getSettings(e.id)}}}var Wd=h(()=>{"use strict";s();l();ht();_e()});var Jd={};B(Jd,{default:()=>Xd});function Hv(e){var r=e.useItems();return i(To,{CardComponent:Su,title:g.PLUGINS,searchKeywords:["name","description",t=>t.authors?.map(o=>typeof o=="string"?o:o.name).join()],sortOptions:{"Name (A-Z)":(t,o)=>t.name.localeCompare(o.name),"Name (Z-A)":(t,o)=>o.name.localeCompare(t.name)},safeModeHint:{message:g.SAFE_MODE_NOTICE_PLUGINS},items:r,...e})}function Xd(){J(N);var e=me.useNavigation();return i(Hv,{useItems:()=>{J(H.plugins),nt([Ie]);var r=Object.values(H.plugins).map(rf),t=[...we.values()].filter(o=>yt(o.id)&&!Ku(o.id)).map(ef);return[...r,...t]},ListHeaderComponent:()=>{var r=Object.values(H.plugins).filter(t=>!t.id.startsWith(Tr)&&!t.id.startsWith(mo));return r.length?i(rn.View,{style:{marginVertical:12,marginHorizontal:10},children:i(xe,{border:"strong",children:_(rn.View,{style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[_(rn.View,{style:{gap:6,flexShrink:1},children:[i(L,{variant:"heading-md/bold",children:"Unproxied Plugins Found"}),i(L,{variant:"text-sm/medium",color:"text-muted",children:"Plugins installed from unproxied sources may run unverified code in this app without your awareness."})]}),i(rn.View,{style:{marginLeft:"auto"},children:i(Ee,{size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary"),style:{marginLeft:8},onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Unproxied Plugins",render:()=>i(Gn,{data:r,contentContainerStyle:{padding:8},ItemSeparatorComponent:()=>i(rn.View,{style:{height:8}}),renderItem:({item:t})=>i(xe,{children:i(L,{variant:"heading-md/semibold",children:t.id})})})})}})})]})})}):null},installAction:{label:"Install a plugin",fetchFn:function(){var r=x(function*(t){if(!t.startsWith(Tr)&&!t.startsWith(mo)&&!N.developerSettings)Kd("bunny-plugin-unproxied-confirmation",i(qd,{title:"Hold On!",content:"You're trying to install a plugin from an unproxied external source. This means you're trusting the creator to run their code in this app without your knowledge. Are you sure you want to continue?",extraContent:i(xe,{children:i(L,{variant:"text-md/bold",children:t})}),actions:_(Uv,{children:[i(tf,{text:"Continue",variant:"primary",onPress:()=>{H.installPlugin(t).then(()=>$(g.TOASTS_INSTALLED_PLUGIN,y("Check"))).catch(o=>Kd("bunny-plugin-install-failed",i(qd,{title:"Install Failed",content:`Unable to install plugin from '${t}':`,extraContent:i(xe,{children:i(L,{variant:"text-md/normal",children:o instanceof Error?o.message:String(o)})}),actions:i(tf,{text:"Okay",variant:"primary"})})))}}),i(tf,{text:"Cancel",variant:"secondary"})]})}));else return yield H.installPlugin(t)});return function(t){return r.apply(this,arguments)}}()}})}var rn,Kd,qd,Uv,tf,Zd=h(()=>{"use strict";s();l();pe();V();ye();xi();id();ht();_e();Co();ie();Ce();$r();Pr();Mt();be();Ye();z();Q();rn=U(Z());Gd();Wd();({openAlert:Kd}=Y(()=>M("openAlert","dismissAlert"))),{AlertModal:qd,AlertActions:Uv,AlertActionButton:tf}=Y(()=>M("AlertModal","AlertActions"))});function of(e){var r=zv();return i(xe,{children:_(he,{spacing:16,children:[_(Io.View,{style:{flexDirection:"row",alignItems:"center"},children:[_(Io.View,{style:r.headerLeading,children:[i(L,{style:r.headerLabel,children:e.headerLabel}),e.headerSublabel&&i(L,{style:r.headerSubtitle,children:e.headerSublabel})]}),_(Io.View,{style:[r.headerTrailing,{marginLeft:"auto"}],children:[_(Io.View,{style:r.actions,children:[e.overflowActions&&i(Ee,{onPress:()=>Gv({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&i(Yr.Icon,{style:{marginRight:8},source:y(e.headerIcon)}),onClose:()=>Vv()},options:e.overflowActions?.map(t=>({...t,icon:y(t.icon)}))}),size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary")}),e.actions?.map(({icon:t,onPress:o,disabled:n})=>i(Ee,{onPress:o,disabled:n,size:"sm",variant:"secondary",icon:y(t)}))]}),e.toggleType&&(e.toggleType==="switch"?i(el,{value:e.toggleValue(),onValueChange:e.onToggleChange}):i(Io.TouchableOpacity,{onPress:()=>{e.onToggleChange?.(!e.toggleValue())},children:i(rl,{selected:e.toggleValue()})}))]})]}),e.descriptionLabel&&i(L,{variant:"text-md/medium",children:e.descriptionLabel})]})})}var Io,Vv,Gv,zv,Qd=h(()=>{"use strict";s();l();V();ie();be();Q();ce();$o();Kr();Io=U(Z()),{hideActionSheet:Vv}=Y(()=>M("openLazy","hideActionSheet")),{showSimpleActionSheet:Gv}=Y(()=>M("showSimpleActionSheet")),zv=Or({card:{backgroundColor:Xe?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...pt["heading-md/semibold"],color:Xe.TEXT_NORMAL},headerSubtitle:{...pt["text-md/semibold"],color:Xe.TEXT_MUTED},descriptionLabel:{...pt["text-md/semibold"],color:Xe.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:Xe.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}})});function ep(e,r){try{ut(e?r:null)}catch(t){console.error("Error while selectAndApply,",t)}}function nf({item:e}){J(e);var[r,t]=React.useState(!1);if(r)return null;var{authors:o}=e.data;return i(of,{headerLabel:e.data.name,headerSublabel:o?`by ${o.map(n=>n.name).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:N.safeMode?.enabled?void 0:"radio",toggleValue:()=>le[e.id].selected,onToggleChange:n=>{ep(n,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:g.REFETCH,onPress:()=>{yo(e.id,e.selected).then(()=>{$(g.THEME_REFETCH_SUCCESSFUL,y("toast_image_saved"))}).catch(()=>{$(g.THEME_REFETCH_FAILED,y("Small"))})}},{icon:"copy",label:g.COPY_URL,onPress:()=>{Me.setString(e.id),$.showCopyToClipboard()}},{icon:"ic_message_delete",label:g.DELETE,isDestructive:!0,onPress:()=>Mr({title:g.HOLD_UP,content:sr("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:g.DELETE,cancelText:g.CANCEL,confirmColor:"red",onConfirm:()=>{_o(e.id).then(n=>{t(!0),n&&ep(!1,e)}).catch(n=>{$(n.message,y("Small"))})}})}]})}var rp=h(()=>{"use strict";s();l();V();ye();Qd();Jo();_e();yr();ie();Ce();z();Pr()});var np={};B(np,{default:()=>op});function op(){return J(N),J(le),i(To,{title:g.THEMES,searchKeywords:["data.name","data.description",e=>e.data.authors?.map(r=>r.name).join(", ")??""],sortOptions:{"Name (A-Z)":(e,r)=>e.data.name.localeCompare(r.data.name),"Name (Z-A)":(e,r)=>r.data.name.localeCompare(e.data.name)},installAction:{label:"Install a theme",fetchFn:lt},items:Object.values(le),safeModeHint:{message:sr("SAFE_MODE_NOTICE_THEMES",{enabled:!!N.safeMode?.currentThemeId}),footer:N.safeMode?.currentThemeId&&i(G,{size:"small",text:g.DISABLE_THEME,onPress:()=>delete N.safeMode?.currentThemeId,style:{marginTop:8}})},CardComponent:nf,OptionsActionSheetComponent:()=>(nt([ir]),_(Ar,{children:[i(Un,{title:"Options"}),_(tp.View,{style:{paddingVertical:20,gap:12},children:[_(za,{title:"Override Theme Type",value:ir.type??"auto",hasIcons:!0,onChange:e=>{ir.type=e!=="auto"?e:void 0,xo()?.data&&Vt(xo().data,{update:!0})},children:[i(ho,{icon:i(po,{source:y("RobotIcon")}),label:"Auto",value:"auto"}),i(ho,{icon:i(po,{source:y("ThemeDarkIcon")}),label:"Dark",value:"dark"}),i(ho,{icon:i(po,{source:y("ThemeLightIcon")}),label:"Light",value:"light"})]}),_(za,{title:"Chat Background",value:ir.customBackground??"shown",hasIcons:!0,onChange:e=>{ir.customBackground=e!=="shown"?e:null},children:[i(ho,{icon:i(po,{source:y("ImageIcon")}),label:"Show",value:"shown"}),i(ho,{icon:i(po,{source:y("DenyIcon")}),label:"Hide",value:"hidden"})]})]})]}))})}var tp,ap=h(()=>{"use strict";s();l();V();ye();xi();rp();_e();yr();Mn();vo();ie();Ce();$r();Q();tp=U(Z())});var ya={};B(ya,{fonts:()=>fe,installFont:()=>$v,removeFont:()=>Oi,saveFont:()=>tn,selectFont:()=>va,updateFonts:()=>mf,validateFont:()=>ga});function ip(e){return af.apply(this,arguments)}function af(){return af=x(function*(e){if(!e&&e!==null)throw new Error("Arg font must be a valid object or null");e?yield tt("fonts.json",JSON.stringify(e)):yield uo("fonts.json")}),af.apply(this,arguments)}function ga(e){if(!e||typeof e!="object")throw new Error("URL returned a null/non-object JSON");if(typeof e.spec!="number")throw new Error("Invalid font 'spec' number");if(e.spec!==1)throw new Error("Only fonts which follows spec:1 are supported");var r=["name","main"];if(r.some(t=>!e[t]))throw new Error(`Font is missing one of the fields: ${r}`);if(e.name.startsWith("__"))throw new Error("Font names cannot start with __");if(e.name in fe)throw new Error(`There is already a font named '${e.name}' installed`)}function tn(e){return sf.apply(this,arguments)}function sf(){return sf=x(function*(e,r=!1){var t;if(typeof e=="object"&&e.__source&&(e=e.__source),typeof e=="string")try{t=yield(yield ze(e)).json(),t.__source=e}catch(o){throw new Error(`Failed to fetch fonts at ${e}`,{cause:o})}else t=e;ga(t);try{yield Promise.all(Object.entries(t.main).map(function(){var o=x(function*([n,a]){var u=a.split(".").pop();u!=="ttf"&&u!=="otf"&&(u="ttf");var f=`downloads/fonts/${t.name}/${n}.${u}`;(yield fo(f))||(yield Cs(a,f))});return function(n){return o.apply(this,arguments)}}()))}catch(o){throw new Error("Failed to download font assets",{cause:o})}return fe[t.name]=t,r&&ip(fe[t.name]),t}),sf.apply(this,arguments)}function $v(e){return lf.apply(this,arguments)}function lf(){return lf=x(function*(e,r=!1){if(typeof e!="string"||Object.values(fe).some(o=>typeof o=="object"&&o.__source===e))throw new Error("Invalid source or font was already installed");var t=yield tn(e);r&&(yield va(t.name))}),lf.apply(this,arguments)}function va(e){return uf.apply(this,arguments)}function uf(){return uf=x(function*(e){if(e&&!(e in fe))throw new Error("Selected font does not exist!");e?fe.__selected=e:delete fe.__selected,yield ip(e==null?null:fe[e])}),uf.apply(this,arguments)}function Oi(e){return ff.apply(this,arguments)}function ff(){return ff=x(function*(e){var r=fe.__selected===e;r&&(yield va(null)),delete fe[e];try{yield As(`downloads/fonts/${e}`)}catch{}}),ff.apply(this,arguments)}function mf(){return cf.apply(this,arguments)}function cf(){return cf=x(function*(){yield Ot(fe),yield m(Object.keys(fe).map(e=>tn(fe[e],fe.__selected===e)))}),cf.apply(this,arguments)}var fe,Po=h(()=>{"use strict";s();l();pe();_e();co();ar();fe=Er(nr(wr("BUNNY_FONTS")))});function Yv(e){var r=e.map(o=>{var{pathname:n}=new URL(o),a=n.replace(/\.[^/.]+$/,"");return a.split("/").pop()}).filter(Boolean),t=r.reduce((o,n)=>n.length<o.length?n:o,r[0]||"");return t?.replace(/-[A-Za-z]*$/,"")||null}function Wv({fonts:e,setName:r}){var t=xo().data,o=t.fonts,[n,a]=(0,Pe.useState)(Yv(Object.values(o))),[u,f]=(0,Pe.useState)(void 0);return _(_t.View,{style:{padding:8,paddingBottom:16,gap:12},children:[i($e,{autoFocus:!0,size:"md",label:g.FONT_NAME,value:n,placeholder:n||"Whitney",onChange:a,errorMessage:u,state:u?"error":void 0}),i(L,{variant:"text-xs/normal",color:"text-muted",children:sr("THEME_EXTRACTOR_DESC",{fonts:Object.keys(o).join(g.SEPARATOR)})}),i(G,{size:"md",variant:"primary",text:g.EXTRACT,disabled:!n,onPress:()=>{if(n)try{ga({spec:1,name:n,main:o}),r(n),Object.assign(e,o),pf.hideActionSheet()}catch(c){f(String(c))}}})]})}function Kv({fonts:e,setName:r,setSource:t}){var[o,n]=(0,Pe.useState)(""),[a,u]=(0,Pe.useState)(!1),[f,c]=(0,Pe.useState)(void 0);return _(_t.View,{style:{padding:8,paddingBottom:16,gap:12},children:[i($e,{autoFocus:!0,size:"md",label:"Font Link",value:o,placeholder:"https://link.to/font/pack.json",onChange:n,errorMessage:f,state:f?"error":void 0}),i(G,{size:"md",variant:"primary",text:"Import",disabled:!o||a,loading:a,onPress:()=>{u(!0),x(function*(){var b=yield ze(o,{cache:"no-store"}),p=yield b.json();ga(p),r(p.name),t(o),Object.assign(e,p.main)})().then(()=>pf.hideActionSheet()).catch(b=>c(String(b))).finally(()=>u(!1))}})]})}function qv(e){var[r,t]=(0,Pe.useState)(e.name),[o,n]=(0,Pe.useState)(e.fontEntries[e.name]);return _(_t.View,{style:{padding:8,paddingBottom:16,gap:12},children:[i($e,{autoFocus:!0,size:"md",label:"Family Name (to override)",value:r,placeholder:"ggsans-Bold",onChange:t}),i($e,{size:"md",label:"Font URL",value:o,placeholder:"https://link.to/the/font.ttf",onChange:n}),i(G,{size:"md",variant:"primary",text:"Apply",onPress:()=>{delete e.fontEntries[e.name],e.fontEntries[r]=o}})]})}function df(e,r,t){pf.openLazy(Promise.resolve({default:()=>i(ve,{children:_(Ar,{children:[i(Un,{title:"Import Font"}),i(e,{fonts:r,...t})]})})}),"FontEditorActionSheet")}function Xv({fontEntry:e}){var r=(0,Pe.useRef)(),t=(0,Pe.useRef)(),[o,n]=(0,Pe.useState)(!1),[a,u]=(0,Pe.useState)();return _(_t.View,{style:{flexDirection:"row",gap:8,justifyContent:"flex-start"},children:[i(_t.View,{style:{flex:1},children:i($e,{isRound:!0,size:"md",label:o?r.current:void 0,placeholder:o?"https://path.to/the/file.ttf":"PostScript name (e.g. ggsans-Bold)",leadingIcon:()=>o?null:i(T.Icon,{source:y("PlusSmallIcon")}),leadingText:o?r.current:"",onChange:f=>(o?t:r).current=f,errorMessage:a,state:a?"error":void 0})}),o&&i(Ee,{size:"md",variant:"secondary",onPress:()=>{r.current="",n(!1)},icon:y("TrashIcon")}),i(Ee,{size:"md",variant:"primary",onPress:()=>{if(!o&&r.current)n(!0);else if(o&&r.current&&t.current)try{var f=new URL(t.current);if(!f.protocol||!f.host)throw"Invalid URL";e[r.current]=t.current,r.current=void 0,t.current=void 0,n(!1)}catch(c){u(String(c))}},icon:y(o?"PlusSmallIcon":"ArrowLargeRightIcon")})]})}function _a(e){var[r,t]=(0,Pe.useState)(e.name),[o,n]=(0,Pe.useState)(),[a,u]=(0,Pe.useState)(!1),f=(0,Pe.useMemo)(()=>Rn(e.name?{...fe[e.name].main}:{}).proxy,[e.name]),c=J(f),b=me.useNavigation();return i(_t.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:_(he,{style:{paddingVertical:24,paddingHorizontal:12},spacing:12,children:[e.name?_(Be,{title:"Actions",children:[i(T,{label:"Refetch fonts from source",icon:i(T.Icon,{source:y("RetryIcon")}),onPress:x(function*(){var p={...fe[e.name]};yield Oi(e.name),yield tn(p),b.goBack()})}),i(T,{label:"Delete font pack",icon:i(T.Icon,{source:y("TrashIcon")}),onPress:()=>Oi(e.name).then(()=>b.goBack())})]}):_(Be,{title:"Import",children:[xo()?.data?.fonts&&i(T,{label:g.LABEL_EXTRACT_FONTS_FROM_THEME,subLabel:g.DESC_EXTRACT_FONTS_FROM_THEME,icon:i(T.Icon,{source:y("HammerIcon")}),onPress:()=>df(Wv,c,{setName:t})}),i(T,{label:"Import font entries from a link",subLabel:"Directly import from a link with a pre-configured JSON file",icon:i(T.Icon,{source:y("LinkIcon")}),onPress:()=>df(Kv,c,{setName:t,setSource:n})})]}),i($e,{size:"lg",value:r,label:g.FONT_NAME,placeholder:"Whitney",onChange:t}),_(Be,{title:"Font Entries",children:[Object.entries(c).map(([p,A])=>i(T,{label:p,subLabel:A,trailing:_(he,{spacing:2,direction:"horizontal",children:[i(Ee,{size:"sm",variant:"secondary",icon:y("PencilIcon"),onPress:()=>df(qv,c,{name:p,fontEntries:c})}),i(Ee,{size:"sm",variant:"secondary",icon:y("TrashIcon"),onPress:()=>delete c[p]})]})})),i(T,{label:i(Xv,{fontEntry:c})})]}),i(_t.View,{style:{flexDirection:"row",justifyContent:"flex-end",bottom:0,left:0},children:i(G,{size:"lg",loading:a,disabled:a||!r||Object.keys(c).length===0,variant:"primary",text:e.name?"Save":"Import",onPress:x(function*(){r&&(u(!0),e.name?(Object.assign(fe[e.name],{name:r,main:c,__edited:!0}),u(!1),b.goBack()):tn({spec:1,name:r,main:c,__source:o}).then(()=>b.goBack()).finally(()=>u(!1)))}),icon:y(e.name?"toast_image_saved":"DownloadIcon"),style:{marginLeft:8}})})]})})}var Pe,_t,pf,hf=h(()=>{"use strict";s();l();pe();V();ye();_e();Po();yr();ie();ar();z();Q();ce();xr();Pe=U(qr()),_t=U(Z()),pf=P("hideActionSheet")});var lp=jr((WL,sp)=>{s();l();sp.exports=Lt()["@shopify/react-native-skia"]});function Zv({font:e}){var r=Jv(st.colors.TEXT_NORMAL),{fontFamily:t,fontSize:o}=pt["text-md/medium"],n=t.split(/,/g)[0],a=nn.useFont(e.main[n])?.getTypeface(),u=(0,up.useMemo)(()=>{if(!a)return null;var f=SkiaApi.TypefaceFontProvider.Make();return f.registerFont(a,n),SkiaApi.ParagraphBuilder.Make({},f).pushStyle({color:SkiaApi.Color(r),fontFamilies:[n],fontSize:o}).addText("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.").pop().build()},[a]);return i(on.View,{style:{height:64},children:a?i(nn.Canvas,{style:{height:64},children:i(nn.Paragraph,{paragraph:u,x:0,y:0,width:300})}):i(on.View,{style:{justifyContent:"center",alignItems:"center"},children:i(L,{color:"text-muted",variant:"heading-lg/semibold",children:"Loading..."})})})}function gf({item:e}){J(fe);var r=me.useNavigation(),t=fe.__selected===e.name;return i(xe,{children:_(he,{spacing:16,children:[_(on.View,{style:{flexDirection:"row",alignItems:"center"},children:[i(on.View,{children:i(L,{variant:"heading-lg/semibold",children:e.name})}),i(on.View,{style:{marginLeft:"auto"},children:_(he,{spacing:12,direction:"horizontal",children:[i(Ee,{onPress:()=>{r.push("BUNNY_CUSTOM_PAGE",{title:"Edit Font",render:()=>i(_a,{name:e.name})})},size:"sm",variant:"secondary",disabled:t,icon:y("PencilIcon")}),i(G,{size:"sm",variant:t?"secondary":"primary",text:t?"Unapply":"Apply",onPress:x(function*(){yield va(t?null:e.name),Mr({title:g.HOLD_UP,content:"Reload Discord to apply changes?",confirmText:g.RELOAD,cancelText:g.CANCEL,confirmColor:"red",onConfirm:oo.reload})})})]})})]}),i(Zv,{font:e})]})})}var nn,up,on,Jv,fp=h(()=>{"use strict";s();l();pe();V();ye();Jo();_e();Po();ie();rt();be();Ye();z();Q();nn=U(lp());Kr();up=U(qr()),on=U(Z());hf();({useToken:Jv}=Y(()=>M("useToken")))});var mp={};B(mp,{default:()=>cp});function cp(){J(N),J(fe);var e=me.useNavigation();return i(To,{title:g.FONTS,searchKeywords:["name","description"],sortOptions:{"Name (A-Z)":(r,t)=>r.name.localeCompare(t.name),"Name (Z-A)":(r,t)=>t.name.localeCompare(r.name)},items:Object.values(fe),safeModeHint:{message:g.SAFE_MODE_NOTICE_FONTS},CardComponent:gf,installAction:{label:"Install a font",onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Import Font",render:()=>i(_a,{})})}}})}var dp=h(()=>{"use strict";s();l();V();ye();xi();hf();_e();Po();Ce();z();fp()});function pp(e,r){var[t,o]=(0,an.useState)(2),n=()=>fo(e,r).then(u=>o(u?1:0)).catch(()=>o(3)),a=(0,an.useMemo)(()=>new Proxy(Pn,{get(u,f,c){var b=Reflect.get(u,f,c);if(typeof b=="function")return(...p)=>{var A=(n(),b(...p));return A?.constructor?.name==="Promise"&&(o(2),A.finally(n)),A}}}),[]);return(0,an.useEffect)(()=>void n(),[]),[t,a]}var an,Jr,hp=h(()=>{"use strict";s();l();co();an=U(qr());(function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"})(Jr||(Jr={}))});function vf({asset:e}){return i(Yr,{label:`${e.name} - ${e.id}`,trailing:i(gp.Image,{source:e.id,style:{width:32,height:32}}),onPress:()=>{Me.setString(e.name),$.showCopyToClipboard()}})}var gp,vp=h(()=>{"use strict";s();l();V();z();Q();Pr();gp=U(Z())});function yf(){var[e,r]=React.useState("");return i(ve,{children:_(Di.View,{style:{flex:1},children:[i(Yt,{style:{margin:10},onChangeText:t=>r(t)}),i(Di.FlatList,{data:Object.values(Ct).filter(t=>t.name.includes(e)||t.id.toString()===e),renderItem:({item:t})=>i(vf,{asset:t}),ItemSeparatorComponent:Hn,keyExtractor:t=>t.name})]})})}var Di,yp=h(()=>{"use strict";s();l();V();vp();ie();Q();xr();Di=U(Z())});var xp={};B(xp,{default:()=>_p});function _p(){var[e,r]=pp("preloads/reactDevtools.js"),t=ty(),o=me.useNavigation();return J(N),J(_r),i(ve,{children:i(Bi.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:_(he,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[i($e,{label:g.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:()=>i(Vn,{style:t.leadingText,children:"ws://"}),defaultValue:N.debuggerUrl,onChange:n=>N.debuggerUrl=n}),_(Be,{title:g.DEBUG,children:[i(T,{label:g.CONNECT_TO_DEBUG_WEBSOCKET,icon:i(T.Icon,{source:y("copy")}),onPress:()=>ea(N.debuggerUrl)}),Kn()&&i(hr,{children:i(T,{label:g.CONNECT_TO_REACT_DEVTOOLS,icon:i(T.Icon,{source:y("ic_badge_staff")}),onPress:()=>window[Gc()||"__vendetta_rdc"]?.connectToDevTools({host:N.debuggerUrl.split(":")?.[0],resolveRNStyle:Bi.StyleSheet.flatten})})})]}),Il()&&i(hr,{children:_(Be,{title:"Loader config",children:[i(jt,{label:g.LOAD_FROM_CUSTOM_URL,subLabel:g.LOAD_FROM_CUSTOM_URL_DEC,icon:i(T.Icon,{source:y("copy")}),value:_r.customLoadUrl.enabled,onValueChange:n=>{_r.customLoadUrl.enabled=n}}),_r.customLoadUrl.enabled&&i(T,{label:i($e,{defaultValue:_r.customLoadUrl.url,size:"md",onChange:n=>_r.customLoadUrl.url=n,placeholder:"http://localhost:4040/vendetta.js",label:g.BUNNY_URL})}),Kn()&&qe()&&i(jt,{label:g.LOAD_REACT_DEVTOOLS,subLabel:`${g.VERSION}: ${zc()}`,icon:i(T.Icon,{source:y("ic_badge_staff")}),value:_r.loadReactDevTools,onValueChange:n=>{_r.loadReactDevTools=n}})]})}),_(Be,{title:"Other",children:[i(T,{arrow:!0,label:g.ASSET_BROWSER,icon:i(T.Icon,{source:y("ic_image")}),trailing:T.Arrow,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{title:g.ASSET_BROWSER,render:yf})}),i(T,{arrow:!0,label:g.ERROR_BOUNDARY_TOOLS_LABEL,icon:i(T.Icon,{source:y("ic_warning_24px")}),onPress:()=>ey({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:i(T.Icon,{style:{marginRight:8},source:y("ic_warning_24px")}),onClose:()=>Qv()},options:[{label:g.BUNNY,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{render:()=>i("undefined",{})})},{label:"Discord",isDestructive:!0,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{noErrorBoundary:!0})}]})}),i(T,{label:g.INSTALL_REACT_DEVTOOLS,subLabel:g.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:i(T.Icon,{source:y("DownloadIcon")}),trailing:i(G,{size:"sm",loading:e===Jr.LOADING,disabled:e===Jr.LOADING,variant:e===Jr.TRUE?"secondary":"primary",text:e===Jr.TRUE?g.UNINSTALL:g.INSTALL,onPress:x(function*(){e===Jr.FALSE?r.downloadFile(ry,"preloads/reactDevtools.js"):e===Jr.TRUE&&r.removeFile("preloads/reactDevtools.js")}),icon:y(e===Jr.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),i(jt,{label:g.ENABLE_EVAL_COMMAND,subLabel:g.ENABLE_EVAL_COMMAND_DESC,icon:i(T.Icon,{source:y("PencilIcon")}),value:N.enableEvalCommand,onValueChange:n=>{N.enableEvalCommand=n}})]})]})})})}var Bi,Qv,ey,ry,ty,Sp=h(()=>{"use strict";s();l();pe();V();ye();hp();yp();_e();ie();dt();ft();Ce();be();z();Q();ce();$o();xr();Kr();Bi=U(Z()),{hideActionSheet:Qv}=Y(()=>M("openLazy","hideActionSheet")),{showSimpleActionSheet:ey}=Y(()=>M("showSimpleActionSheet")),ry="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",ty=Or({leadingText:{...pt["heading-md/semibold"],color:Xe.TEXT_MUTED,marginRight:-4}})});function _f(){hi({name:"Bunny",items:[{key:"BUNNY",title:()=>g.BUNNY,icon:{uri:mi},render:()=>Promise.resolve().then(()=>(Jm(),Xm)),useTrailing:()=>"(ada2480-dev)"},{key:"BUNNY_PLUGINS",title:()=>g.PLUGINS,icon:y("ActivitiesIcon"),render:()=>Promise.resolve().then(()=>(Zd(),Jd))},{key:"BUNNY_THEMES",title:()=>g.THEMES,icon:y("PaintPaletteIcon"),render:()=>Promise.resolve().then(()=>(ap(),np)),usePredicate:()=>Ir()},{key:"BUNNY_FONTS",title:()=>g.FONTS,icon:y("ic_add_text"),render:()=>Promise.resolve().then(()=>(dp(),mp)),usePredicate:()=>Wc()},{key:"BUNNY_DEVELOPER",title:()=>g.DEVELOPER,icon:y("WrenchIcon"),render:()=>Promise.resolve().then(()=>(Sp(),xp)),usePredicate:()=>J(N).developerSettings??!1}]}),hi({name:"Vendetta",items:[]})}var pu=h(()=>{"use strict";s();l();Vm();ye();_e();ie();ft();Ce();Ko()});var Ep=jr((vD,bp)=>{s();l();bp.exports=Lt().lodash});var Tp=jr((xD,wp)=>{s();l();wp.exports=Lt().util});var Mi,Ap,Cp,Rp=h(()=>{"use strict";s();l();V();Jo();_e();_e();yr();ie();la();dt();ft();Le();Ce();ar();zs();it();Ye();z();Q();Q();$o();xr();Kr();Pr();Oo();Mi=U(qr()),Ap=U(Z());ht();Cp=()=>{var e=t=>o=>t(bn.createSimpleFilter(o,hc(new Error().stack))),r=window.vendetta={patcher:{before:gn.before,after:gn.after,instead:gn.instead},metro:{modules:window.modules,find:e(Oe),findAll:e(Nt),findByProps:(...t)=>{t.length===1&&t[0]==="KeyboardAwareScrollView"&&t.push("listenToKeyboardEvents");var o=M(...t);if(o==null&&t.includes("ActionSheetTitleHeader")){var n=M("ActionSheetRow");return{...n,ActionSheetTitleHeader:n.BottomSheetTitleHeader,ActionSheetContentContainer:({children:a})=>((0,Mi.useEffect)(()=>console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. This has been temporarily replaced with View"),[]),(0,Mi.createElement)(Ap.View,null,a))}}return o},findByPropsAll:(...t)=>ls(...t),findByName:(t,o)=>t==="create"&&typeof o>"u"?Mo("create",!1).default:Mo(t,o??!0),findByNameAll:(t,o=!0)=>us(t,o),findByDisplayName:(t,o=!0)=>fs(t,o),findByDisplayNameAll:(t,o=!0)=>ms(t,o),findByTypeName:(t,o=!0)=>ds(t,o),findByTypeNameAll:(t,o=!0)=>ps(t,o),findByStoreName:t=>hs(t),common:{constants:Cr,channels:zn,i18n:kt,url:Ut,toasts:$n,stylesheet:{createThemedStyleSheet:Xl},clipboard:Me,assets:sl,invites:ll,commands:go,navigation:ul,navigationStack:fl,NavigationNative:me,Flux:cl,FluxDispatcher:Rr,React:Yn,ReactNative:Ka,moment:uu(),chroma:ko(),lodash:Ep(),util:Tp()}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:(t,o)=>pr(t,o),findInTree:(t,o,n)=>at(t,o,n),safeFetch:(t,o,n)=>ze(t,o,n),unfreeze:t=>Object.isFrozen(t)?{...t}:t,without:(t,...o)=>pn(t,o)},debug:{connectToDebugger:t=>ea(t),getDebugInfo:()=>Lr()},ui:{components:{Forms:$a,General:Ka,Alert:Fn,Button:Js,HelpMessage:(...t)=>i(jn,{...t}),SafeAreaView:(...t)=>i(kn,{...t}),Summary:na,ErrorBoundary:ve,Codeblock:Dr,Search:Yt},toasts:{showToast:(t,o)=>$(t,o)},alerts:{showConfirmationAlert:t=>Mr(t),showCustomAlert:(t,o)=>Eu(t,o),showInputAlert:t=>md(t)},assets:{all:Ct,find:t=>yn(t),getAssetByName:t=>yn(t),getAssetByID:t=>yn(t),getAssetIDByName:t=>y(t)},semanticColors:Xe,rawColors:hm},plugins:{plugins:H.plugins,fetchPlugin:t=>H.fetchPlugin(t),installPlugin:(t,o=!0)=>H.installPlugin(t,o),startPlugin:t=>H.startPlugin(t),stopPlugin:(t,o=!0)=>H.stopPlugin(t,o),removePlugin:t=>H.removePlugin(t),getSettings:t=>H.getSettings(t)},themes:{themes:le,fetchTheme:(t,o)=>yo(t,o),installTheme:t=>lt(t),selectTheme:t=>ut(t==="default"?null:le[t]),removeTheme:t=>_o(t),getCurrentTheme:()=>Gt(),updateThemes:()=>Za()},commands:{registerCommand:Qo},storage:{createProxy:t=>Rn(t),useProxy:t=>J(t),createStorage:t=>nr(t),wrapSync:t=>Er(t),awaitSyncWrapper:t=>Ot(t),createMMKVBackend:t=>wr(t),createFileBackend:t=>(Re()&&t==="vendetta_theme.json"&&(t="pyoncord/current-theme.json"),lo(t))},settings:N,loader:{identity:Cl()??void 0,config:_r},logger:{log:(...t)=>console.log(...t),info:(...t)=>console.info(...t),warn:(...t)=>console.warn(...t),error:(...t)=>console.error(...t),time:(...t)=>console.time(...t),trace:(...t)=>console.trace(...t),verbose:(...t)=>console.log(...t)},version:Zn,unload:()=>{delete window.vendetta}};return()=>r.unload()}});var Ip=h(()=>{"use strict";s();l()});var Pp=h(()=>{"use strict";s();l()});var xf={};B(xf,{alerts:()=>vu,components:()=>fi,settings:()=>mu,sheets:()=>Zl,styles:()=>Jl,toasts:()=>ai});var Np=h(()=>{"use strict";s();l();yu();xr();Ko();Eo();Kr();Pr()});var Sf={};B(Sf,{_jsx:()=>Xs,api:()=>Ou,fonts:()=>ya,managers:()=>oy,metro:()=>Xa,plugins:()=>pa,themes:()=>So,ui:()=>xf,unload:()=>xa,utils:()=>Ga});function xa(){for(var e of Lp)typeof e=="function"&&e();delete window.bunny}var oy,Lp,Op=h(()=>{"use strict";s();l();Ip();Pp();Po();Co();yr();Du();Np();ar();Ye();Po();Co();yr();V();be();oy=Se(()=>(console.warn("bunny.managers.* is deprecated, and moved the top level (bunny.*). bunny.managers will be eventually removed soon"),{get fonts(){return ya},get plugins(){return pa},get themes(){return So}}),{hint:"object"}),Lp=[];xa.push=e=>{Lp.push(e)}});var Dp={};B(Dp,{default:()=>ny});var ny,Bp=h(()=>{"use strict";s();l();pe();Mm();Hm();ye();pu();Rp();ht();Po();Co();yr();la();dt();Pu();wi();it();Ko();Op();ny=x(function*(){yield Promise.all([Al(),Ru(),cu(),$l(),Cu(),Tu(),Cp(),cm(),_f(),Um(),lu(),Zu()]).then(e=>e.forEach(r=>r&&xa.push(r))),window.bunny=Sf,H.initPlugins().then(e=>xa.push(e)).catch(()=>alert("Failed to initialize Vendetta plugins")),Qu(),mf(),Ue.log("Bunny is ready!")})});s();l();pe();var{instead:ay}=Aa();globalThis.window=globalThis;function Mp(){return bf.apply(this,arguments)}function bf(){return bf=x(function*(){try{Object.freeze=Object.seal=Object,yield(so(),Ge(im)).initMetroCache(),yield(Bp(),Ge(Dp)).default()}catch(t){var{ClientInfoManager:e}=(rt(),Ge(If)),r=t instanceof Error?t.stack:void 0;console.log(r??t?.toString?.()??t),alert([`Failed to load Bunny!
`,`Build Number: ${e.Build}`,"Bunny: ada2480-dev",r||t?.toString?.()].join(`
`))}}),bf.apply(this,arguments)}if(typeof globalThis.__r<"u")Mp();else{var e=function(r){var t=window.__fbBatchedBridge,o=new Array,n=ay("callFunctionReturnFlushedQueue",t,(u,f)=>u[0]==="AppRegistry"||!t.getCallableModule(u[0])?(o.push(u),t.flushedQueue()):f.apply(t,u)),a=function(){var u=x(function*(){yield Mp(),n(),r(0),o.forEach(f=>t.getCallableModule(f[0])&&t.__callFunction(...f))});return function(){return u.apply(this,arguments)}}();a()};iy=e,Object.defineProperties(globalThis,{__r:{configurable:!0,get:()=>Fi,set(r){Fi=function(o){if(o===0)e(r),Fi=r;else return r(o)}}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(r){this.value=r}}})}var Fi,iy;})();
//# sourceURL=bunny
