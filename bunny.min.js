"use strict";(()=>{var vd=Object.create;var ta=Object.defineProperty;var yd=Object.getOwnPropertyDescriptor;var _d=Object.getOwnPropertyNames;var xd=Object.getPrototypeOf,Sd=Object.prototype.hasOwnProperty;var g=(e,r)=>()=>(e&&(r=e(e=0)),r);var Or=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),O=(e,r)=>{for(var t in r)ta(e,t,{get:r[t],enumerable:!0})},Du=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(var n=_d(r),i=0,u=n.length,f;i<u;i++)f=n[i],!Sd.call(e,f)&&f!==t&&ta(e,f,{get:(p=>r[p]).bind(null,f),enumerable:!(o=yd(r,f))||o.enumerable});return e};var U=(e,r,t)=>(t=e!=null?vd(xd(e)):{},Du(r||!e||!e.__esModule?ta(t,"default",{value:e,enumerable:!0}):t,e)),Ue=e=>Du(ta({},"__esModule",{value:!0}),e);var d,s=g(()=>{"use strict";d=Symbol("Symbol.asyncIterator")});var Ed,bd,Td,m,l=g(()=>{"use strict";Ed=e=>({status:"fulfilled",value:e}),bd=e=>({status:"rejected",reason:e}),Td=e=>Promise.resolve(e).then(Ed,bd),m=Promise.allSettled??=e=>Promise.all(Array.from(e).map(Td))});function Bu(e,r,t,o,n,i,u){try{var f=e[i](u),p=f.value}catch(b){t(b);return}f.done?r(p):Promise.resolve(p).then(o,n)}function x(e){return function(){var r=this,t=arguments;return new Promise(function(o,n){var i=e.apply(r,t);function u(p){Bu(i,o,n,u,f,"next",p)}function f(p){Bu(i,o,n,u,f,"throw",p)}u(void 0)})}}var ae=g(()=>{s();l()});var oa=Or((Rh,ju)=>{s();l();var bi=Object.defineProperty,Ad=Object.getOwnPropertyDescriptor,wd=Object.getOwnPropertyNames,Rd=Object.prototype.hasOwnProperty,Cd=(e,r)=>{for(var t in r)bi(e,t,{get:r[t],enumerable:!0})},Id=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function"){var n=function(u){!Rd.call(e,u)&&u!==t&&bi(e,u,{get:()=>r[u],enumerable:!(o=Ad(r,u))||o.enumerable})};for(var i of wd(r))n(i)}return e},Pd=e=>Id(bi({},"__esModule",{value:!0}),e),Mu={};Cd(Mu,{after:()=>Bd,before:()=>Od,instead:()=>Dd,unpatchAll:()=>Nd});ju.exports=Pd(Mu);var Fu=["a","b","i"],Ut=new Map;function Ld(e,r,t,o,n){var i=Ut.get(r)?.[e];if(!i)return n?Reflect.construct(r[e],t,o):r[e].apply(o,t);for(var u of i.b.values()){var f=u.call(o,t);Array.isArray(f)&&(t=f)}var p=[...i.i.values()].reduce((y,N)=>(...ne)=>N.call(o,ne,y),(...y)=>n?Reflect.construct(i.o,y,o):i.o.apply(o,y))(...t);for(var b of i.a.values())p=b.call(o,t,p)??p;return p}function Uu(e,r,t,o){var n=Ut.get(e),i=n?.[r];if(!i?.[o].has(t))return!1;if(i[o].delete(t),Fu.every(f=>i[f].size===0)){var u=Reflect.defineProperty(e,r,{value:i.o,writable:!0,configurable:!0});u||(e[r]=i.o),delete n[r]}return Object.keys(n).length==0&&Ut.delete(e),!0}function Nd(){for(var[e,r]of Ut.entries())for(var t in r)for(var o of Fu)for(var n of r[t]?.[o].keys()??[])Uu(e,t,n,o)}var Ti=e=>(r,t,o,n=!1)=>{if(typeof t[r]!="function")throw new Error(`${r} is not a function in ${t.constructor.name}`);Ut.has(t)||Ut.set(t,Object.create(null));var i=Ut.get(t);if(!i[r]){var u=t[r];i[r]={o:u,b:new Map,i:new Map,a:new Map};var f=(ne,me,yr)=>{var We=Ld(r,t,me,ne,yr);return n&&N(),We},p=new Proxy(u,{apply:(ne,me,yr)=>f(me,yr,!1),construct:(ne,me)=>f(u,me,!0),get:(ne,me,yr)=>me=="toString"?u.toString.bind(u):Reflect.get(ne,me,yr)}),b=Reflect.defineProperty(t,r,{value:p,configurable:!0,writable:!0});b||(t[r]=p)}var y=Symbol(),N=()=>Uu(t,r,y,e);return i[r][e].set(y,o),N},Od=Ti("b"),Dd=Ti("i"),Bd=Ti("a")});var na={};O(na,{BundleUpdaterManager:()=>$o,ClientInfoManager:()=>jt,DeviceManager:()=>Mr,FileManager:()=>W,MMKVManager:()=>Br,ThemeManager:()=>Ai});var Dr,Br,W,jt,Mr,$o,Ai,xr=g(()=>{"use strict";s();l();Dr=window.nativeModuleProxy,Br=Dr.MMKVManager;W=Dr.DCDFileManager??Dr.RTNFileManager;jt=Dr.InfoDictionaryManager??Dr.RTNClientInfoManager;Mr=Dr.DCDDeviceManager??Dr.RTNDeviceManager,{BundleUpdaterManager:$o}=Dr,Ai=Dr.RTNThemeManager??Dr.DCDTheme});function kt(e){return kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kt(e)}var wi=g(()=>{s();l()});function Yo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yo=function(){return!!e})()}var Ri=g(()=>{s();l()});function ku(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Hu=g(()=>{s();l()});function Vu(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var Gu=g(()=>{s();l()});function zu(e,r){return r&&(Vu(r)==="object"||typeof r=="function")?r:ku(e)}var $u=g(()=>{s();l();Hu();Gu()});function aa(e,r,t){return r=kt(r),zu(e,Yo()?Reflect.construct(r,t||[],kt(e).constructor):r.apply(e,t))}var Ci=g(()=>{s();l();wi();Ri();$u()});function Ht(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var ia=g(()=>{s();l()});function ct(e,r){return ct=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},ct(e,r)}var sa=g(()=>{s();l()});function la(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ct(e,r)}var Ii=g(()=>{s();l();sa()});function Wo(e,r,t){return Yo()?Wo=Reflect.construct:Wo=function(n,i,u){var f=[null];f.push.apply(f,i);var p=Function.bind.apply(n,f),b=new p;return u&&ct(b,u.prototype),b},Wo.apply(null,arguments)}var Yu=g(()=>{s();l();Ri();sa()});function Wu(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var Ku=g(()=>{s();l()});function ua(e){var r=typeof Map=="function"?new Map:void 0;return ua=function(o){if(o===null||!Wu(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(o))return r.get(o);r.set(o,n)}function n(){return Wo(o,arguments,kt(this).constructor)}return n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ct(n,o)},ua(e)}var Xu=g(()=>{s();l();Yu();wi();Ku();sa()});function Pi(e,r,{signal:t,edges:o}={}){var n=void 0,i=null,u=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),p=()=>{i!==null&&(e.apply(n,i),n=void 0,i=null)},b=()=>{f&&p(),me()},y=null,N=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,b()},r)},ne=()=>{y!==null&&(clearTimeout(y),y=null)},me=()=>{ne(),n=void 0,i=null},yr=()=>{ne(),p()},We=function(...Vo){if(!t?.aborted){n=this,i=Vo;var vi=y==null;N(),u&&vi&&p()}};return We.schedule=N,We.cancel=me,We.flush=yr,t?.addEventListener("abort",me,{once:!0}),We}var qu=g(()=>{s();l()});function Li(e,r){for(var t={...e},o=0;o<r.length;o++){var n=r[o];delete t[n]}return t}var Ju=g(()=>{s();l()});var Ni=g(()=>{s();l();qu();Ju()});var mt,Fr,Oi=g(()=>{"use strict";s();l();(function(e){e[e.EXISTS=1]="EXISTS",e[e.BLACKLISTED=2]="BLACKLISTED"})(mt||(mt={}));(function(e){e[e.FULL_LOOKUP=0]="FULL_LOOKUP",e[e.NOT_FOUND=1]="NOT_FOUND"})(Fr||(Fr={}))});var Gt={};O(Gt,{_patcherDelaySymbol:()=>Ko,after:()=>K,before:()=>Vt,default:()=>Xo,instead:()=>dt});function Di(e){function r(...o){if(Ko in o[1]){var n=o[1][Ko],i=!1,u=()=>i=!0;return n(f=>{i||(o[1]=f,u=e.apply(this,o))}),()=>u()}return e.apply(this,o)}function t(...o){var n=o[1];if(!n||!("then"in n))throw new Error("target is not a then-able object");var i=!1,u=()=>i=!0;return n.then(f=>{i||(o[1]=f,u=r.apply(this,o))}),()=>u()}return Object.assign(r,{await:t})}var Md,Fd,Ud,Ko,K,Vt,dt,Xo,je=g(()=>{"use strict";s();l();({after:Md,before:Fd,instead:Ud}=oa()),Ko=Symbol.for("bunny.api.patcher.delay");K=Di(Md),Vt=Di(Fd),dt=Di(Ud),Xo={after:K,before:Vt,instead:dt}});var Zo={};O(Zo,{assetsMap:()=>pt,findAsset:()=>Jo,findAssetId:()=>v,patchAssets:()=>jd});function jd(e){if(!qo){qo=e;var r=K("registerAsset",qo,([t])=>{var o=Bi();o!==-1&&Mi(t.name,o)});return r}}function Jo(e){return typeof e=="number"?qo.getAssetByID(e):typeof e=="string"?pt[e]:Object.values(pt).find(e)}function v(e){return pt[e]?.index}var pt,qo,ie=g(()=>{"use strict";s();l();je();$t();zt();pt=new Proxy({},{get(e,r){if(typeof r=="string"){if(e[r])return e[r];var t=Ur().assetsIndex[r];if(t!=null){for(var o in t){var n=ir(Number(o));if(typeof n=="number"){var i=qo.getAssetByID(n);i&&(i.index??=i.id??=n,i.moduleId??=o,e[r]??=i)}}return e[r]}}},ownKeys(e){var r=[];for(var t in Ur().assetsIndex)e[t]=this.get(e,t,{}),e[t]&&r.push(t);return r}})});function Zu(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Yt(e,r,t){return r&&Zu(e.prototype,r),t&&Zu(e,t),e}var fa=g(()=>{s();l()});function ca(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Fi=g(()=>{s();l()});var Ui,ho,ma=g(()=>{"use strict";s();l();ia();fa();Fi();(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(Ui||(Ui={}));ho=function(){"use strict";function e(){Ht(this,e),ca(this,"listeners",Object.values(Ui).reduce((r,t)=>(r[t]=new Set,r),{}))}return Yt(e,[{key:"on",value:function(t,o){this.listeners[t].has(o)||this.listeners[t].add(o)}},{key:"off",value:function(t,o){this.listeners[t].delete(o)}},{key:"once",value:function(t,o){var n=(i,u)=>{this.off(i,n),o(i,u)};this.on(t,n)}},{key:"emit",value:function(t,o){for(var n of this.listeners[t])n(t,o)}}]),e}()});var Qo={};O(Qo,{createFilterDefinition:()=>sr,createSimpleFilter:()=>kd});function sr(e,r){function t(n,i,u){return Object.assign(n,{filter:e,raw:u,uniq:[u&&"raw::",r(i)].filter(Boolean).join("")})}var o=n=>(...i)=>t((u,f,p)=>e(i,u,f,p),i,n);return Object.assign(o(!1),{byRaw:o(!0),uniqMaker:r})}function kd(e,r){return sr((t,o)=>e(o),()=>`dynamic::${r}`)()}var da=g(()=>{"use strict";s();l()});var ji={};O(ji,{byDisplayName:()=>ht,byFilePath:()=>ga,byMutableProp:()=>rn,byName:()=>gt,byProps:()=>en,byStoreName:()=>pa,byTypeName:()=>vt});var en,gt,ht,vt,pa,ga,rn,tn=g(()=>{"use strict";s();l();da();zt();en=sr((e,r)=>e.length===0?r[e[0]]:e.every(t=>r[t]),e=>`bunny.metro.byProps(${e.join(",")})`),gt=sr(([e],r)=>r.name===e,e=>`bunny.metro.byName(${e})`),ht=sr(([e],r)=>r.displayName===e,e=>`bunny.metro.byDisplayName(${e})`),vt=sr(([e],r)=>r.type?.name===e,e=>`bunny.metro.byTypeName(${e})`),pa=sr(([e],r)=>r.getName?.length===0&&r.getName()===e,e=>`bunny.metro.byStoreName(${e})`),ga=sr(([e,r],t,o,n)=>r===n&&De[o]?.__filePath===e,([e,r])=>`bunny.metro.byFilePath(${e},${r})`),rn=sr(([e],r)=>r?.[e]&&!Object.getOwnPropertyDescriptor(r,e)?.get,e=>`bunny.metro.byMutableProp(${e})`)});function Qu(e,r,t){return e.default&&e.__esModule&&t(e.default,r,!0)?{exports:t.raw?e:e.default,defaultExport:!t.raw}:!t.raw&&t(e,r,!1)?{exports:e,defaultExport:!1}:{}}function ki(e){var{cacheId:r,finish:t}=va(e.uniq,!1);for(var[o,n]of ha(e.uniq,!1)){var{exports:i,defaultExport:u}=Qu(n,o,e);if(i!==void 0)return r(o,i),{id:o,defaultExport:u}}return t(!0),{}}function Hd(e){return ki(e)?.id}function Ie(e){var{id:r,defaultExport:t}=ki(e);if(r!=null)return t?ir(r).default:ir(r)}function Hi(e){var{cacheId:r,finish:t}=va(e.uniq,!0),o=[];for(var[n,i]of ha(e.uniq,!0)){var{exports:u,defaultExport:f}=Qu(i,n,e);u!==void 0&&typeof f=="boolean"&&(o.push({id:n,defaultExport:f}),r(n,u))}return t(o.length===0),o}function Vd(e){return Hi(e).map(r=>r.id)}function yt(e){return Hi(e).map(r=>{if(r.id){var{id:t,defaultExport:o}=r;return o?ir(t).default:ir(t)}})}var vo=g(()=>{"use strict";s();l();$t();zt()});var Gi={};O(Gi,{getProxyFactory:()=>Vi,lazyDestructure:()=>V,proxyLazy:()=>Se});function Se(e,r={}){var t,o=r.hint!=="object"?function(){}:{},n=()=>t??=e(),i=new Proxy(o,zd);return rf.set(i,n),yo.set(o,{factory:e,options:r}),i}function V(e,r={}){var t=Se(e);return new Proxy({},{get(o,n){return n===Symbol.iterator?function*(){throw yield t,yield new Proxy({},{get:(i,u)=>Se(()=>t[u],r)}),new Error("This is not a real iterator, this is likely used incorrectly")}:Se(()=>t[n],r)}})}function Vi(e){return rf.get(e)}var ef,Gd,rf,yo,zd,Ee=g(()=>{"use strict";s();l();ef=new Set(["arguments","caller","prototype"]),Gd=e=>typeof e=="string"&&ef.has(e),rf=new WeakMap,yo=new WeakMap,zd={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(e=>[e,(r,...t)=>{var o=yo.get(r),n=o?.factory();if(!n)throw new Error(`Trying to Reflect.${e} of ${typeof n}`);return Reflect[e](n,...t)}])),has(e,r){var t=yo.get(e);if(t?.options){var{exemptedEntries:o}=t.options;if(o&&r in o)return!0}var n=t?.factory();if(!n)throw new Error(`Trying to Reflect.has of ${typeof n}`);return Reflect.has(n,r)},get(e,r,t){var o=yo.get(e);if(o?.options){var{exemptedEntries:n}=o.options;if(n?.[r])return n[r]}var i=o?.factory();if(!i)throw new Error(`Trying to Reflect.get of ${typeof i}`);return Reflect.get(i,r,t)},ownKeys:e=>{var r=yo.get(e),t=r?.factory();if(!t)throw new Error(`Trying to Reflect.ownKeys of ${typeof t}`);var o=Reflect.ownKeys(t);return ef.forEach(n=>!o.includes(n)&&o.push(n)),o},getOwnPropertyDescriptor:(e,r)=>{var t=yo.get(e),o=t?.factory();if(!o)throw new Error(`Trying to getOwnPropertyDescriptor of ${typeof o}`);if(Gd(r))return Reflect.getOwnPropertyDescriptor(e,r);var n=Reflect.getOwnPropertyDescriptor(o,r);return n&&Object.defineProperty(e,r,n),n}}});var zi={};O(zi,{_lazyContextSymbol:()=>ya,createLazyModule:()=>jr,getLazyContext:()=>of});function $d(e){var r=Ur().findIndex[e.uniq];if(r){for(var t in r)if(t[0]!=="_")return Number(t)}}function Yd(e,r){var t=of(e);if(!t)throw new Error("Subscribing a module for non-proxy-find");if(!t.indexed)throw new Error("Attempting to subscribe to a non-indexed find");return $i(t.moduleId,()=>{r(Ie(t.filter))})}function of(e){return tf.get(e)}function jr(e){var r=void 0,t=$d(e),o={filter:e,indexed:!!t,moduleId:t,getExports(i){return!t||De[t]?.isInitialized?(i(this.forceLoad()),()=>{}):this.subscribe(i)},subscribe(i){return Yd(n,i)},get cache(){return r},forceLoad(){if(r??=Ie(e),!r)throw new Error(`${e.uniq} is ${typeof r}! (id ${o.moduleId??"unknown"})`);return r}},n=Se(()=>o.forceLoad(),{exemptedEntries:{[ya]:o,[Ko]:i=>o.getExports(i)}});return tf.set(n,o),n}var ya,tf,on=g(()=>{"use strict";s();l();je();Ee();vo();$t();zt();ya=Symbol.for("bunny.metro.lazyContext"),tf=new WeakMap});var F,R,Yi,_o,Pe,Wi,Ki,Xi,qi,Ji,Wd,Zi,Qi,nn,Kd,es,ee=g(()=>{"use strict";s();l();tn();vo();on();F=(...e)=>Ie(en(...e)),R=(...e)=>jr(en(...e)),Yi=(...e)=>yt(en(...e)),_o=(e,r=!0)=>Ie(r?gt(e):gt.byRaw(e)),Pe=(e,r=!0)=>jr(r?gt(e):gt.byRaw(e)),Wi=(e,r=!0)=>yt(r?gt(e):gt.byRaw(e)),Ki=(e,r=!0)=>Ie(r?ht(e):ht.byRaw(e)),Xi=(e,r=!0)=>jr(r?ht(e):ht.byRaw(e)),qi=(e,r=!0)=>yt(r?ht(e):ht.byRaw(e)),Ji=(e,r=!0)=>Ie(r?vt(e):vt.byRaw(e)),Wd=(e,r=!0)=>jr(r?vt(e):vt.byRaw(e)),Zi=(e,r=!0)=>yt(r?vt(e):vt.byRaw(e)),Qi=e=>Ie(pa(e)),nn=e=>jr(pa(e)),Kd=(e,r=!1)=>Ie(ga(e,r)),es=(e,r=!1)=>jr(ga(e,r))});var _t=Or((Ny,nf)=>{"use strict";s();l();ee();nf.exports={react:R("createElement"),"react-native":R("AppRegistry"),util:R("inspect","isNullOrUndefined"),moment:R("isMoment"),"chroma-js":R("brewer"),lodash:R("forEachRight"),"@shopify/react-native-skia":R("useFont")}});var re=Or((By,af)=>{s();l();af.exports=_t()["react-native"]});var lf,sf,rs,uf,xo,Qe,Xr,ff=g(()=>{"use strict";s();l();ae();xr();lf=U(re()),sf=/[<>:"/\\|?*]/g,rs=e=>lf.Platform.select({default:e,ios:W.saveFileToGallery?e:`Documents/${e}`}),uf=e=>(sf.test(e)&&(e=e.replace(sf,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`),xo=function(){var e=x(function*(r){(yield Br.getItem(r))&&Br.removeItem(r);var t=uf(r);(yield W.fileExists(`${W.getConstants().DocumentsDirPath}/${t}`))&&(yield W.removeFile?.("documents",t))});return function(t){return e.apply(this,arguments)}}(),Qe=(e,r={})=>{var t=uf(e),o=JSON.stringify(r);return Xr(t,r,x(function*(){var n=`${W.getConstants().DocumentsDirPath}/${t}`;if(!(yield W.fileExists(n))){var i=(yield Br.getItem(e))??o;if(i==="!!LARGE_VALUE!!"){var u=`${W.getConstants().CacheDirPath}/mmkv/${e}`;(yield W.fileExists(u))?i=yield W.readFile(u,"utf8"):(console.log(`${e}: Experienced data loss :(`),i=o)}try{JSON.parse(i)}catch{console.error(`${e} had an unparseable data while migrating`),i=o}yield W.writeFile("documents",rs(t),i,"utf8"),(yield Br.getItem(e))!==null&&(Br.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}})())},Xr=(e,r={},t)=>({get:x(function*(){yield t;var o=`${W.getConstants().DocumentsDirPath}/${e}`;if(yield W.fileExists(o)){var n=yield W.readFile(o,"utf8");try{return JSON.parse(n)}catch{}}return yield W.writeFile("documents",rs(e),JSON.stringify(r),"utf8"),JSON.parse(yield W.readFile(o,"utf8"))}),set:function(){var o=x(function*(n){yield t,yield W.writeFile("documents",rs(e),JSON.stringify(n),"utf8")});return function(n){return o.apply(this,arguments)}}()})});var _a={};O(_a,{awaitStorage:()=>qr,createFileBackend:()=>Xr,createMMKVBackend:()=>Qe,createProxy:()=>So,createStorage:()=>Ge,purgeStorage:()=>xo,useProxy:()=>k,wrapSync:()=>lr});function So(e={}){var r=new ho,t=e,o=new WeakMap,n=new WeakSet;function i(u,f){return new Proxy(u,{get(p,b){if(b===cf)return r;var y=[...f,b],N=p[b];if(N!=null){if(r.emit("GET",{path:y,value:N}),typeof N=="object"){if(n.has(N))return N;if(o.has(N))return o.get(N);var ne=i(N,y);return o.set(N,ne),ne}return N}return N},set(p,b,y){if(typeof y=="object")if(o.has(y))p[b]=o.get(y);else{var N=i(y,[...f,b]);o.set(y,N),n.add(y),p[b]=N}else p[b]=y;return r.emit("SET",{path:[...f,b],value:p[b]}),!0},deleteProperty(p,b){var y=typeof p[b]=="object"?o.get(p[b]):p[b],N=delete p[b];return N&&r.emit("DEL",{value:y,path:[...f,b]}),N}})}return{proxy:i(e,[]),emitter:r}}function k(e){var r=e?.[cf];if(!r)throw new Error("storage?.[emitterSymbol] is undefined");var[,t]=React.useReducer(o=>~o,0);return React.useEffect(()=>{var o=(n,i)=>{n==="DEL"&&i.value===e||t()};return r.on("SET",o),r.on("DEL",o),()=>{r.off("SET",o),r.off("DEL",o)}},[]),e}function Ge(e){return ts.apply(this,arguments)}function ts(){return ts=x(function*(e){var r=yield e.get(),{proxy:t,emitter:o}=So(r),n=()=>e.set(t);return o.on("SET",n),o.on("DEL",n),t}),ts.apply(this,arguments)}function lr(e){var r=void 0,t=[],o=n=>r?n():t.push(n);return e.then(n=>{r=n,t.forEach(i=>i())}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(n=>[n,(i,...u)=>Reflect[n](r??i,...u)])),get(n,i,u){return i===mf?o:Reflect.get(r??n,i,u)}})}function qr(...e){return Promise.all(e.map(r=>new Promise(t=>r[mf](t))))}var cf,mf,ue=g(()=>{"use strict";s();l();ae();ma();ff();cf=Symbol.for("vendetta.storage.emitter"),mf=Symbol.for("vendetta.storage.accessor")});var us={};O(us,{BUNNY_PROXY_PREFIX:()=>Eo,DISCORD_SERVER:()=>os,DISCORD_SERVER_ID:()=>ss,GITHUB:()=>ns,HTTP_REGEX:()=>Xd,HTTP_REGEX_MULTI:()=>as,OFFICIAL_PLUGINS_REPO_URL:()=>is,OLD_BUNNY_PROXY_PREFIX:()=>qd,PLUGINS_CHANNEL_ID:()=>ls,THEMES_CHANNEL_ID:()=>an,VD_PROXY_PREFIX:()=>Sr});var os,ns,Xd,as,Sr,Eo,qd,is,ss,ls,an,xt=g(()=>{"use strict";s();l();os="https://discord.gg/XjYgWXHb9Q",ns="https://github.com/pyoncord",Xd=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,as=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,Sr="https://vd-plugins.github.io/proxy",Eo="https://bn-plugins.github.io/vd-proxy",qd="https://bunny-mod.github.io/plugins-proxy",is="https://bn-plugins.github.io/dist/repo.json",ss="1015931589865246730",ls="1091880384561684561",an="1091880434939482202"});function fs(e,r=0){for(var t=3735928559^r,o=1103547991^r,n=0,i;n<e.length;n++)i=e.charCodeAt(n),t=Math.imul(t^i,2654435761),o=Math.imul(o^i,1597334677);return t=Math.imul(t^t>>>16,2246822507),t^=Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(t^t>>>13,3266489909),[o>>>0,t>>>0]}function df(e,r=0){var[t,o]=fs(e,r);return t.toString(36).padStart(7,"0")+o.toString(36).padStart(7,"0")}var cs=g(()=>{"use strict";s();l()});var Er,pf=g(()=>{"use strict";s();l();br();Er=(e,r)=>bo(e,r,{walkable:["props","children","child","sibling"]})});function ms(e,r,t,o){if(!(o>t.maxDepth)&&e){try{if(r(e))return e}catch{}if(Array.isArray(e)){for(var n of e)if(!(typeof n!="object"||n===null))try{var i=ms(n,r,t,o+1);if(i)return i}catch{}}else if(typeof e=="object"){for(var u of Object.keys(e))if(!(typeof e[u]!="object"||e[u]===null)&&!(t.walkable.length&&!t.walkable.includes(u))&&!t.ignore.includes(u))try{var f=ms(e[u],r,t,o+1);if(f)return f}catch{}}}}var bo,gf=g(()=>{"use strict";s();l();bo=(e,r,{walkable:t=[],ignore:o=[],maxDepth:n=100}={})=>ms(e,r,{walkable:t,ignore:o,maxDepth:n},0)});function hf(e,r,t){var o=e;if(r in e)return void t(o[r]);var n;return Object.defineProperty(o,r,{get:()=>n,set(i){n=t(i)??i},configurable:!0,enumerable:!1}),()=>{delete o[r],o[r]=n}}var vf=g(()=>{"use strict";s();l()});function ds(e,r){if(!e){var t=typeof r=="function"?r():r,o="[Invariant Violation]",n=t?`${o}: ${t}`:o;throw new Error(n)}}var yf=g(()=>{"use strict";s();l()});var ps={};O(ps,{DiscordLogger:()=>sn,logger:()=>Be});var sn,Be,Jr=g(()=>{"use strict";s();l();ee();sn=Pe("Logger"),Be=new sn("Bunny")});function ze(e,r){return gs.apply(this,arguments)}function gs(){return gs=x(function*(e,r,t=1e4){var o=yield fetch(e,{signal:Jd(t),...r});if(!o.ok)throw new Error(`Request returned non-ok: ${o.status} ${o.statusText}`);return o}),gs.apply(this,arguments)}function Jd(e){var r=new AbortController;return setTimeout(()=>r.abort(`Timed out after ${e}ms`),e),r.signal}var _f=g(()=>{"use strict";s();l();ae()});var xa={};O(xa,{Emitter:()=>ho,constants:()=>us,cyrb64:()=>fs,findInReactTree:()=>Er,findInTree:()=>bo,hookDefineProperty:()=>hf,invariant:()=>ds,lazy:()=>Gi,logger:()=>ps,safeFetch:()=>ze});var br=g(()=>{"use strict";s();l();xt();cs();ma();pf();gf();vf();yf();Ee();Jr();_f()});var Sa=Or((C_,xf)=>{s();l();xf.exports=_t()["chroma-js"]});var qt={};O(qt,{applyTheme:()=>ln,color:()=>he,fetchTheme:()=>Kt,getCurrentTheme:()=>ba,getThemeFromLoader:()=>Et,initThemes:()=>As,installTheme:()=>Zr,patchChatBackground:()=>Ts,removeTheme:()=>Xt,selectTheme:()=>Qr,themes:()=>te,updateThemes:()=>Ea});function hs(e){return vs.apply(this,arguments)}function vs(){return vs=x(function*(e){if(typeof e!="object")throw new Error("Theme must be an object");yield Xr(ws()||"theme.json").set(e)}),vs.apply(this,arguments)}function Ts(){var e=[K("default",Qd,(r,t)=>St?React.createElement(To.ImageBackground,{style:{flex:1,height:"100%"},source:$e?.data?.background?.url&&{uri:$e.data.background.url}||0,blurRadius:typeof $e?.data?.background?.blur=="number"?$e?.data?.background?.blur:0,children:t}):t),K("render",ep.prototype,(r,t)=>{if(!(!St||!$e?.data?.background?.url)){var o=Er(t,n=>n&&"HACK_fixModalInteraction"in n.props&&n?.props?.style);o?o.props.style=[o.props.style,{backgroundColor:(0,Wt.default)(o.props.style.backgroundColor||"black").alpha(1-($e?.data.background?.alpha??1)).hex()}]:console.error("Didn't find Messages when patching MessagesWrapper!")}})];return()=>e.forEach(r=>r())}function Af(e){if(Wt.default.valid(e))return(0,Wt.default)(e).hex();var r=Number((0,To.processColor)(e));return Wt.default.rgb(r>>16&255,r>>8&255,r&255,r>>24&255).hex()}function tp(e){if(e.semanticColors){var{semanticColors:r}=e;for(var t in r)for(var o in r[t])r[t][o]&&=Af(r[t][o])}if(e.rawColors){var{rawColors:n}=e;for(var i in n)e.rawColors[i]=Af(n[i]);To.Platform.OS==="android"&&op(n)}return e.spec??=2,e}function op(e){var r={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var t in r){var[o,n]=r[t];e[o]&&(e[t]=(0,Wt.default)(e[o]).alpha(n).hex())}}function Kt(e){return ys.apply(this,arguments)}function ys(){return ys=x(function*(e,r=!1){var t;try{t=yield(yield ze(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}te[e]={id:e,selected:r,data:tp(t)},r&&(hs(te[e]),ln(te[e],be))}),ys.apply(this,arguments)}function Zr(e){return _s.apply(this,arguments)}function _s(){return _s=x(function*(e){if(typeof e!="string"||e in te)throw new Error("Theme already installed");yield Kt(e)}),_s.apply(this,arguments)}function Qr(e,r=!0){if(e&&(e.selected=!0),Object.keys(te).forEach(t=>te[t].selected=te[t].id===e?.id),e==null&&r)return hs({});if(e)return hs(e)}function Xt(e){return xs.apply(this,arguments)}function xs(){return xs=x(function*(e){var r=te[e];return r.selected&&(yield Qr(null)),delete te[e],r.selected}),xs.apply(this,arguments)}function Et(){return un()}function Ea(){return Ss.apply(this,arguments)}function Ss(){return Ss=x(function*(){yield qr(te);var e=Et();yield m(Object.keys(te).map(r=>Kt(r,e?.id===r)))}),Ss.apply(this,arguments)}function ba(){return $e}function bs(e){return ap.has(e)}function ip(){var e=([r])=>r===Tr?[be]:void 0;Object.keys(he.RawColor).forEach(r=>{Object.defineProperty(he.RawColor,r,{configurable:!0,enumerable:!0,get:()=>St?$e?.data?.rawColors?.[r]??wf[r]:wf[r]})}),Vt("isThemeDark",Tf,e),Vt("isThemeLight",Tf,e),Vt("updateTheme",Ai,e),K("get",Sf,([r],t)=>{r==="SelectivelySyncedUserSettingsStore"?(Es=!0,t?._state?.appearance?.settings?.theme&&St&&(be=t._state.appearance.settings.theme,t._state.appearance.settings.theme=Tr)):r==="ThemeStore"&&(Es=!0,t?._state?.theme&&St&&(be=t._state.theme,t._state.theme=Tr))}),Vt("set",Sf,r=>{if(r[1]){var t=r[0],o=JSON.parse(JSON.stringify(r[1])),n={SelectivelySyncedUserSettingsStore:()=>{if(o._state?.appearance?.settings?.theme){var{theme:i}=o._state?.appearance?.settings??{};bs(i)?be=i:o._state.appearance.settings.theme=be}},ThemeStore:()=>{if(o._state?.theme){var{theme:i}=o._state;bs(i)?be=i:o._state.theme=be}}};return t in n?(n[t](),[t,o]):r}}),dt("resolveSemanticColor",he.default.meta??he.default.internal,(r,t)=>{if(!St||!$e)return t(...r);if(r[0]!==Tr)return t(...r);r[0]=be;var[o,n]=Rf(be,r[1]),i=be==="midnight"?2:be==="light"?1:0;var u=rp[o]??o,f=($e.data?.semanticColors?.[o]??$e.data?.semanticColors?.[u])?.[i];if(f)return f;var p=$e.data?.rawColors?.[n.raw];return p?n.opacity===1?p:(0,Wt.default)(p).alpha(n.opacity).hex():t(...r)})}function sp(e=be){var r=Zd.theme.toLowerCase();return bs(r)?r:e}function ln(e,r){r||(r=sp()),$e=e,St=!!$e,be=r,Tr=`vd-theme-${np++}-${r}`,e&&(he.Theme[Tr.toUpperCase()]=Tr,bf.DIVIDER_COLORS[Tr]=bf.DIVIDER_COLORS[be],Object.keys(he.Shadow).forEach(t=>he.Shadow[t][Tr]=he.Shadow[t][be]),Object.keys(he.SemanticColor).forEach(t=>{he.SemanticColor[t][Tr]={...he.SemanticColor[t][be],override:e?.data?.semanticColors?.[t]?.[0]}})),Es&&(Ef.setShouldSyncAppearanceSettings(!1),Ef.updateTheme(e?Tr:r))}function As(){var e=Et();St=!!e,ip(),ln(e,be),Ea().catch(r=>console.error("Failed to update themes",r))}function Rf(e,r){var t=r[Rf._sym??=Object.getOwnPropertySymbols(r)[0]],o=he.SemanticColor[t];return[t,o[e]]}var Wt,To,he,Sf,Ef,Zd,bf,Qd,ep,Tf,te,rp,wf,np,Tr,be,St,$e,Es,ap,er=g(()=>{"use strict";s();l();ae();Ar();xr();je();ue();br();Ee();tn();on();ee();Wt=U(Sa()),To=U(re());he=R("SemanticColor"),Sf=Se(()=>{var e=F("impl");return typeof e?.impl=="object"?e.impl:F("storage")}),Ef=R("updateTheme"),Zd=nn("ThemeStore"),bf=R("DIVIDER_COLORS"),Qd=Pe("MessagesWrapperConnected",!1),{MessagesWrapper:ep}=V(()=>F("MessagesWrapper")),Tf=jr(rn("isThemeDark")),te=lr(Ge(Qe("VENDETTA_THEMES"))),rp={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};wf={...he.RawColor},np=0,Tr="vd-theme",be="darker",St=!1,Es=!1,ap=new Set(["darker","midnight","dark","light"])});var Os={};O(Os,{getLoaderConfigPath:()=>Ls,getLoaderIdentity:()=>up,getLoaderName:()=>Ta,getLoaderVersion:()=>Rs,getReactDevToolsProp:()=>Cs,getReactDevToolsVersion:()=>Is,getStoredTheme:()=>un,getSysColors:()=>Cf,getThemeFilePath:()=>ws,getVendettaLoaderIdentity:()=>fn,isFontSupported:()=>Ns,isLoaderConfigSupported:()=>Aa,isPyonLoader:()=>ge,isReactDevToolsPreloaded:()=>Ao,isSysColorsSupported:()=>Ps,isThemeSupported:()=>ur,isVendettaLoader:()=>Me});function Me(){return Hr!=null}function ge(){return kr!=null}function lp(){if(!ge()||Me())return null;var e={name:kr.loaderName,features:{}};return Aa()&&(e.features.loaderConfig=!0),Ps()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:()=>Cf(),configurable:!0})),ur()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:()=>{var r=un()?.id;if(!r)return null;var{themes:t}=(er(),Ue(qt));return t[r]??un()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:()=>e,configurable:!0}),e}function up(){return ge()?kr:Me()?fn():null}function fn(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:lp()}function Ta(){return ge()?kr.loaderName:Me()?Hr.name:"Unknown"}function Rs(){return ge()?kr.loaderVersion:null}function Aa(){return ge()?!0:Me()?Hr.features.loaderConfig:!1}function ur(){return ge()?kr.hasThemeSupport:Me()?Hr.features.themes!=null:!1}function un(){if(ge())return kr.storedTheme;if(Me()){var e=Hr.features.themes?.prop;return e&&globalThis[e]||null}return null}function ws(){return ge()?"pyoncord/current-theme.json":Me()?"vendetta_theme.json":null}function Ao(){return ge()?!!window.__reactDevTools:Me()?Hr.features.devtools!=null:!1}function Cs(){return Ao()?ge()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):Me()?Hr.features.devtools.prop:null:null}function Is(){return Ao()?ge()?window.__reactDevTools.version||null:Me()?Hr.features.devtools.version:null:null}function Ps(){return ge()?kr.isSysColorsSupported:Me()?Hr.features.syscolors!=null:!1}function Cf(){return Ps()?ge()?kr.sysColors:Me()?Hr.features.syscolors.prop:null:null}function Ls(){return ge()?"pyoncord/loader.json":Me()?"vendetta_loader.json":"loader.json"}function Ns(){return ge()?kr.fontPatch===2:!1}var kr,Hr,Ar=g(()=>{"use strict";s();l();kr=globalThis.__PYON_LOADER__,Hr=globalThis.__vendetta_loader;fn()});var wa={};O(wa,{loaderConfig:()=>fr,settings:()=>I});var I,fr,Le=g(()=>{"use strict";s();l();Ar();ue();I=lr(Ge(Qe("VENDETTA_SETTINGS"))),fr=lr(Ge(Xr(Ls(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var Fs={};O(Fs,{default:()=>fp});var If,Lf,Ds,Ms,wo,Bs,et,Pf,cn,fp,Us=g(()=>{"use strict";s();l();$t();If=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),Lf={},Ds={},Ms=js("redesign_module");for([Pf,cn]of Ms.getModules())for(et of If){if(wo=void 0,cn[et])wo=cn;else if(cn.default?.[et])wo=cn.default;else continue;Bs=Reflect.ownKeys(wo).length,!(Ds[et]&&Bs>=Ds[et])&&(Lf[et]=wo[et],Ds[et]=Reflect.ownKeys(wo).length,Ms.cacheId(Pf),Bs===1&&If.delete(et))}Ms.finish();fp=Lf});var Vs={};O(Vs,{getCachedPolyfillModules:()=>hp,getImportingModuleId:()=>Bi,getModules:()=>ha,metroModules:()=>De,requireModule:()=>ir,subscribeModule:()=>$i});function Ca(e){Object.defineProperty(De,e,{enumerable:!1}),Mf.add(e),zs(Number(e))}function mn(e){return!e||e===window||e["<!@ pylix was here :fuyusquish: !@>"]===null||e.__proto__===Object.prototype&&Reflect.ownKeys(e).length===0}function gp(e,r){if(Gs(r,e),e.initSentry&&=()=>{},e.default?.track&&e.default.trackMaker&&(e.default.track=()=>Promise.resolve()),e.registerAsset&&(ie(),Ue(Zo)).patchAssets(e),!Df&&["customBubblingEventTypes","customDirectEventTypes","register","get"].every(u=>e[u])&&(Hs("register",e,(u,f)=>{try{return f(...u)}catch{}}),Df=!0),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(u,f,p){if(f==="isDeveloper"){var{settings:b}=(Le(),Ue(wa));return b.enableDiscordDeveloperSettings??!1}return Reflect.get(u,f,p)}})),!Of&&e.fileFinishedImporting&&(mp("fileFinishedImporting",e,([u])=>{Ro===-1||!u||(De[Ro].__filePath=u)}),Of=!0),!Nf&&window["__core-js_shared__"]){var t=u=>typeof u=="function"&&pp.apply(u,[]);window["__core-js_shared__"].inspectSource=t,Nf=!0}if(e.findHostInstance_DEPRECATED){var o=De[r-1]?.publicModule.exports,n=o.default?.reactProfilingEnabled?1:-1;De[r+n]?.isInitialized||Ca(r+n)}e.isMoment&&Hs("defineLocale",e,(u,f)=>{var p=e.locale();f(...u),e.locale(p)});var i=Ra.get(Number(r));i&&(i.forEach(u=>u()),Ra.delete(Number(r)))}function Bi(){return Ro}function $i(e,r){var t=Ra.get(e)??new Set;return t.add(r),Ra.set(e,t),()=>t.delete(r)}function ir(e){if(De[0]?.isInitialized||ks(0),!Mf.has(e)){if(Number(e)===-1)return Us(),Ue(Fs);if(De[e]?.isInitialized&&!De[e]?.hasError)return ks(e);var r=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(dp);var t;try{t=ks(e)}catch{Ca(e),t=void 0}return ErrorUtils.setGlobalHandler(r),t}}function*ha(e,r=!1){yield[-1,(Us(),Ue(Fs))];var t=Ur().findIndex[e];if(r&&!t?.[`_${Fr.FULL_LOOKUP}`]&&(t=void 0),!t?.[`_${Fr.NOT_FOUND}`]){for(var o in t)if(o[0]!=="_"){var n=ir(Number(o));mn(n)||(yield[o,n])}for(var i in De){var u=ir(Number(i));mn(u)||(yield[i,u])}}}function*hp(e){var r=Ur().polyfillIndex[e];for(var t in r){var o=ir(Number(t));mn(o)||(yield[t,o])}if(!r[`_${Fr.FULL_LOOKUP}`])for(var n in De){var i=ir(Number(n));mn(i)||(yield[n,i])}}var cp,mp,Hs,De,ks,Ra,Mf,dp,pp,Nf,Of,Df,Ro,Bf,zt=g(()=>{"use strict";s();l();$t();Oi();cp=function(e){var r=Number(e),t=De[r],o=Ur().exportsIndex[r];if(o&mt.BLACKLISTED)return Ca(r),"continue";t.factory&&Hs("factory",t,(n,i)=>{var u=Ro;Ro=r;var{1:f,4:p}=n;n[2]=b=>{var y=f(b);return y&&y.__esModule?y.default:y},n[3]=b=>{var y=f(b);if(y&&y.__esModule)return y;var N={};return y&&Object.assign(N,y),N.default=y,N},i(...n),mn(p.exports)?Ca(r):gp(p.exports,r),Ro=u})},{before:mp,instead:Hs}=oa(),De=window.modules,ks=window.__r,Ra=new Map,Mf=new Set,dp=()=>{},pp=Function.prototype.toString,Nf=!1,Of=!1,Df=!1,Ro=-1;for(Bf in De)cp(Bf)});var Hf={};O(Hf,{getCacherForUniq:()=>va,getMetroCache:()=>Ur,getPolyfillModuleCacher:()=>js,indexAssetName:()=>Mi,indexBlacklistFlag:()=>zs,indexExportsFlags:()=>Gs,initMetroCache:()=>vp});function Ff(){var e={_v:Uf,_buildNumber:jt.Build,_modulesCount:Object.keys(window.modules).length,exportsIndex:{},findIndex:{},polyfillIndex:{},assetsIndex:{}};return setTimeout(()=>{for(var r in window.modules)(zt(),Ue(Vs)).requireModule(r)},100),ke=e,e}function vp(){return $s.apply(this,arguments)}function $s(){return $s=x(function*(){var e=yield Br.getItem(jf);if(e==null)return void Ff();try{if(ke=JSON.parse(e),ke._v!==Uf)throw ke=null,"cache invalidated; cache version outdated";if(ke._buildNumber!==jt.Build)throw ke=null,"cache invalidated; version mismatch";if(ke._modulesCount!==Object.keys(window.modules).length)throw ke=null,"cache invalidated; modules count mismatch"}catch{Ff()}}),$s.apply(this,arguments)}function kf(e){if(e){var r=mt.EXISTS;return r}}function Gs(e,r){var t=kf(r);t&&t!==mt.EXISTS&&(ke.exportsIndex[e]=t)}function zs(e){ke.exportsIndex[e]|=mt.BLACKLISTED}function va(e,r){var t=ke.findIndex[e]??={};return{cacheId(o,n){t[o]??=kf(n),dn()},finish(o){r&&(t[`_${Fr.FULL_LOOKUP}`]=1),o&&(t[`_${Fr.NOT_FOUND}`]=1),dn()}}}function js(e){var r=ke.polyfillIndex[e]??={};return{getModules(){return(zt(),Ue(Vs)).getCachedPolyfillModules(e)},cacheId(t){r[t]=1,dn()},finish(){r[`_${Fr.FULL_LOOKUP}`]=1,dn()}}}function Mi(e,r){isNaN(r)||((ke.assetsIndex[e]??={})[r]=1,dn())}var Uf,jf,ke,Ur,dn,$t=g(()=>{"use strict";s();l();ae();xr();Ni();Oi();Uf=52,jf="__bunny_metro_cache_key__",ke=null,Ur=window.__getMetroCache=()=>ke;dn=Pi(()=>{Br.setItem(jf,JSON.stringify(ke))},1e3)});var La={};O(La,{ActionSheet:()=>Jt,ActionSheetRow:()=>bt,BottomSheetTitleHeader:()=>qs,Button:()=>se,Card:()=>cr,CompatButton:()=>gn,CompatSegmentedControl:()=>Lp,FlashList:()=>_n,FloatingActionButton:()=>Xs,FormCheckbox:()=>wp,FormRadio:()=>Ks,FormSwitch:()=>Ws,Forms:()=>Ia,HelpMessage:()=>hn,IconButton:()=>Ae,LegacyAlert:()=>pn,LegacyForm:()=>Op,LegacyFormArrow:()=>Dp,LegacyFormCTA:()=>Bp,LegacyFormCTAButton:()=>Mp,LegacyFormCardSection:()=>Fp,LegacyFormCheckbox:()=>Up,LegacyFormCheckboxRow:()=>jp,LegacyFormCheckmark:()=>kp,LegacyFormDivider:()=>yn,LegacyFormHint:()=>Hp,LegacyFormIcon:()=>Js,LegacyFormInput:()=>Zs,LegacyFormLabel:()=>Vp,LegacyFormRadio:()=>Gp,LegacyFormRadioGroup:()=>zp,LegacyFormRadioRow:()=>$p,LegacyFormRow:()=>Gr,LegacyFormSection:()=>Pa,LegacyFormSelect:()=>Yp,LegacyFormSliderRow:()=>Wp,LegacyFormSubLabel:()=>Kp,LegacyFormSwitch:()=>Xp,LegacyFormSwitchRow:()=>qp,LegacyFormTernaryCheckBox:()=>Jp,LegacyFormText:()=>Zt,LegacyFormTitle:()=>Zp,PressableScale:()=>Sp,RedesignCompat:()=>Rp,RowButton:()=>xp,SafeAreaView:()=>vn,SegmentedControl:()=>Cp,SegmentedControlPages:()=>Ip,Stack:()=>de,TableCheckbox:()=>Ap,TableRadio:()=>Tp,TableRow:()=>A,TableRowGroup:()=>Ne,TableRowIcon:()=>Ep,TableRowTrailingText:()=>bp,TableSwitch:()=>Ys,TableSwitchRow:()=>Tt,Text:()=>j,TextInput:()=>He,TwinButtons:()=>_p,useSegmentedControlState:()=>Pp});var yp,Vr,Te,pn,gn,hn,vn,bt,se,_p,Ae,xp,Sp,A,Ep,bp,Ne,Tt,Ys,Tp,Ap,Ws,Ks,wp,cr,Rp,de,He,Cp,Ip,Pp,Lp,Xs,Jt,qs,Np,j,Ia,Op,Dp,Bp,Mp,Fp,Up,jp,kp,yn,Hp,Js,Zs,Vp,Gp,zp,$p,Gr,Pa,Yp,Wp,Kp,Xp,qp,Jp,Zt,Zp,_n,Z=g(()=>{"use strict";s();l();Ee();da();vo();ee();yp=sr(([e],r)=>r[e]&&Object.keys(r).length===1,e=>`bunny.metro.common.components.bySingularProp(${e})`),Vr=e=>Se(()=>Ie(yp(e))?.[e]),Te=e=>Se(()=>F(e)[e]),pn=Xi("FluxContainer(Alert)"),gn=R("Looks","Colors","Sizes"),hn=Pe("HelpMessage"),vn=Se(()=>F("useSafeAreaInsets").SafeAreaView),bt=Te("ActionSheetRow"),se=Vr("Button"),_p=Te("TwinButtons"),Ae=Vr("IconButton"),xp=Te("RowButton"),Sp=Te("PressableScale"),A=Te("TableRow"),Ep=Te("TableRowIcon"),bp=Te("TableRowTrailingText"),Ne=Te("TableRowGroup"),Tt=Te("TableSwitchRow"),Ys=Vr("FormSwitch"),Tp=Vr("FormRadio"),Ap=Vr("FormCheckbox"),Ws=Vr("FormSwitch"),Ks=Vr("FormRadio"),wp=Vr("FormCheckbox"),cr=Te("Card"),Rp=Se(()=>F("RedesignCompat").RedesignCompat),de=Te("Stack"),He=Vr("TextInput"),Cp=Te("SegmentedControl"),Ip=Te("SegmentedControlPages"),Pp=Vr("useSegmentedControlState"),Lp=Te("CompatSegmentedControl"),Xs=Te("FloatingActionButton"),Jt=Te("ActionSheet"),qs=Te("BottomSheetTitleHeader"),Np=R("Text","LegacyText"),j=Se(()=>Np.Text),Ia=R("Form","FormSection"),{Form:Op,FormArrow:Dp,FormCTA:Bp,FormCTAButton:Mp,FormCardSection:Fp,FormCheckbox:Up,FormCheckboxRow:jp,FormCheckmark:kp,FormDivider:yn,FormHint:Hp,FormIcon:Js,FormInput:Zs,FormLabel:Vp,FormRadio:Gp,FormRadioGroup:zp,FormRadioRow:$p,FormRow:Gr,FormSection:Pa,FormSelect:Yp,FormSliderRow:Wp,FormSubLabel:Kp,FormSwitch:Xp,FormSwitchRow:qp,FormTernaryCheckBox:Jp,FormText:Zt,FormTitle:Zp}=V(()=>Ia),_n=Te("FlashList")});var Oa={};O(Oa,{Flux:()=>ol,FluxDispatcher:()=>wr,NavigationNative:()=>fe,React:()=>En,ReactNative:()=>Na,assets:()=>Qs,channels:()=>xn,clipboard:()=>rr,commands:()=>Qt,components:()=>La,constants:()=>At,i18n:()=>wt,invites:()=>el,messageUtil:()=>mr,navigation:()=>rl,navigationStack:()=>tl,semver:()=>Co,toasts:()=>Sn,tokens:()=>rt,url:()=>Rt});var At,xn,wt,Rt,rr,Qs,el,Qt,rl,Sn,mr,tl,fe,rt,Co,ol,wr,En,Na,z=g(()=>{"use strict";s();l();ee();Z();At=R("Fonts","Permissions"),xn=R("getVoiceChannelId"),wt=R("Messages"),Rt=R("openURL","openDeeplink"),rr=R("setString","getString","hasString"),Qs=R("registerAsset"),el=R("acceptInviteAndTransitionToInviteChannel"),Qt=R("getBuiltInCommands"),rl=R("pushLazy"),Sn=es("modules/toast/native/ToastActionCreators.tsx",!0),mr=R("sendBotMessage"),tl=R("createStackNavigator"),fe=R("NavigationContainer"),rt=R("colors","unsafe_rawColors"),Co=R("parse","clean"),ol=R("connectStores"),wr=F("_interceptors"),En=window.React=R("createElement"),Na=window.ReactNative=R("AppRegistry")});var nl=Or((vx,Vf)=>{s();l();Vf.exports=_t().moment});function zf({locale:e}){try{Gf.default.locale(e.toLowerCase())}catch(r){Be.error("Failed to fix timestamps...",r)}wr.unsubscribe("I18N_LOAD_SUCCESS",zf)}var Gf,$f,Yf=g(()=>{"use strict";s();l();Jr();z();Gf=U(nl());$f=()=>{wr.subscribe("I18N_LOAD_SUCCESS",zf)}});var Kf,Wf=g(()=>{Kf={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",CONTINUE:"Continue",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DESC_EXTRACT_FONTS_FROM_THEME:'Looks out for "fonts" field in your currently applied theme and install it.',DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",DONE:"Done",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",EXTRACT:"Extract",FONT_NAME:"Font Name",FONTS:"Fonts",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install an add-on",INSTALL_FONT:"Install a font",INSTALL_PLUGIN:"Install a plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LABEL_EXTRACT_FONTS_FROM_THEME:"Extract font from theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",REMOVE:"Remove",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart is required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_FONTS:"You are in Safe Mode, meaning fonts have been temporarily disabled. {enabled, select, true {If a font appears to be causing the issue, you can press below to disable it persistently.} other {}}",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SEPARATOR:", ",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_EXTRACTOR_DESC:"This pack overrides the following: {fonts}",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function Jf(){var e=({locale:r})=>{var t={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},o=Xf=t[r]??r;if(o.startsWith("en-")){Io=null;return}qf.has(o)?Io=o:(qf.add(o),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${o}/bunny.json`).then(n=>n.json()).then(n=>al[o]=n).then(()=>o===Xf&&(Io=o)).catch(n=>console.error(`An error occured while fetching strings for ${o}: ${n}`)))};return wr.subscribe("I18N_LOAD_SUCCESS",e),()=>wr.unsubscribe("I18N_LOAD_SUCCESS",e)}function tr(e,r){var t=c[e];return new eg(t).format(r)}var eg,Io,Xf,qf,al,c,ce=g(()=>{"use strict";s();l();z();ee();Wf();eg=Pe("MessageFormat"),Io=null,Xf=null,qf=new Set,al={},c=new Proxy({},{get:(e,r)=>Io&&al[Io]?.[r]?al[Io]?.[r]:Kf[r]})});var Da,Zf=g(()=>{Da="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABoBJREFUeF7lW1nIVlUUXasom80kijJKaVQzGtTUjCJteNBmeqigssnIpDIqwmw0GqhQi4iw8SEaHtKgMpNKM7SiyUZpLppoTi0rd2f9nCu36/2+79zxv/5t8MV/n333WWefffb0EQ0iM+sH4AEAowG8CGAqycVVqsgqhWeVbWavAtg/tu4vABNIPphVVih/YwAws2EAlrRQfChJgVM6NQmARwGc0GKHX5PcofTdA2gSAJ8A2KXNJueQPLpsEJoEwI8A+rTZ4GrnIAeQ/KpMEJoEwCoAm3TY3DKSezcKADPbCMDWADYEIK/9B4CVJC2LomYWwv8PgC1JCqxSqJAFmNlOAF6PAfA3ACn3MYBLSD4bqmUgABI3l+T4ULmd+IoCcDeAs9p8RI5NPDNJrminTAYAZAVbkJSlFaaiALwJYEiAFh8CuJHk7Fa8ZqaNbRAgSyzjSc4N5G3LVhQAmfiYDIosBXAGyXeSa8xMJ9orUNb7AAZm9TNpsosCMNnd/9sDlY7Y/gRwAYDZJOUzusjMfvK+JFRcX5J6OgtRUQB2B/BBDg3k8ZeQHBED4AsASoZCaTTJRaHMrfiKAqD1jwM4NqcinwE4mOTnZiYgBWgozSN5RChzJQB40x0A4KMCivwO4GQAFwI4JIMcRYa9i74GhSwgZr5XuWs8LYPyaazPAMh6ojvLeop8tywA5L0V/FSSsbXZ4Eh3DV7udgD8VdgMwK8+JC6iU5a115GcmmVBkrcUC4hdhYPcPX6+RhAWkDysMQB4SzgXwB0Zoroi+q8iKcvLTaVaQMwSZgGYWBMIfUj+nBeBSgDwljADwHk1XIdCL0FlAMRAOL/i0tsgku82zgI8AMruLgNwfV4FA9btQ/KtAL5UlkotIOYTjgdwr6o5eRVts244SWWZuagWALw1DFUGCGBwLk1bLxpG8pW8MmsDwIPQ25W+7wNwTF6FU9bJ2U7L+xLUCkDsSij5keLblASEagmjSL6XVV63AOCtQSVw3d2yytxr3JN7LUklZsHUnQAMcnUE1RRVTi+TXgIwjqSsoiN1CwBmtqvzA28A2LyjhvkYlCKr9vhcp+W1A2BmewB4AcB2nZQr+Hc1aaaQlK9pSbUC4E9eLfCynF8IRoo/JpJUMXYdqgUAM9N3RgFYGKJxDh71FK5WAwbAvgAeShRnPgWwZxoIdQFwEwCV0DfOsbmQJWPi993MZGGqMsdT5e9VdE3GC5UCYGY69ehUQjaSh0dv/5B4j0FCXJ8hrWexHMAIkj9EH6oEADNTZUjNj+MqeOaSIM0nOTb5n2amStH8FEQVNh8eWcJaAHybe7gfU9kLgEzmbd/91VCCujArXdd3hdA2M73fKobKzDTYIK+uRsel7tT75jnKnGvUUtuWpMrra8nMNG12aguZatjKMa7pAsDMtnK9tkdylKVz6lz6snsATFKPwB+M+gtppx//sBoyCyMAkuNppWtYg0CVxeT4tvfPbKcI8zHXpD2RZnaOW3RXDQo27ROrSfYSAGowylv/30iR4qYCQBFSVe9zk0Fd5GKH0QJAPfpO96XJG8mjmyJHOcHFAuA1APvlkbIerzmN5P3SXwBc7IaOblmPN5NVdaXK/RUDRACoTqcOq4KfptA37l1XuKpma0QKrlQ/2LEEJY8i+XQXAD4Q6u+uwZwKKrbtdNWYjMboNDClf0qTl+ktb5W6RsLMbDc/naZK80Cvt/YQSvruYJIr46GwanQTAJzph5Y1/Vk2aVZQCck8xR4kpUgpZGYCQDHNOK9/p6bpRSRvS02GzEx1tZGlaAbopH8DcDnJO0uS2VaMmWnzk1xz9hrXldIob9o+ldf0W+cPZiafkLvbmtDsSY3MytQ7mXUVwJiZrFozTKoK6QcZSVrXAszsSABPFVRIs4MzyjTxgvoo4TsAwCm+Yy2rEC1PswC9CAfm+KBMSsWPW0l+l2N9LUt8UfYKf8Vn/gcAM9MT82VGTeTYngBwdqeB6Ixya2FPAnCSKx4+HPhlBRJ6vsaS/DZwTePYkgCozx7SqpJXl69YmqzFNW6HHRSKxwGhc79XApgV2npqOiBxAE73/ftWOquRqbJT7mGEJoIRhcIaZVGjMm14QT+BucHVDKa7oUSlkT2KIgAUT6/zIwbXYFTmpLxZU909kiIAprhM6+bEDqf7Hy93pY09lSIAFriO7aF+k7/4aYs0i+hxOEQAqIGgNrJ+iDS5p3j4kNP6F9f7+CyBdXonAAAAAElFTkSuQmCC"});var il={};O(il,{Fragment:()=>dr,jsx:()=>a,jsxs:()=>S});function ec(e){if(!e[0])throw new Error("The first argument (Component) is falsy. Ensure that you are passing a valid component.");var r=Vi(e[0]);return r&&(e[0]=r()),e}var Qf,dr,a,S,X=g(()=>{"use strict";s();l();Ee();ee();Qf=R("jsx","jsxs","Fragment");dr=Symbol.for("react.fragment"),a=(...e)=>Qf.jsx(...ec(e)),S=(...e)=>Qf.jsxs(...ec(e))});var Ba={};O(Ba,{isSemanticColor:()=>ll,rawColors:()=>sl,resolveSemanticColor:()=>ul,semanticColors:()=>ve});function ll(e){return rc.isSemanticColor(e)}function ul(e,r=tg.theme){return rc.resolveSemanticColor(r,e)}var ve,sl,tg,rc,Ct=g(()=>{"use strict";s();l();er();z();ee();ve=he?.default?.colors??At?.ThemeColorMap,sl=he?.default?.unsafe_rawColors??At?.Colors,tg=nn("ThemeStore"),rc=he.default.meta??=he.default.internal});var fl={};O(fl,{TextStyleSheet:()=>pr,createStyles:()=>Rr,createThemedStyleSheet:()=>eo});function Rr(e){return Se(()=>og.createStyles(e))}function eo(e){for(var r in e)e[r]=new Proxy(tc.StyleSheet.flatten(e[r]),{get(t,o,n){var i=Reflect.get(t,o,n);return ll(i)?ul(i):i}});return e}var tc,og,pr,Cr=g(()=>{"use strict";s();l();Ee();ee();Ct();tc=U(re()),og=R("createStyles"),{TextStyleSheet:pr}=V(()=>F("TextStyleSheet"))});function Ir({selectable:e,style:r,children:t}){return e?Po.Platform.select({ios:a(ng,{style:r,children:t}),default:a(oc,{style:r,children:t,selectable:!0})}):a(oc,{style:r,children:t})}var Po,nc,ng,oc,ac=g(()=>{"use strict";s();l();X();z();Ct();Cr();Po=U(re()),nc=Rr({codeBlock:{fontFamily:At.Fonts.CODE_NORMAL,fontSize:12,textAlignVertical:"center",backgroundColor:ve.BACKGROUND_SECONDARY,color:ve.TEXT_NORMAL,borderWidth:1,borderRadius:12,borderColor:ve.BACKGROUND_TERTIARY,padding:10}}),ng=({style:e,children:r})=>a(Po.TextInput,{editable:!1,multiline:!0,style:[nc().codeBlock,e&&e],value:r}),oc=({selectable:e,style:r,children:t})=>a(Po.Text,{selectable:e,style:[nc().codeBlock,r&&r],children:t})});var cl,ic,ag,pe,ml=g(()=>{"use strict";s();l();Ci();ia();fa();Fi();Ii();X();ce();z();Z();Pr();Cr();cl=U(re()),ic=eo({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),pe=function(e){"use strict";la(r,e);function r(t){Ht(this,r);var o;return o=aa(this,r,[t]),o.state={hasErr:!1},o}return Yt(r,[{key:"render",value:function(){return this.state.hasErr?S(cl.ScrollView,{style:ic.view,children:[a(Zt,{style:ic.title,children:c.UH_OH}),a(Ir,{selectable:!0,style:{marginBottom:5},children:this.state.error.name}),a(Ir,{selectable:!0,style:{marginBottom:5},children:this.state.error.message}),this.state.error.stack&&a(cl.ScrollView,{style:{maxHeight:420,marginBottom:5},children:a(Ir,{selectable:!0,children:this.state.error.stack})}),a(se,{size:"md",variant:"destructive",onPress:()=>this.setState({hasErr:!1}),text:c.RETRY})]}):this.props.children}}]),r}(ag=En.Component);ca(pe,"getDerivedStateFromError",e=>({hasErr:!0,error:e}))});function ig(){return a(Ma.Image,{style:{width:16,height:16},source:v("search")})}var Ma,It,sc=g(()=>{"use strict";s();l();X();ce();ie();Z();ml();Ma=U(re());It=({onChangeText:e,placeholder:r,style:t,isRound:o})=>{var[n,i]=React.useState(""),u=f=>{i(f),e?.(f)};return a(pe,{children:a(Ma.View,{style:t,children:a(He,{grow:!0,isClearable:!0,leadingIcon:ig,placeholder:r??c.SEARCH,onChange:u,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,isRound:o,value:n})})})}});function Tn({label:e,icon:r,noPadding:t=!1,noAnimation:o=!1,children:n}){var[i,u]=React.useState(!0);return S(dr,{children:[a(A,{label:e,icon:r&&a(A.Icon,{source:v(r)}),trailing:a(Gr.Arrow,{style:{transform:[{rotate:`${i?180:90}deg`}]}}),onPress:()=>{u(!i),o||bn.LayoutAnimation.configureNext(bn.LayoutAnimation.Presets.easeInEaseOut)}}),!i&&a(dr,{children:a(bn.View,{style:!t&&{paddingHorizontal:15},children:n})})]})}var bn,lc=g(()=>{"use strict";s();l();X();ie();Z();bn=U(re())});var Fa={};O(Fa,{Codeblock:()=>Ir,ErrorBoundary:()=>pe,Search:()=>It,Summary:()=>Tn});var Pr=g(()=>{"use strict";s();l();ac();ml();sc();lc()});function Ua(e,r,t,o,n){return x(function*(){if(e)return void e();var i=yield t().then(u=>u.default);typeof o=="string"&&(o={title:o}),r??=sg.getRootNavigationRef(),r.navigate("BUNNY_CUSTOM_PAGE",{...o,render:()=>a(i,{...n})})})}var sg,Lo,dl=g(()=>{"use strict";s();l();ae();X();z();ee();Pr();sg=R("getRootNavigationRef"),Lo=React.memo(()=>{var e=fe.useNavigation(),r=fe.useRoute(),{render:t,...o}=r.params;return React.useEffect(()=>void e.setOptions({...o}),[]),a(pe,{children:a(t,{})})})});function lg(){var e=fe.useNavigation();return a(dr,{children:Object.keys(Lr).map(r=>Lr[r].length>0&&a(Pa,{title:r,children:Lr[r].filter(t=>t.usePredicate?.()??!0).map((t,o,n)=>S(dr,{children:[a(Gr,{label:t.title(),leading:a(Js,{source:t.icon}),trailing:a(Gr.Arrow,{label:t.rawTabsConfig?.useTrailing?.()||void 0}),onPress:Ua(t.onPress,e,t.render,t.title())}),o!==n.length-1&&a(yn,{})]}))},r))})}function uc(e){e.push(K("default",Pe("getScreens",!1),(t,o)=>({...o,VendettaCustomPage:{title:"Bunny",render:()=>a(Lo,{})},BUNNY_CUSTOM_PAGE:{title:"Bunny",render:()=>a(Lo,{})}})));var r=K("default",Pe("UserSettingsOverviewWrapper",!1),(t,o)=>{var n=Er(o.props.children,i=>i.type?.name==="UserSettingsOverview");e.push(K("renderSupportAndAcknowledgements",n.type.prototype,(i,{props:{children:u}})=>{var f=u.findIndex(p=>p?.type?.name==="UploadLogsButton");f!==-1&&u.splice(f,1)})),e.push(K("render",n.type.prototype,(i,u)=>{var f=[wt.Messages.BILLING_SETTINGS,wt.Messages.PREMIUM_SETTINGS],p=Er(u.props.children,y=>y?.children?.[1]?.type===Pa)?.children||u.props.children;if(p){var b=p.findIndex(y=>f.includes(y?.props.label));p.splice(-~b||4,0,a(lg,{}))}}))},!0);e.push(r)}var fc=g(()=>{"use strict";s();l();X();je();br();z();Z();ee();No();dl()});function fg(){var e=!1;return React.useEffect(()=>void(e=!0),[]),e}function cc(e){var r=()=>Object.values(Lr).flatMap(n=>n.map(i=>({[i.key]:{type:"pressable",title:i.title,icon:i.icon,usePredicate:i.usePredicate,onPress:Ua(i.onPress,null,i.render,i.title()),withArrow:!0,...i.rawTabsConfig}}))).reduce((n,i)=>Object.assign(n,i)),t=ja.SETTING_RENDERER_CONFIG,o=ja.SETTING_RENDERER_CONFIG;Object.defineProperty(ja,"SETTING_RENDERER_CONFIG",{enumerable:!0,configurable:!0,get:()=>({...o,VendettaCustomPage:{type:"route",title:()=>"Bunny",screen:{route:"VendettaCustomPage",getComponent:()=>Lo}},BUNNY_CUSTOM_PAGE:{type:"route",title:()=>"Bunny",screen:{route:"BUNNY_CUSTOM_PAGE",getComponent:()=>Lo}},...r()}),set:n=>o=n}),e.push(()=>{Object.defineProperty(ja,"SETTING_RENDERER_CONFIG",{value:t,writable:!0,get:void 0,set:void 0})}),e.push(K("default",ug,(n,i)=>{if(!fg()){var{sections:u}=Er(i,p=>p.props?.sections).props,f=-~u.findIndex(p=>p.label===wt.Messages.ACCOUNT_SETTINGS)||1;Object.keys(Lr).forEach(p=>{u.splice(f++,0,{label:p,title:p,settings:Lr[p].map(b=>b.key)})})}}))}var ja,ug,mc=g(()=>{"use strict";s();l();je();br();z();ee();No();dl();ja=R("SETTING_RENDERER_CONFIG"),ug=Pe("SettingsOverviewScreen",!1)});var gl={};O(gl,{patchSettings:()=>pl,registerSection:()=>ka,registeredSections:()=>Lr});function ka(e){return Lr[e.name]=e.items,()=>delete Lr[e.name]}function pl(){var e=new Array;return uc(e),cc(e),()=>e.forEach(r=>r())}var Lr,No=g(()=>{"use strict";s();l();fc();mc();Lr={}});var Ha={};O(Ha,{showToast:()=>H});var cg,H,Nr=g(()=>{"use strict";s();l();ce();ie();Ee();z();ee();({uuid4:cg}=V(()=>F("uuid4"))),H=(e,r)=>Sn.open({key:`vd-toast-${cg()}`,content:e,source:r,icon:r});H.showCopyToClipboard=(e=c.COPIED_TO_CLIPBOARD)=>{H(e,v("toast_copy_link"))}});function Va({label:e,version:r,icon:t}){return a(A,{label:e,icon:a(A.Icon,{source:v(t)}),trailing:a(Zt,{children:r}),onPress:()=>{rr.setString(`${e} - ${r}`),H.showCopyToClipboard()}})}var dc=g(()=>{"use strict";s();l();X();ie();z();Z();Nr()});var za={};O(za,{connectToDebugger:()=>Rn,getDebugInfo:()=>tt,patchLogHook:()=>vl,socket:()=>gr,toggleSafeMode:()=>wn,versionHash:()=>An});function wn(){return hl.apply(this,arguments)}function hl(){return hl=x(function*(){I.safeMode={...I.safeMode,enabled:!I.safeMode?.enabled},ur()&&(Et()?.id&&(I.safeMode.currentThemeId=Et().id),I.safeMode?.enabled?yield Qr(null):I.safeMode?.currentThemeId&&(yield Qr(te[I.safeMode?.currentThemeId]))),setTimeout($o.reload,400)}),hl.apply(this,arguments)}function Rn(e){if(gr!==void 0&&gr.readyState!==WebSocket.CLOSED&&gr.close(),!e){H("Invalid debugger URL!",v("Small"));return}gr=new WebSocket(`ws://${e}`),gr.addEventListener("open",()=>H("Connected to debugger.",v("Check"))),gr.addEventListener("message",r=>{try{(0,eval)(r.data)}catch(t){console.error(t)}}),gr.addEventListener("error",r=>{console.log(`Debugger error: ${r.message}`),H("An error occurred with the debugger connection!",v("Small"))})}function vl(){var e=K("nativeLoggingHook",globalThis,r=>{gr?.readyState===WebSocket.OPEN&&gr.send(JSON.stringify({message:r[0],level:r[1]})),Be.log(r[0])});return()=>{gr&&gr.close(),e()}}function tt(){var e=window.HermesInternal.getRuntimeProperties(),r=e["OSS Release Version"],t="for RN ",o=Ga.Platform.constants,n=o.reactNativeVersion;return{vendetta:{version:An.split("-")[0],loader:Ta()},bunny:{version:An,loader:{name:Ta(),version:Rs()}},discord:{version:jt.Version,build:jt.Build},react:{version:React.version,nativeVersion:r.startsWith(t)?r.substring(t.length):`${n.major}.${n.minor}.${n.patch}`},hermes:{version:r,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...Ga.Platform.select({android:{os:{name:"Android",version:o.Release,sdk:o.Version}},ios:{os:{name:o.systemName,version:o.osVersion}}}),...Ga.Platform.select({android:{device:{manufacturer:o.Manufacturer,brand:o.Brand,model:o.Model,codename:Mr.device}},ios:{device:{manufacturer:Mr.deviceManufacturer,brand:Mr.deviceBrand,model:Mr.deviceModel,codename:Mr.device}}})}}var Ga,gr,An,ot=g(()=>{"use strict";s();l();ae();ie();Ar();xr();je();Le();er();Jr();Nr();Ga=U(re());An="fe937a4-main"});function yl(){var e=tt();k(I);var r=[{label:c.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:c.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],t=[{label:c.LOADER,version:`${e.bunny.loader.name} (${e.bunny.loader.version})`,icon:"ic_download_24px"},{label:c.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:c.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:c.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:c.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:$a.Platform.select({android:c.CODENAME,ios:c.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return a($a.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:S(de,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[a(Ne,{title:c.VERSIONS,children:r.map(o=>a(Va,{label:o.label,version:o.version,icon:o.icon}))}),a(Ne,{title:c.PLATFORM,children:t.map(o=>a(Va,{label:o.label,version:o.version,icon:o.icon}))})]})})}var $a,pc=g(()=>{"use strict";s();l();X();ce();dc();ot();Le();ue();Z();$a=U(re())});var hc={};O(hc,{default:()=>gc});function gc(){k(I);var e=tt(),r=fe.useNavigation();return a(Ya.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:S(de,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[S(Ne,{title:c.INFO,children:[a(A,{label:c.BUNNY,icon:a(A.Icon,{source:{uri:Da}}),trailing:a(A.TrailingText,{text:e.bunny.version})}),a(A,{label:"Discord",icon:a(A.Icon,{source:v("Discord")}),trailing:a(A.TrailingText,{text:`${e.discord.version} (${e.discord.build})`})}),a(A,{arrow:!0,label:c.ABOUT,icon:a(A.Icon,{source:v("CircleInformationIcon-primary")}),trailing:A.Arrow,onPress:()=>r.push("BUNNY_CUSTOM_PAGE",{title:c.ABOUT,render:()=>a(yl,{})})})]}),S(Ne,{title:c.LINKS,children:[a(A,{label:c.DISCORD_SERVER,icon:a(A.Icon,{source:v("Discord")}),trailing:A.Arrow,onPress:()=>Rt.openDeeplink(os)}),a(A,{label:c.GITHUB,icon:a(A.Icon,{source:v("img_account_sync_github_white")}),trailing:A.Arrow,onPress:()=>Rt.openURL(ns)})]}),S(Ne,{title:c.ACTIONS,children:[a(A,{label:c.RELOAD_DISCORD,icon:a(A.Icon,{source:v("ic_message_retry")}),onPress:()=>Ya.NativeModules.BundleUpdaterManager.reload()}),a(A,{label:I.safeMode?.enabled?c.RELOAD_IN_NORMAL_MODE:c.RELOAD_IN_SAFE_MODE,subLabel:I.safeMode?.enabled?c.RELOAD_IN_NORMAL_MODE_DESC:c.RELOAD_IN_SAFE_MODE_DESC,icon:a(A.Icon,{source:v("ic_privacy_24px")}),onPress:wn}),a(Tt,{label:c.DEVELOPER_SETTINGS,icon:a(A.Icon,{source:v("ic_progress_wrench_24px")}),value:I.developerSettings,onValueChange:t=>{I.developerSettings=t}})]}),a(Ne,{title:c.MISCELLANEOUS,children:a(Tt,{label:c.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:c.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:a(A.Icon,{source:v("ic_progress_wrench_24px")}),value:I.enableDiscordDeveloperSettings,onValueChange:t=>{I.enableDiscordDeveloperSettings=t}})})]})})}var Ya,vc=g(()=>{"use strict";s();l();X();ce();_l();pc();ie();ot();Le();ue();xt();z();Z();Ya=U(re())});var Wa={};O(Wa,{common:()=>Oa,factories:()=>Qo,filters:()=>ji,findAllExports:()=>yt,findAllModule:()=>Hi,findAllModuleId:()=>Vd,findByDisplayName:()=>Ki,findByDisplayNameAll:()=>qi,findByDisplayNameLazy:()=>Xi,findByFilePath:()=>Kd,findByFilePathLazy:()=>es,findByName:()=>_o,findByNameAll:()=>Wi,findByNameLazy:()=>Pe,findByProps:()=>F,findByPropsAll:()=>Yi,findByPropsLazy:()=>R,findByStoreName:()=>Qi,findByStoreNameLazy:()=>nn,findByTypeName:()=>Ji,findByTypeNameAll:()=>Zi,findByTypeNameLazy:()=>Wd,findExports:()=>Ie,findModule:()=>ki,findModuleId:()=>Hd,lazy:()=>zi});var nt=g(()=>{"use strict";s();l();z();da();tn();vo();on();ee()});function xl(e){var{width:r}=(0,Cn.useWindowDimensions)();return"extraContent"in e&&(e.content=S(Cn.View,{style:{maxWidth:r-70,flexShrink:1,gap:16},children:[a(j,{variant:"text-md/medium",color:"text-muted",children:e.content}),a(Cn.View,{children:e.extraContent})]}),delete e.extraContent),a(mg,{...e})}var Cn,mg,dg,yc,_c=g(()=>{"use strict";s();l();X();Ee();nt();Z();Cn=U(re()),{AlertModal:mg,AlertActionButton:dg}=V(()=>F("AlertModal","AlertActions")),yc=dg});function Sl(e){var r;try{r=new URL(e)}catch{return!1}return r.protocol==="http:"||r.protocol==="https:"}var xc=g(()=>{"use strict";s();l()});var Ec=Or((Sc,Ka)=>{s();l();Ci();ia();fa();Ii();Xu();((e,r)=>{typeof define=="function"&&define.amd?define([],r):typeof Ka=="object"&&Ka.exports?Ka.exports=r():e.fuzzysort=r()})(Sc,e=>{"use strict";var r=(_,h)=>{if(!_||!h)return xe;var E=me(_);Dt(h)||(h=ne(h));var w=E.bitflags;return(w&h._bitflags)!==w?xe:We(E,h)},t=(_,h,E)=>{if(!_)return E?.all?yr(h,E):Ei;var w=me(_),P=w.bitflags,C=w.containsSpace,T=y(E?.threshold||0),B=E?.limit||Si,L=0,$=0,G=h.length;function Ve(Ft){L<B?(ra.add(Ft),++L):(++$,Ft._score>ra.peek()._score&&ra.replaceTop(Ft))}if(E?.key)for(var Oe=E.key,Y=0;Y<G;++Y){var Fe=h[Y],q=ea(Fe,Oe);if(q&&(Dt(q)||(q=ne(q)),(P&q._bitflags)===P)){var J=We(w,q);J!==xe&&(J._score<T||(J.obj=Fe,Ve(J)))}}else if(E?.keys){var Kr=E.keys,_r=Kr.length;e:for(var Y=0;Y<G;++Y){var Fe=h[Y];{for(var Ce=0,le=0;le<_r;++le){var Oe=Kr[le],q=ea(Fe,Oe);if(!q){xi[le]=Go;continue}Dt(q)||(q=ne(q)),xi[le]=q,Ce|=q._bitflags}if((P&Ce)!==P)continue}if(C)for(var Xe=0;Xe<w.spaceSearches.length;Xe++)Wr[Xe]=Ke;for(var le=0;le<_r;++le){if(q=xi[le],q===Go){po[le]=Go;continue}if(po[le]=We(w,q,!1,C),po[le]===xe){po[le]=Go;continue}if(C)for(var D=0;D<w.spaceSearches.length;D++){if(Ot[D]>-1e3&&Wr[D]>Ke){var qe=(Wr[D]+Ot[D])/4;qe>Wr[D]&&(Wr[D]=qe)}Ot[D]>Wr[D]&&(Wr[D]=Ot[D])}}if(C){for(var nr=0;nr<w.spaceSearches.length;nr++)if(Wr[nr]===Ke)continue e}else{for(var Bt=!1,Mt=0;Mt<_r;Mt++)if(po[Mt]._score!==Ke){Bt=!0;break}if(!Bt)continue}for(var ar=new f(_r),Je=0;Je<_r;Je++)ar[Je]=po[Je];if(C)for(var Q=0,go=0;go<w.spaceSearches.length;go++)Q+=Wr[go];else for(var Q=Ke,Ze=0;Ze<_r;Ze++){var J=ar[Ze];if(J._score>-1e3&&Q>Ke){var qe=(Q+J._score)/4;qe>Q&&(Q=qe)}J._score>Q&&(Q=J._score)}if(ar.obj=Fe,ar._score=Q,E?.scoreFn){if(Q=E.scoreFn(ar),!Q)continue;Q=y(Q),ar._score=Q}Q<T||Ve(ar)}}else for(var Y=0;Y<G;++Y){var q=h[Y];if(q&&(Dt(q)||(q=ne(q)),(P&q._bitflags)===P)){var J=We(w,q);J!==xe&&(J._score<T||Ve(J))}}if(L===0)return Ei;for(var zo=new Array(L),Y=L-1;Y>=0;--Y)zo[Y]=ra.poll();return zo.total=L+$,zo},o=(_,h="<b>",E="</b>")=>{for(var w=typeof h=="function"?h:void 0,P=_.target,C=P.length,T=_.indexes,B="",L=0,$=0,G=!1,Ve=[],Oe=0;Oe<C;++Oe){var Y=P[Oe];if(T[$]===Oe){if(++$,G||(G=!0,w?(Ve.push(B),B=""):B+=h),$===T.length){w?(B+=Y,Ve.push(w(B,L++)),B="",Ve.push(P.substr(Oe+1))):B+=Y+E+P.substr(Oe+1);break}}else G&&(G=!1,w?(Ve.push(w(B,L++)),B=""):B+=E);B+=Y}return w?Ve:B},n=_=>{typeof _=="number"?_=""+_:typeof _!="string"&&(_="");var h=Vo(_);return p(_,{_targetLower:h._lower,_targetLowerCodes:h.lowerCodes,_bitflags:h.bitflags})},i=()=>{yi.clear(),_i.clear()},u=function(){function _(){Ht(this,_)}return Yt(_,[{key:"indexes",get:function(){return this._indexes.slice(0,this._indexes.len).sort((E,w)=>E-w)}},{key:"indexes",set:function(E){return this._indexes=E}},{key:"highlight",value:function(E,w){return o(this,E,w)}},{key:"score",get:function(){return b(this._score)}},{key:"score",set:function(E){this._score=y(E)}}]),_}(),f=function(_){la(h,_);function h(){return Ht(this,h),aa(this,h,arguments)}return Yt(h,[{key:"score",get:function(){return b(this._score)}},{key:"score",set:function(w){this._score=y(w)}}]),h}(ua(Array)),p=(_,h)=>{var E=new u;return E.target=_,E.obj=h.obj??xe,E._score=h._score??Ke,E._indexes=h._indexes??[],E._targetLower=h._targetLower??"",E._targetLowerCodes=h._targetLowerCodes??xe,E._nextBeginningIndexes=h._nextBeginningIndexes??xe,E._bitflags=h._bitflags??0,E},b=_=>_===Ke?0:_>1?_:Math.E**(((-_+1)**.04307-1)*-2),y=_=>_===0?Ke:_>1?_:1-Math.pow(Math.log(_)/-2+1,1/.04307),N=_=>{typeof _=="number"?_=""+_:typeof _!="string"&&(_=""),_=_.trim();var h=Vo(_),E=[];if(h.containsSpace){var w=_.split(/\s+/);w=[...new Set(w)];for(var P=0;P<w.length;P++)if(w[P]!==""){var C=Vo(w[P]);E.push({lowerCodes:C.lowerCodes,_lower:w[P].toLowerCase(),containsSpace:!1})}}return{lowerCodes:h.lowerCodes,_lower:h._lower,containsSpace:h.containsSpace,bitflags:h.bitflags,spaceSearches:E}},ne=_=>{if(_.length>999)return n(_);var h=yi.get(_);return h!==void 0||(h=n(_),yi.set(_,h)),h},me=_=>{if(_.length>999)return N(_);var h=_i.get(_);return h!==void 0||(h=N(_),_i.set(_,h)),h},yr=(_,h)=>{var E=[];E.total=_.length;var w=h?.limit||Si;if(h?.key)for(var P=0;P<_.length;P++){var C=_[P],T=ea(C,h.key);if(T!=xe){Dt(T)||(T=ne(T));var B=p(T.target,{_score:T._score,obj:C});if(E.push(B),E.length>=w)return E}}else if(h?.keys)for(var P=0;P<_.length;P++){for(var C=_[P],L=new f(h.keys.length),$=h.keys.length-1;$>=0;--$){var T=ea(C,h.keys[$]);if(!T){L[$]=Go;continue}Dt(T)||(T=ne(T)),T._score=Ke,T._indexes.len=0,L[$]=T}if(L.obj=C,L._score=Ke,E.push(L),E.length>=w)return E}else for(var P=0;P<_.length;P++){var T=_[P];if(T!=xe&&(Dt(T)||(T=ne(T)),T._score=Ke,T._indexes.len=0,E.push(T),E.length>=w))return E}return E},We=(_,h,E=!1,w=!1)=>{if(E===!1&&_.containsSpace)return Ou(_,h,w);for(var P=_._lower,C=_.lowerCodes,T=C[0],B=h._targetLowerCodes,L=C.length,$=B.length,Y=0,G=0,Ve=0;;){var Oe=T===B[G];if(Oe){if(Yr[Ve++]=G,++Y,Y===L)break;T=C[Y]}if(++G,G>=$)return xe}var Y=0,Fe=!1,q=0,J=h._nextBeginningIndexes;J===xe&&(J=h._nextBeginningIndexes=gd(h.target)),G=Yr[0]===0?0:J[Yr[0]-1];var Kr=0;if(G!==$)for(;;)if(G>=$){if(Y<=0||(++Kr,Kr>200))break;--Y;var _r=Zn[--q];G=J[_r]}else{var Oe=C[Y]===B[G];if(Oe){if(Zn[q++]=G,++Y,Y===L){Fe=!0;break}++G}else G=J[G]}var Ce=L<=1?-1:h._targetLower.indexOf(P,Yr[0]),le=!!~Ce,Xe=le?Ce===0||h._nextBeginningIndexes[Ce-1]===Ce:!1;if(le&&!Xe){for(var D=0;D<J.length;D=J[D])if(!(D<=Ce)){for(var qe=0;qe<L&&C[qe]===h._targetLowerCodes[D+qe];qe++);if(qe===L){Ce=D,Xe=!0;break}}}var nr=Je=>{for(var Q=0,go=0,Ze=1;Ze<L;++Ze)Je[Ze]-Je[Ze-1]!==1&&(Q-=Je[Ze],++go);var zo=Je[L-1]-Je[0]-(L-1);if(Q-=(12+zo)*go,Je[0]!==0&&(Q-=Je[0]*Je[0]*.2),!Fe)Q*=1e3;else{for(var Ft=1,Ze=J[0];Ze<$;Ze=J[Ze])++Ft;Ft>24&&(Q*=(Ft-24)*10)}return Q-=($-L)/2,le&&(Q/=1+L*L*1),Xe&&(Q/=1+L*L*1),Q-=($-L)/2,Q};if(Fe)if(Xe){for(var D=0;D<L;++D)Yr[D]=Ce+D;var Bt=Yr,Mt=nr(Yr)}else var Bt=Zn,Mt=nr(Zn);else{if(le)for(var D=0;D<L;++D)Yr[D]=Ce+D;var Bt=Yr,Mt=nr(Bt)}h._score=Mt;for(var D=0;D<L;++D)h._indexes[D]=Bt[D];h._indexes.len=L;var ar=new u;return ar.target=h.target,ar._score=h._score,ar._indexes=h._indexes,ar},Ou=(_,h,E)=>{for(var w=new Set,P=0,C=xe,T=0,B=_.spaceSearches,L=B.length,$=0,G=()=>{for(var nr=$-1;nr>=0;nr--)h._nextBeginningIndexes[Qn[nr*2+0]]=Qn[nr*2+1]},Ve=!1,D=0;D<L;++D){Ot[D]=Ke;var Oe=B[D];if(C=We(Oe,h),E){if(C===xe)continue;Ve=!0}else if(C===xe)return G(),xe;var Y=D===L-1;if(!Y){for(var Fe=C._indexes,q=!0,J=0;J<Fe.len-1;J++)if(Fe[J+1]-Fe[J]!==1){q=!1;break}if(q)for(var Kr=Fe[Fe.len-1]+1,_r=h._nextBeginningIndexes[Kr-1],Ce=Kr-1;Ce>=0&&_r===h._nextBeginningIndexes[Ce];Ce--)h._nextBeginningIndexes[Ce]=Kr,Qn[$*2+0]=Ce,Qn[$*2+1]=_r,$++}P+=C._score/L,Ot[D]=C._score/L,C._indexes[0]<T&&(P-=(T-C._indexes[0])*2),T=C._indexes[0];for(var le=0;le<C._indexes.len;++le)w.add(C._indexes[le])}if(E&&!Ve)return xe;G();var Xe=We(_,h,!0);if(Xe!==xe&&Xe._score>P){if(E)for(var D=0;D<L;++D)Ot[D]=Xe._score/L;return Xe}E&&(C=h),C._score=P;var D=0;for(var qe of w)C._indexes[D++]=qe;return C._indexes.len=D,C},Vo=_=>{for(var h=_.length,E=_.toLowerCase(),w=[],P=0,C=!1,T=0;T<h;++T){var B=w[T]=E.charCodeAt(T);if(B===32){C=!0;continue}var L=B>=97&&B<=122?B-97:B>=48&&B<=57?26:B<=127?30:31;P|=1<<L}return{lowerCodes:w,bitflags:P,containsSpace:C,_lower:E}},vi=_=>{for(var h=_.length,E=[],w=0,P=!1,C=!1,T=0;T<h;++T){var B=_.charCodeAt(T),L=B>=65&&B<=90,$=L||B>=97&&B<=122||B>=48&&B<=57,G=L&&!P||!C||!$;P=L,C=$,G&&(E[w++]=T)}return E},gd=_=>{for(var h=_.length,E=vi(_),w=[],P=E[0],C=0,T=0;T<h;++T)P>T?w[T]=P:(P=E[++C],w[T]=P===void 0?h:P);return w},yi=new Map,_i=new Map,Yr=[],Zn=[],Qn=[],Wr=[],Ot=[],xi=[],po=[],ea=(_,h)=>{var E=_[h];if(E!==void 0)return E;if(typeof h=="function")return h(_);var w=h;Array.isArray(h)||(w=h.split("."));for(var P=w.length,C=-1;_&&++C<P;)_=_[w[C]];return _},Dt=_=>typeof _=="object"&&typeof _._bitflags=="number",Si=1/0,Ke=-Si,Ei=[];Ei.total=0;var xe=null,Go=n(""),hd=_=>{var h=[],E=0,w={},P=C=>{for(var T=0,B=h[T],L=1;L<E;){var $=L+1;T=L,$<E&&h[$]._score<h[L]._score&&(T=$),h[T-1>>1]=h[T],L=1+(T<<1)}for(var G=T-1>>1;T>0&&B._score<h[G]._score;G=(T=G)-1>>1)h[T]=h[G];h[T]=B};return w.add=C=>{var T=E;h[E++]=C;for(var B=T-1>>1;T>0&&C._score<h[B]._score;B=(T=B)-1>>1)h[T]=h[B];h[T]=C},w.poll=C=>{if(E!==0){var T=h[0];return h[0]=h[--E],P(),T}},w.peek=C=>{if(E!==0)return h[0]},w.replaceTop=C=>{h[0]=C,P()},w},ra=hd();return{single:r,go:t,prepare:n,cleanup:i}})});var Pt=Or((Cb,bc)=>{s();l();bc.exports=_t().react});function yg(e){var[r,t]=React.useState(""),[o,n]=React.useState(""),[i,u]=React.useState(!1);function f(){u(!0),e.fetchFn(r).then(()=>vg("AddonInputAlert")).catch(p=>p instanceof Error?n(p.message):String(p)).finally(()=>u(!1))}return a(xl,{title:e.label,content:"Enter the URL of the source you want to install from:",extraContent:S(de,{style:{marginTop:-12},children:[a(He,{autoFocus:!0,isClearable:!0,value:r,onChange:p=>{t(p),o&&n("")},returnKeyType:"done",onSubmitEditing:f,state:o?"error":void 0,errorMessage:o||void 0}),a(or.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{gap:8},children:a(se,{size:"sm",variant:"tertiary",text:"Import from clipboard",icon:v("ClipboardListIcon"),onPress:()=>rr.getString().then(p=>t(p))})})]}),actions:S(de,{children:[a(se,{loading:i,text:"Install",variant:"primary",disabled:!r||!Sl(r),onPress:f}),a(yc,{disabled:i,text:"Cancel",variant:"secondary"})]})})}function ro({CardComponent:e,...r}){k(I);var[t,o]=React.useState(""),[n,i]=React.useState(()=>null),u=(0,Xa.useMemo)(()=>{var b=r.items;r.resolveItem&&(b=b.map(r.resolveItem));var y=b.filter(N=>N&&typeof N=="object");return!t&&n&&y.sort(n),Tc.default.go(t,y,{keys:r.searchKeywords,all:!0})},[r.items,n,t]),f=(0,Xa.useCallback)(()=>{if(!r.installAction)return()=>{};var{label:b,onPress:y,fetchFn:N}=r.installAction;N?hg("AddonInputAlert",a(yg,{label:b??"Install",fetchFn:N})):y?.()},[]);if(u.length===0&&!t)return S(or.View,{style:{gap:32,flexGrow:1,justifyContent:"center",alignItems:"center"},children:[S(or.View,{style:{gap:8,alignItems:"center"},children:[a(or.Image,{source:v("empty_quick_switcher")}),a(j,{variant:"text-lg/semibold",color:"text-normal",children:"Oops! Nothing to see here\u2026 yet!"})]}),a(se,{size:"lg",icon:v("DownloadIcon"),text:r.installAction?.label??"Install",onPress:f})]});var p=S(or.View,{style:{paddingBottom:8},children:[I.safeMode?.enabled&&S(or.View,{style:{marginBottom:10},children:[a(hn,{messageType:0,children:r.safeModeHint?.message}),r.safeModeHint?.footer]}),S(or.View,{style:{flexDirection:"row",gap:8},children:[a(It,{style:{flexGrow:1},isRound:!!r.sortOptions,onChangeText:b=>o(b)}),r.sortOptions&&a(Ae,{icon:v("ic_forum_channel_sort_order_24px"),variant:"tertiary",disabled:!!t,onPress:()=>pg({key:"AddonListSortOptions",header:{title:"Sort Options",onClose:()=>gg("AddonListSortOptions")},options:Object.entries(r.sortOptions).map(([b,y])=>({label:b,onPress:()=>i(()=>y)}))})})]}),r.ListHeaderComponent&&!t&&a(r.ListHeaderComponent,{})]});return S(pe,{children:[a(_n,{data:u,extraData:t,estimatedItemSize:136,ListHeaderComponent:p,ListEmptyComponent:()=>S(or.View,{style:{gap:12,padding:12,alignItems:"center"},children:[a(or.Image,{source:v("devices_not_found")}),a(j,{variant:"text-lg/semibold",color:"text-normal",children:"Hmmm... could not find that!"})]}),contentContainerStyle:{padding:8,paddingHorizontal:12},ItemSeparatorComponent:()=>a(or.View,{style:{height:8}}),ListFooterComponent:r.ListFooterComponent,renderItem:({item:b})=>a(e,{item:b.obj,result:b})}),r.installAction&&a(Xs,{icon:v("PlusLargeIcon"),onPress:f})]})}var Tc,Xa,or,pg,gg,hg,vg,qa=g(()=>{"use strict";s();l();X();ie();Le();ue();_c();xc();Ee();nt();z();Z();Pr();Tc=U(Ec()),Xa=U(Pt()),or=U(re()),{showSimpleActionSheet:pg,hideActionSheet:gg}=V(()=>F("showSimpleActionSheet")),{openAlert:hg,dismissAlert:vg}=V(()=>F("openAlert","dismissAlert"))});var Ac,wc=g(()=>{"use strict";s();l();z();Cr();Ac=Rr({smallIcon:{tintColor:rt.colors.LOGO_PRIMARY,height:18,width:18}})});function Cc(e,r,t){Rc.openLazy(r,e,t??{})}function to(e){Rc.hideActionSheet(e)}var Rc,Ja=g(()=>{"use strict";s();l();ee();Rc=R("openLazy","hideActionSheet")});function El(){return(0,Ic.default)(rt.unsafe_rawColors.YELLOW_300).alpha(.3).hex()}function _g(){var e=Ac(),{plugin:r,result:t}=Za(),o=t[0].highlight((u,f)=>a(j,{style:{backgroundColor:El()},children:u},f)),n=r.icon&&v(r.icon),i=a(j,{numberOfLines:1,variant:"heading-lg/semibold",children:o.length?o:r.name});return S(Lt.View,{style:{flexDirection:"row",alignItems:"center",gap:6},children:[n&&a(Lt.Image,{style:e.smallIcon,source:n}),i]})}function xg(){var{plugin:e,result:r}=Za();if(!e.authors)return null;var t=r[2].highlight((i,u)=>a(j,{style:{backgroundColor:El()},children:i},u));if(t.length>0)return S(j,{variant:"text-md/semibold",color:"text-muted",children:["by ",t]});var o=["by "];for(var n of e.authors)o.push(typeof n=="string"?n:n.name),o.push(", ");return o.pop(),a(j,{variant:"text-md/semibold",color:"text-muted",children:o})}function Sg(){var{plugin:e,result:r}=Za(),t=r[1].highlight((o,n)=>a(j,{style:{backgroundColor:El()},children:o},n));return a(j,{variant:"text-md/medium",children:t.length?t:e.description})}function bl({result:e,item:r}){r.usePluginState();var[,t]=React.useReducer(()=>({}),0),o=(0,Oo.useMemo)(()=>({plugin:r,result:e}),[r,e]);return a(Pc.Provider,{value:o,children:a(cr,{children:S(de,{spacing:16,children:[S(Lt.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[S(Lt.View,{style:{flexShrink:1},children:[a(_g,{}),a(xg,{})]}),a(Lt.View,{children:S(de,{spacing:12,direction:"horizontal",children:[a(Eg,{}),a(Ys,{value:r.isEnabled(),onValueChange:n=>{r.toggle(n),t()}})]})})]}),a(Sg,{})]})})})}var Ic,Oo,Lt,Pc,Za,Eg,Lc=g(()=>{"use strict";s();l();X();wc();ie();z();Z();Ja();Ic=U(Sa()),Oo=U(Pt()),Lt=U(re()),Pc=(0,Oo.createContext)(null),Za=()=>(0,Oo.useContext)(Pc);Eg=()=>{var{plugin:e}=Za(),r=fe.useNavigation();return S(Lt.View,{style:{flexDirection:"row",gap:6},children:[a(Ae,{size:"sm",variant:"secondary",icon:v("WrenchIcon"),disabled:!e.getPluginSettingsComponent(),onPress:()=>r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}),a(Ae,{size:"sm",variant:"secondary",icon:v("CircleInformationIcon-primary"),onPress:()=>void Cc("PluginInfoActionSheet",e.resolveSheetComponent(),{plugin:e,navigation:r})})]})}});var Ye,oo,M,at=g(()=>{"use strict";s();l();ae();Le();ue();br();xt();Jr();Ye=lr(Ge(Qe("VENDETTA_PLUGINS"))),oo={},M={plugins:Ye,pluginFetch(e){return x(function*(){return e.startsWith(Sr)&&(e=e.replace(Sr,Eo)),yield ze(e,{cache:"no-store"})})()},fetchPlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=Ye[e],t;try{t=yield(yield this.pluginFetch(e+"manifest.json")).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var o;if(r?.manifest.hash!==t.hash)try{o=yield(yield this.pluginFetch(e+(t.main||"index.js"))).text()}catch{}if(!o&&!r)throw new Error(`Failed to fetch JS for ${e}`);Ye[e]={id:e,manifest:t,enabled:r?.enabled??!1,update:r?.update??!0,js:o??r.js}}).apply(this)},installPlugin(e,r=!0){return x(function*(){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in Ye)throw new Error("Plugin already installed");yield this.fetchPlugin(e),r&&(yield this.startPlugin(e))}).apply(this)},evalPlugin(e){return x(function*(){var r={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:yield Ge(Qe(e.id))},logger:new sn(`Bunny \xBB ${e.manifest.name}`)},t=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,o=(0,eval)(t)(r),n=typeof o=="function"?o():o;return n?.default??n??{}})()},startPlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=Ye[e];if(!r)throw new Error("Attempted to start non-existent plugin");try{if(!I.safeMode?.enabled){var t=yield this.evalPlugin(r);oo[e]=t,t.onLoad?.()}r.enabled=!0}catch(o){Be.error(`Plugin ${r.id} errored whilst loading, and will be unloaded`,o);try{oo[r.id]?.onUnload?.()}catch(n){Be.error(`Plugin ${r.id} errored whilst unloading`,n)}delete oo[e],r.enabled=!1}}).apply(this)},stopPlugin(e,r=!0){e.endsWith("/")||(e+="/");var t=Ye[e],o=oo[e];if(!t)throw new Error("Attempted to stop non-existent plugin");if(!I.safeMode?.enabled){try{o?.onUnload?.()}catch(n){Be.error(`Plugin ${t.id} errored whilst unloading`,n)}delete oo[e]}r&&(t.enabled=!1)},removePlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=Ye[e];r.enabled&&this.stopPlugin(e),delete Ye[e],yield xo(e)}).apply(this)},initPlugins(){return x(function*(){yield qr(I,Ye);var e=Object.keys(Ye);if(!I.safeMode?.enabled){var r=this;yield m(e.filter(t=>Ye[t].enabled).map(function(){var t=x(function*(o){return Ye[o].update&&(yield r.fetchPlugin(o).catch(n=>Be.error(n.message))),yield r.startPlugin(o)});return function(o){return t.apply(this,arguments)}}())),e.filter(t=>!Ye[t].enabled&&Ye[t].update).forEach(t=>this.fetchPlugin(t))}return()=>this.stopAllPlugins()}).apply(this)},stopAllPlugins(){return Object.keys(oo).forEach(e=>this.stopPlugin(e,!1))},getSettings:e=>oo[e]?.settings}});var Pn={};O(Pn,{clearFolder:()=>Pl,downloadFile:()=>Ll,fileExists:()=>ao,readFile:()=>In,removeFile:()=>no,writeFile:()=>it});function Pl(e){return Tl.apply(this,arguments)}function Tl(){return Tl=x(function*(e,r="pyoncord/"){if(typeof W.clearFolder!="function")throw new Error("'fs.clearFolder' is not supported");return void(yield W.clearFolder("documents",`${r}${e}`))}),Tl.apply(this,arguments)}function no(e){return Al.apply(this,arguments)}function Al(){return Al=x(function*(e,r="pyoncord/"){if(typeof W.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void(yield W.removeFile("documents",`${r}${e}`))}),Al.apply(this,arguments)}function ao(e){return wl.apply(this,arguments)}function wl(){return wl=x(function*(e,r="pyoncord/"){return yield W.fileExists(`${W.getConstants().DocumentsDirPath}/${r}${e}`)}),wl.apply(this,arguments)}function it(e,r){return Rl.apply(this,arguments)}function Rl(){return Rl=x(function*(e,r,t="pyoncord/"){if(typeof r!="string")throw new Error("Argument 'data' must be a string");return void(yield W.writeFile("documents",`${t}${e}`,r,"utf8"))}),Rl.apply(this,arguments)}function In(e){return Cl.apply(this,arguments)}function Cl(){return Cl=x(function*(e,r="pyoncord/"){try{return yield W.readFile(`${W.getConstants().DocumentsDirPath}/${r}${e}`,"utf8")}catch(t){throw new Error(`An error occured while writing to '${e}'`,{cause:t})}}),Cl.apply(this,arguments)}function Ll(e,r){return Il.apply(this,arguments)}function Il(){return Il=x(function*(e,r,t="pyoncord/"){var o=yield fetch(e).then(f=>f.blob()),n=yield new Promise(f=>{var p=new FileReader;p.onload=()=>f(p.result),p.readAsDataURL(o)}),i;if(n==null)throw new Error("Failed to convert blob to data URL");var u=n.indexOf("base64,");if(u===-1)throw new Error("dataURL does not contain base64");return i=n.slice(u+7),void(yield W.writeFile("documents",`${t}${r}`,i,"base64"))}),Il.apply(this,arguments)}var io=g(()=>{"use strict";s();l();ae();xr()});function Bl(e){return{get:x(function*(){try{return JSON.parse(yield In(e))}catch(r){throw new Error(`Failed to parse storage from '${e}'`,{cause:r})}}),set:function(){var r=x(function*(t){if(!t||typeof t!="object")throw new Error("data needs to be an object");yield it(e,JSON.stringify(t))});return function(t){return r.apply(this,arguments)}}(),exists:x(function*(){return yield ao(e)})}}function Dc(e,r,t){var o=new WeakMap;return new Proxy(e,{get(n,i){if(i===Nc)return t;var u=[...r,i],f=n[i];if(f&&typeof f=="object"){var p=f;f=o.get(p),f||(f=Dc(p,u,t),o.set(p,f))}return f!=null&&t.emit("GET",{path:u,value:f}),f},set(n,i,u){return n[i]=u,t.emit("SET",{path:[...r,i],value:u}),!0},deleteProperty(n,i){var u=delete n[i];return u&&t.emit("DEL",{path:[...r,i]}),u}})}function bg(e={}){var r=new ho;return{proxy:Dc(e,[],r),emitter:r}}function Qa(e){if(e[Nl])throw new Error("An error occured while initializing the storage",{cause:e[Nl]});var r=e[Nc];if(r==null)throw new Error(`InvalidArgumentException - storage[emitterSymbol] is ${typeof r}`);var[,t]=React.useReducer(o=>~o,0);React.useEffect(()=>{var o=()=>t();return r.on("SET",o),r.on("DEL",o),()=>{r.off("SET",o),r.off("DEL",o)}},[])}function Bc(e,r){return Ol.apply(this,arguments)}function Ol(){return Ol=x(function*(e,r){so[e]=r,yield Bl(e).set(r)}),Ol.apply(this,arguments)}function Tg(e,r={},t){var o=i=>{var{proxy:u,emitter:f}=bg(i),p=()=>n.set(u);f.on("SET",p),f.on("DEL",p),t(u)},n=Bl(e);so[e]?o(so[e]):n.exists().then(function(){var i=x(function*(u){u?o(yield n.get()):(yield n.set(r),o(r))});return function(u){return i.apply(this,arguments)}}())}function Ml(e){return Dl.apply(this,arguments)}function Dl(){return Dl=x(function*(e){if(so[e])return so[e];var r=Bl(e);if(yield r.exists())return so[e]=yield r.get()}),Dl.apply(this,arguments)}function Mc(e){return so[e]}function Fl(...e){return Promise.all(e.map(r=>r[Oc]))}var Nc,Nl,Oc,so,Ln,Nn=g(()=>{"use strict";s();l();ae();io();ma();Nc=Symbol.for("bunny.storage.emitter"),Nl=Symbol.for("bunny.storage.initError"),Oc=Symbol.for("bunny.storage.promise"),so={};Ln=(e,r={})=>{var t=new Promise(p=>u=p),o,n,i,u;Tg(e,r,p=>{o=p,n=!0,u()});var f=()=>{if(n)return!0;throw new Error("Attempted to access storage without initializing")};return new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(p=>[p,(b,...y)=>f()&&Reflect[p](o,...y)])),get(p,b,y){return b===Nl?i:b===Oc?t:f()&&Reflect.get(o??p,b,y)}})}});var hr,On=g(()=>{"use strict";s();l();(function(e){e.BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"})(hr||(hr={}))});function Ul({title:e,confirmText:r,confirmColor:t,onConfirm:o,cancelText:n,placeholder:i,initialValue:u="",secureTextEntry:f}){var[p,b]=React.useState(u),[y,N]=React.useState("");function ne(){var me=Promise.resolve(o(p));me.then(()=>{Fc.close()}).catch(yr=>{N(yr.message)})}return a(pn,{title:e,confirmText:r,confirmColor:t,isConfirmButtonDisabled:y.length!==0,onConfirm:ne,cancelText:n,onCancel:()=>Fc.close(),children:a(Zs,{placeholder:i,value:p,onChange:me=>{b(typeof me=="string"?me:me.text),y&&N("")},returnKeyType:"done",onSubmitEditing:ne,error:y||void 0,secureTextEntry:f,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}})})}var Fc,Uc=g(()=>{"use strict";s();l();X();Z();ee();Fc=R("openLazy","close")});var ri={};O(ri,{showConfirmationAlert:()=>vr,showCustomAlert:()=>ei,showInputAlert:()=>jl});function vr(e){var r=e;return r.body=e.content,delete r.content,r.isDismissable??=!0,jc.show(r)}var jc,ei,jl,lo=g(()=>{"use strict";s();l();ae();ee();Uc();jc=R("openLazy","close");ei=(e,r)=>jc.openLazy({importer:x(function*(){return()=>React.createElement(e,r)})}),jl=e=>ei(Ul,e)});var Hc={};O(Hc,{default:()=>kc});function kc({plugin:e,navigation:r}){e.usePluginState();var t=M.plugins[e.id],o=e.getPluginSettingsComponent();return a(Jt,{children:S(Dn.ScrollView,{children:[S(Dn.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[a(j,{variant:"heading-xl/semibold",children:e.name}),a(Dn.View,{style:{marginLeft:"auto"},children:o&&a(se,{size:"md",text:"Configure",variant:"secondary",icon:v("WrenchIcon"),onPress:()=>{to("PluginInfoActionSheet"),r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:o})}})})]}),S(bt.Group,{children:[a(bt,{label:c.REFETCH,icon:a(A.Icon,{source:v("RetryIcon")}),onPress:x(function*(){t.enabled&&M.stopPlugin(e.id,!1);try{yield M.fetchPlugin(e.id),H(c.PLUGIN_REFETCH_SUCCESSFUL,v("toast_image_saved"))}catch{H(c.PLUGIN_REFETCH_FAILED,v("Small"))}t.enabled&&(yield M.startPlugin(e.id)),to("PluginInfoActionSheet")})}),a(bt,{label:c.COPY_URL,icon:a(A.Icon,{source:v("copy")}),onPress:()=>{rr.setString(e.id),H.showCopyToClipboard()}}),a(bt,{label:t.update?c.DISABLE_UPDATES:c.ENABLE_UPDATES,icon:a(A.Icon,{source:v("ic_download_24px")}),onPress:()=>{t.update=!t.update,H(tr("TOASTS_PLUGIN_UPDATE",{update:t.update,name:e.name}),v("toast_image_saved"))}}),a(bt,{label:c.CLEAR_DATA,icon:a(A.Icon,{source:v("ic_duplicate")}),onPress:()=>vr({title:c.HOLD_UP,content:tr("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.name}),confirmText:c.CLEAR,cancelText:c.CANCEL,confirmColor:hr.RED,onConfirm:x(function*(){t.enabled&&M.stopPlugin(e.id,!1);try{yield M.fetchPlugin(e.id),H(c.PLUGIN_REFETCH_SUCCESSFUL,v("toast_image_saved"))}catch{H(c.PLUGIN_REFETCH_FAILED,v("Small"))}var n;try{xo(e.id),n=["CLEAR_DATA_SUCCESSFUL","trash"]}catch{n=["CLEAR_DATA_FAILED","Small"]}H(tr(n[0],{name:e.name}),v(n[1])),t.enabled&&(yield M.startPlugin(e.id)),to("PluginInfoActionSheet")})})}),a(bt,{label:c.DELETE,icon:a(A.Icon,{source:v("ic_message_delete")}),onPress:()=>vr({title:c.HOLD_UP,content:tr("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.name}),confirmText:c.DELETE,cancelText:c.CANCEL,confirmColor:hr.RED,onConfirm:()=>{try{M.removePlugin(e.id)}catch(n){H(String(n),v("Small"))}to("PluginInfoActionSheet")}})})]})]})})}var Dn,Vc=g(()=>{"use strict";s();l();ae();X();ce();at();ie();ue();On();z();Z();lo();Ja();Nr();Dn=U(re())});function kl(e){return{id:e.id,name:e.manifest.name,description:e.manifest.description,authors:e.manifest.authors,icon:e.manifest.vendetta?.icon,isEnabled:()=>e.enabled,isInstalled:()=>!!(e&&M.plugins[e.id]),usePluginState(){k(M.plugins[e.id])},toggle(r){r?M.startPlugin(e.id):M.stopPlugin(e.id)},resolveSheetComponent(){return Promise.resolve().then(()=>(Vc(),Hc))},getPluginSettingsComponent(){return M.getSettings(e.id)}}}var Gc=g(()=>{"use strict";s();l();at();ue()});function Rg(e,r=null,t=!1){if(e.guild_id===ss){var o;if(e.parent_id===ls)o="Plugin";else if(e.parent_id===an&&ur())o="Theme";else return;var{firstMessage:n}=t?Ag(e):{firstMessage:r},i=n?.content?.match(as)?.filter(Bn[o].urlsFilter);if(!(!i||!i[0]))return o==="Plugin"&&!i[0].endsWith("/")&&(i[0]+="/"),[o,i[0]]}}function Cg(e,r=null,t=!1){var[o,n]=Rg(e,r,t)??[];k(M.plugins),k(te);var[i,u]=React.useState(!1);if(!o||!n)return[!0];var f=!!Bn[o].storage[n],p=function(){var b=x(function*(){u(!0);try{yield Bn[o].installOrRemove(n)}catch(y){H(y.message,v("Small"))}finally{u(!1)}});return function(){return b.apply(this,arguments)}}();return[!1,o,f,i,p]}var Ag,wg,Bn,Ig,zc,$c=g(()=>{"use strict";s();l();ae();X();ce();at();ie();Ar();je();ue();er();xt();Ee();Z();ee();Pr();Nr();({useFirstForumPostMessage:Ag}=V(()=>F("useFirstForumPostMessage"))),wg=R("MostCommonForumPostReaction"),Bn={Plugin:{storage:M.plugins,urlsFilter:e=>e.startsWith(Sr),installOrRemove:e=>{var r=Bn.Plugin.storage[e];return r?M.removePlugin(e):M.installPlugin(e)}},Theme:{storage:te,urlsFilter:e=>e.endsWith(".json"),installOrRemove:e=>{var r=Bn.Theme.storage[e];return r?Xt(e):Zr(e)}}};Ig=()=>K("MostCommonForumPostReaction",wg,([{thread:e,firstMessage:r}],t)=>{var[o,n,i,u,f]=Cg(e,r,!0);if(!o)return S(dr,{children:[t,a(pe,{children:a(se,{size:"sm",loading:u,disabled:u,variant:i?"secondary":"primary",text:i?c.UNINSTALL:c.INSTALL,onPress:f,icon:v(i?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})})]})}),zc=()=>{var e=[Ig()];return()=>e.map(r=>r())}});function Yc(e){if(e.startsWith(Sr))return"plugin";if(e.endsWith(".json")&&ur())return"theme"}function Wc(e,r){(e==="plugin"?M.installPlugin.bind(M):Zr)(r).then(()=>{H(c.SUCCESSFULLY_INSTALLED,v("Check"))}).catch(t=>{H(t.message,v("Small"))})}var Pg,Lg,Ng,Og,Dg,Kc,Xc=g(()=>{"use strict";s();l();ae();ce();at();ie();Ar();je();er();xt();Ee();z();tn();vo();ee();lo();Nr();Pg=Ie(rn("showSimpleActionSheet")),Lg=R("handleClick"),{openURL:Ng}=V(()=>Rt),{getChannelId:Og}=V(()=>xn),{getChannel:Dg}=V(()=>F("getChannel"));Kc=()=>{var e=new Array;return e.push(K("showSimpleActionSheet",Pg,r=>{if(r[0].key==="LongPressUrl"){var{header:{title:t},options:o}=r[0],n=Yc(t);n&&o.push({label:c.INSTALL_ADDON,onPress:()=>Wc(n,t)})}})),e.push(dt("handleClick",Lg,function(){var r=x(function*(t,o){var{href:n}=t[0],i=Yc(n);if(!i)return o.apply(this,t);if(i==="theme"&&Dg(Og())?.parent_id!==an)return o.apply(this,t);vr({title:c.HOLD_UP,content:tr("CONFIRMATION_LINK_IS_A_TYPE",{urlType:i}),onConfirm:()=>Wc(i,n),confirmText:c.INSTALL,cancelText:c.CANCEL,secondaryConfirmText:c.OPEN_IN_BROWSER,onConfirmSecondary:()=>Ng(n)})});return function(t,o){return r.apply(this,arguments)}}())),()=>e.forEach(r=>r())}});var Jc={};O(Jc,{default:()=>Bg});var qc,Bg,Zc=g(()=>{"use strict";s();l();oi();$c();Xc();qc=[],Bg=ti({manifest:{id:"bunny.quickinstall",name:"QuickInstall",version:"1.0.0",description:"Quickly install Vendetta plugins and themes",authors:[{name:"Vendetta Team"}]},start(){qc=[zc(),Kc()]},stop(){qc.forEach(e=>e())}})});function em(e,r){Mn.has(e)||Mn.set(e,[]),Mn.get(e).push(r)}function rm(){var e=([t,o],n)=>{if(typeof t=="function"&&Mn.has(t.name)){var i=Mn.get(t.name);for(var u of i)n=u(t,n);return n}},r=[K("jsx",Qc,e),K("jsxs",Qc,e)];return()=>r.forEach(t=>t())}var Mn,Qc,Hl=g(()=>{"use strict";s();l();je();nt();Mn=new Map,Qc=R("jsx","jsxs")});var tm={};O(tm,{default:()=>Fg});var ni,Mg,Fg,om=g(()=>{"use strict";s();l();Hl();je();nt();ni=U(Pt());oi();Mg=_o("useBadges",!1),Fg=ti({manifest:{id:"bunny.badges",name:"Badges",version:"1.0.0",description:"Adds badges to user's profile",authors:[{name:"pylixonly"}]},start(){var e={},r={};em("RenderedBadge",(t,o)=>{o.props.id.match(/bunny-\d+-\d+/)&&Object.assign(o.props,e[o.props.id])}),K("default",Mg,([t],o)=>{var[n,i]=(0,ni.useState)(t?r[t.userId]??=[]:[]);(0,ni.useEffect)(()=>{t&&fetch(`https://raw.githubusercontent.com/pyoncord/badges/refs/heads/main/${t.userId}.json`).then(u=>u.json()).then(u=>i(r[t.userId]=u))},[t]),t&&n.forEach((u,f)=>{e[`bunny-${t.userId}-${f}`]={source:{uri:u.url},id:`bunny-${f}`,label:u.label},o.push({id:`bunny-${t.userId}-${f}`,description:u.label,icon:"_"})})})}})});function ti(e){return e[Symbol.for("bunny.core.plugin")]=!0,e}var nm,oi=g(()=>{"use strict";s();l();nm=()=>({"bunny.quickinstall":(Zc(),Ue(Jc)),"bunny.badges":(om(),Ue(tm))})});var ai,st,Do,Fn=g(()=>{"use strict";s();l();(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(ai||(ai={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(st||(st={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(Do||(Do={}))});var im={};O(im,{default:()=>Hg});function am(e){return"```js\n"+e.replaceAll("`","`"+kg)+"\n```"}var Ug,jg,kg,Hg,sm=g(()=>{"use strict";s();l();ae();ce();Fn();Le();z();ee();Ug=R("inspect"),jg=x(function*(){}).constructor,kg="\u200B";Hg=()=>({name:"eval",description:c.COMMAND_EVAL_DESC,shouldHide:()=>I.enableEvalCommand===!0,options:[{name:"code",type:st.STRING,description:c.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:st.BOOLEAN,description:c.COMMAND_EVAL_OPT_ASYNC}],execute([e,r],t){return x(function*(){try{var o=Ug.inspect(r?.value?yield jg(e.value)():eval?.(e.value)),n=o.length>2e3?o.slice(0,2e3)+"...":o;mr.sendBotMessage(t.channel.id,am(n))}catch(i){mr.sendBotMessage(t.channel.id,am(i?.stack??i))}})()}})});var lm={};O(lm,{default:()=>Vg});var Vg,um=g(()=>{"use strict";s();l();ce();Fn();ot();z();Vg=()=>({name:"debug",description:c.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:st.BOOLEAN,description:c.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=tt(),o=["**Bunny Debug Info**",`> Bunny: ${t.bunny.version} (${t.bunny.loader.name} ${t.bunny.loader.version})`,`> Discord: ${t.discord.version} (${t.discord.build})`,`> React: ${t.react.version} (RN ${t.react.nativeVersion})`,`> Hermes: ${t.hermes.version} (bcv${t.hermes.bytecodeVersion})`,`> System: ${t.os.name} ${t.os.version} ${t.os.sdk?`(SDK ${t.os.sdk})`:""}`.trimEnd(),`> Device: ${t.device.model} (${t.device.codename})`].join(`
`);e?.value?mr.sendBotMessage(r.channel.id,o):mr.sendMessage(r.channel.id,{content:o})}})});var fm={};O(fm,{default:()=>Gg});var Gg,cm=g(()=>{"use strict";s();l();ce();at();Fn();z();Gg=()=>({name:"plugins",description:c.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:st.BOOLEAN,description:c.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=Object.values(M.plugins).filter(Boolean);t.sort((u,f)=>u.manifest.name.localeCompare(f.manifest.name));var o=t.filter(u=>u.enabled).map(u=>u.manifest.name),n=t.filter(u=>!u.enabled).map(u=>u.manifest.name),i=[`**Installed Plugins (${t.length}):**`,...o.length>0?[`Enabled (${o.length}):`,"> "+o.join(", ")]:[],...n.length>0?[`Disabled (${n.length}):`,"> "+n.join(", ")]:[]].join(`
`);e?.value?mr.sendBotMessage(r.channel.id,i):mr.sendMessage(r.channel.id,{content:i})}})});var ii={};O(ii,{patchCommands:()=>Vl,registerCommand:()=>Bo});function Vl(){var e=K("getBuiltInCommands",Qt,([r],t)=>[...t,...Un.filter(o=>(r instanceof Array?r.includes(o.type):r===o.type)&&o.__bunny?.shouldHide?.()!==!1)]);return[(sm(),Ue(im)),(um(),Ue(lm)),(cm(),Ue(fm))].forEach(r=>Bo(r.default())),()=>{Un=[],e()}}function Bo(e){var r;try{r=Qt.getBuiltInCommands(Do.CHAT,!0,!1)}catch{r=Qt.getBuiltInCommands(Object.values(Do),!0,!1)}r.sort((n,i)=>parseInt(i.id)-parseInt(n.id));var t=r[r.length-1];if(e.id=(parseInt(t.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},e.applicationId??="-1",e.type??=Do.CHAT,e.inputType=ai.BUILT_IN,e.displayName??=e.name,e.untranslatedName??=e.name,e.displayDescription??=e.description,e.untranslatedDescription??=e.description,e.options)for(var o of e.options)o.displayName??=o.name,o.displayDescription??=o.description;return dt("execute",e,(n,i)=>{Promise.resolve(i.apply(e,n)).then(u=>{u&&typeof u=="object"&&mr.sendMessage(n[1].channel.id,u)}).catch(u=>{Be.error("Failed to execute command",u)})}),Un.push(e),()=>Un=Un.filter(({id:n})=>n!==e.id)}var Un,jn=g(()=>{"use strict";s();l();Fn();je();Jr();z();Un=[]});var zl={};O(zl,{dispatcher:()=>si,injectFluxInterceptor:()=>Gl,intercept:()=>$g});function Gl(){var e=r=>{for(var t of li){var o=t(r);o!=null&&(o?typeof o=="object"&&(Object.assign(r,o),r[zg]=!0):r[mm]=!0)}return mm in r};return(si._interceptors??=[]).unshift(e),()=>si._interceptors&&=si._interceptors.filter(r=>r!==e)}function $g(e){return li.push(e),()=>{li=li.filter(r=>r!==e)}}var mm,zg,si,li,$l=g(()=>{"use strict";s();l();z();mm=Symbol.for("bunny.flux.blocked"),zg=Symbol.for("bunny.flux.modified"),si=wr,li=[]});var Yl={};O(Yl,{fs:()=>Pn,loader:()=>Os,modules:()=>na});var dm=g(()=>{"use strict";s();l();io();Ar();xr()});var Wl={};O(Wl,{assets:()=>Zo,commands:()=>ii,debug:()=>za,flux:()=>zl,native:()=>Yl,patcher:()=>Gt,settings:()=>wa,storage:()=>_a});var Kl=g(()=>{"use strict";s();l();ie();jn();ot();$l();dm();je();Le();ue()});function kn(e,r){return(...t)=>{var o=r(...t);return e.push(o),o}}function pm(e){var r=new Array,t={...window.bunny,api:{...window.bunny.api,patcher:{before:kn(r,Gt.before),after:kn(r,Gt.after),instead:kn(r,Gt.instead)},commands:{...window.bunny.api.commands,registerCommand:kn(r,Bo)},flux:{...window.bunny.api.flux,intercept:kn(r,window.bunny.api.flux.intercept)}},plugin:{createStorage:()=>Ln(`plugins/storage/${e}.json`),manifest:ye.get(e),logger:Be}};return{object:t,disposers:r}}var gm=g(()=>{"use strict";s();l();Kl();jn();Nn();Jr();uo()});var $n={};O($n,{apiObjects:()=>au,corePluginInstances:()=>Vn,deleteRepository:()=>Xg,disablePlugin:()=>uu,enablePlugin:()=>lu,getId:()=>Mo,getPluginSettingsComponent:()=>su,initPlugins:()=>cu,installPlugin:()=>qg,isCorePlugin:()=>iu,isPluginEnabled:()=>fi,isPluginInstalled:()=>lt,pluginInstances:()=>zr,pluginRepositories:()=>Nt,pluginSettings:()=>we,refreshPlugin:()=>Wg,registerCorePlugins:()=>fu,registeredPlugins:()=>ye,startPlugin:()=>zn,stopPlugin:()=>ci,uninstallPlugin:()=>_m,updateAndWritePlugin:()=>Hn,updateRepository:()=>Kg});function _e(e,r,t){if(!e)throw new Error(`[${r}] Attempted to ${t}`)}function hm(e,r){if(Co.gt(e,r))return!0;var t=Co.coerce(e);return t==null?!1:Co.prerelease(e)?.includes("dev")&&Co.eq(t,r)}function Gn(e){return"parentRepository"in e}function iu(e){return Vn.has(e)}function Mo(e){var r=ui.get(e);return _e(r,e?.name??"unknown","getting ID from an unregistered/invalid manifest"),r}function su(e){var r=zr.get(e);return r&&r.SettingsComponent?r.SettingsComponent:null}function lt(e){return we[e]!=null}function fi(e){return!!we[e]?.enabled}function Hn(e,r,t){return Xl.apply(this,arguments)}function Xl(){return Xl=x(function*(e,r,t){var o=yield ym(e,`plugins/${r}/manifest.json`);if(o.parentRepository=e,t){o.jsPath=`plugins/scripts/${r}.js`;var n=yield Yg(e,`plugins/${r}/index.js`);yield it(o.jsPath,n)}if(yield Bc(`plugins/manifests/${r}.json`,o),ye.has(r)){var i=ye.get(r);return Object.assign(i,o)}return o}),Xl.apply(this,arguments)}function Wg(e,r){return ql.apply(this,arguments)}function ql(){return ql=x(function*(e,r){var t=ye.get(e);_e(t,e,"refresh a non-registered plugin"),_e(zr.get(e),e,"refresh a non-started plugin"),ci(e),Gn(t)&&(t=yield Hn(r??t.parentRepository,e,!0)),ye.delete(e),ye.set(e,t),ui.set(t,e),yield zn(e)}),ql.apply(this,arguments)}function Kg(e){return Jl.apply(this,arguments)}function Jl(){return Jl=x(function*(e){var r=yield ym(e,"repo.json"),t=Nt[e],o=!1;if(t)for(var i in t)r[i]||delete t[i];else{for(var n in r)if(Vn.has(n))throw new Error(`Plugins can't have the same ID as any of Bunny core plugin '${n}'`);o=!0,Nt[e]=r}yield Promise.all(Object.keys(r).map(function(){var b=x(function*(y){if(!t||!t[y]||r[y].alwaysFetch||hm(r[y].version,t[y].version))o=!0,Nt[e][y]=r[y],yield Hn(e,y,!!(t&&we[y]));else{var N=yield Ml(`plugins/manifests/${y}.json`);N===void 0&&(yield Hn(e,y,!!(t&&we[y])))}});return function(y){return b.apply(this,arguments)}}()));for(var u in r){var f=Mc(`plugins/manifests/${u}.json`);if(f!==void 0){var p=ye.get(u);p&&!hm(f.version,p.version)||(ye.set(u,f),ui.set(f,u))}}return o}),Jl.apply(this,arguments)}function Xg(e){return Zl.apply(this,arguments)}function Zl(){return Zl=x(function*(e){_e(e!==is,e,"delete the official repository"),_e(Nt[e],e,"delete a non-registered repository");var r=[];for(var[t,o]of ye)!Gn(o)||o.parentRepository!==e||(lt(t)&&r.push(_m(t)),ye.delete(t));delete Nt[e],yield Promise.all(r)}),Zl.apply(this,arguments)}function lu(e,r){return Ql.apply(this,arguments)}function Ql(){return Ql=x(function*(e,r){_e(lt(e),e,"enable a non-installed plugin"),we[e].enabled=!0,r&&(yield zn(e))}),Ql.apply(this,arguments)}function uu(e){_e(lt(e),e,"disable a non-installed plugin"),zr.has(e)&&ci(e),we[e].enabled=!1}function qg(e,r){return eu.apply(this,arguments)}function eu(){return eu=x(function*(e,r){var t=ye.get(e);_e(t,e,"install an non-registered plugin"),_e(!lt(e),e,"install an already installed plugin"),_e(Gn(t),e,"install a core plugin"),yield Hn(t.parentRepository,e,!0),we[e]={enabled:!0},r&&zn(e)}),eu.apply(this,arguments)}function _m(e){return ru.apply(this,arguments)}function ru(){return ru=x(function*(e){var r=ye.get(e);_e(r,e,"uninstall an unregistered plugin"),_e(lt(e),e,"uninstall a non-installed plugin"),_e(Gn(r),e,"uninstall a core plugin"),zr.has(e)&&ci(e),delete we[e],yield no(`plugins/scripts/${e}.js`)}),ru.apply(this,arguments)}function zn(e){return tu.apply(this,arguments)}function tu(){return tu=x(function*(e){var r=ye.get(e);_e(r,e,"start a non-registered plugin"),_e(lt(e),e,"start a non-installed plugin"),_e(we[e]?.enabled,e,"start a disabled plugin"),_e(!zr.has(e),e,"start an already started plugin"),yield Ml(`plugins/storage/${e}.json`);var t;if(Gn(r)){try{var o=yield In(r.jsPath),n=globalEvalWithSourceUrl(`(bunny,definePlugin)=>{${o};return plugin?.default ?? plugin;}`,`bunny-plugin/${e}-${r.version}`)}catch(u){throw new Error("An error occured while parsing plugin's code, possibly a syntax error?",{cause:u})}try{var i=pm(e);if(t=n(i.object,u=>Object.assign(u,{manifest:r})),!t)throw new Error(`Plugin '${e}' does not export a valid plugin instance`);au.set(e,i),zr.set(e,t)}catch(u){throw new Error("An error occured while instantiating plugin's code",{cause:u})}}else t=Vn.get(e),_e(t,e,"start a non-existent core plugin"),zr.set(e,t);try{t.start?.()}catch(u){throw new Error("An error occured while starting the plugin",{cause:u})}}),tu.apply(this,arguments)}function ci(e){var r=zr.get(e);_e(r,e,"stop a non-started plugin"),r.stop?.();var t=au.get(e);t?.disposers.forEach(o=>o()),zr.delete(e)}function fu(){return ou.apply(this,arguments)}function ou(){return ou=x(function*(){yield Fl(Nt,we);var e=nm();for(var r in e){var{default:t,preenabled:o}=e[r];we[r]??={enabled:o??!0},ye.set(r,t.manifest),ui.set(t.manifest,r),Vn.set(r,t)}}),ou.apply(this,arguments)}function cu(){return nu.apply(this,arguments)}function nu(){return nu=x(function*(){yield Fl(Nt,we),yield m([...ye.keys()].map(function(){var e=x(function*(r){fi(r)&&(yield zn(r))});return function(r){return e.apply(this,arguments)}}()))}),nu.apply(this,arguments)}var Vn,ye,zr,au,Nt,we,ui,vm,Yg,ym,uo=g(()=>{"use strict";s();l();ae();oi();io();Nn();br();xt();z();gm();Vn=new Map,ye=new Map,zr=new Map,au=new Map,Nt=Ln("plugins/repositories.json"),we=Ln("plugins/settings.json"),ui=new WeakMap,vm=(e,r)=>ze(new URL(r,e),{cache:"no-store"}),Yg=(e,r)=>vm(e,r).then(t=>t.text()),ym=(e,r)=>vm(e,r).then(t=>t.json())});var Sm={};O(Sm,{default:()=>xm});function xm({plugin:e,navigation:r}){return e.usePluginState(),a(Jt,{children:S(fo.ScrollView,{contentContainerStyle:{gap:8,marginBottom:12},children:[S(fo.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[S(fo.View,{style:{gap:4},children:[a(j,{variant:"heading-xl/semibold",children:e.name}),a(j,{variant:"text-md/medium",color:"text-muted",children:e.description})]}),a(fo.View,{style:{marginLeft:"auto"},children:e.getPluginSettingsComponent()&&a(se,{size:"md",text:"Configure",variant:"secondary",icon:v("WrenchIcon"),onPress:()=>{to("PluginInfoActionSheet"),r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}})})]}),a(fo.View,{style:{flexDirection:"row",justifyContent:"center",alignContent:"center"},children:a(j,{variant:"text-lg/medium",children:"Oops, you shouldn't see this!"})})]})})}var fo,Em=g(()=>{"use strict";s();l();X();ie();Ja();Z();fo=U(re())});function mu(e){return{id:e.id,name:e.name,description:e.description,authors:e.authors,isEnabled:()=>fi(Mo(e)),isInstalled:()=>e.id in we,usePluginState(){Qa(we)},toggle(r){r?lu(Mo(e),!0):uu(Mo(e))},resolveSheetComponent(){return Promise.resolve().then(()=>(Em(),Sm))},getPluginSettingsComponent(){return su(Mo(e))}}}var bm=g(()=>{"use strict";s();l();Nn();uo()});var Rm={};O(Rm,{default:()=>wm});function Qg(e){var r=e.useItems();return a(ro,{CardComponent:bl,title:c.PLUGINS,searchKeywords:["name","description",t=>t.authors?.map(o=>typeof o=="string"?o:o.name).join()],sortOptions:{"Name (A-Z)":(t,o)=>t.name.localeCompare(o.name),"Name (Z-A)":(t,o)=>o.name.localeCompare(t.name)},safeModeHint:{message:c.SAFE_MODE_NOTICE_PLUGINS},items:r,...e})}function wm(){k(I);var e=fe.useNavigation();return a(Qg,{useItems:()=>{k(M.plugins),Qa(we);var r=Object.values(M.plugins).map(kl),t=[...ye.values()].filter(o=>lt(o.id)&&!iu(o.id)).map(mu);return[...r,...t]},ListHeaderComponent:()=>{var r=Jg(),t=Object.values(M.plugins).filter(o=>!o.id.startsWith(Sr)&&!o.id.startsWith(Eo));return t.length?a(Fo.View,{style:{marginVertical:12,marginHorizontal:10},children:a(cr,{border:"strong",children:S(Fo.View,{style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[S(Fo.View,{style:{gap:6,flexShrink:1},children:[a(j,{variant:"heading-md/bold",children:"Unproxied Plugins Found"}),a(j,{variant:"text-sm/medium",color:"text-muted",children:"Plugins installed from unproxied sources may run unverified code in this app without your awareness."})]}),a(Fo.View,{style:{marginLeft:"auto"},children:a(Ae,{size:"sm",variant:"secondary",icon:v("CircleInformationIcon-primary"),style:{marginLeft:8},onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Unproxied Plugins",render:()=>a(_n,{data:t,contentContainerStyle:{padding:8},ItemSeparatorComponent:()=>a(Fo.View,{style:{height:8}}),renderItem:({item:o})=>a(cr,{children:a(j,{variant:"heading-md/semibold",children:o.id})})})})}})})]})})}):null},installAction:{label:"Install a plugin",fetchFn:function(){var r=x(function*(t){if(!t.startsWith(Sr)&&!t.startsWith(Eo)&&!I.developerSettings)Tm("bunny-plugin-unproxied-confirmation",a(Am,{title:"Hold On!",content:"You're trying to install a plugin from an unproxied external source. This means you're trusting the creator to run their code in this app without your knowledge. Are you sure you want to continue?",extraContent:a(cr,{children:a(j,{variant:"text-md/bold",children:t})}),actions:S(Zg,{children:[a(du,{text:"Continue",variant:"primary",onPress:()=>{M.installPlugin(t).then(()=>H(c.TOASTS_INSTALLED_PLUGIN,v("Check"))).catch(o=>Tm("bunny-plugin-install-failed",a(Am,{title:"Install Failed",content:`Unable to install plugin from '${t}':`,extraContent:a(cr,{children:a(j,{variant:"text-md/normal",children:o instanceof Error?o.message:String(o)})}),actions:a(du,{text:"Okay",variant:"primary"})})))}}),a(du,{text:"Cancel",variant:"secondary"})]})}));else return yield M.installPlugin(t)});return function(t){return r.apply(this,arguments)}}()}})}var Fo,Jg,Tm,Am,Zg,du,Cm=g(()=>{"use strict";s();l();ae();X();ce();qa();Lc();at();ie();Le();ue();Nn();Nr();xt();Ee();nt();z();Z();Fo=U(re());Gc();uo();bm();Cr();Jg=Rr({xButton:{position:"absolute",right:8,top:8,tintColor:rt.colors.INTERACTIVE_NORMAL}}),{openAlert:Tm}=V(()=>F("openAlert","dismissAlert")),{AlertModal:Am,AlertActions:Zg,AlertActionButton:du}=V(()=>F("AlertModal","AlertActions"))});function pu(e){var r=th();return a(cr,{children:S(de,{spacing:16,children:[S(co.View,{style:{flexDirection:"row",alignItems:"center"},children:[S(co.View,{style:r.headerLeading,children:[a(j,{style:r.headerLabel,children:e.headerLabel}),e.headerSublabel&&a(j,{style:r.headerSubtitle,children:e.headerSublabel})]}),S(co.View,{style:[r.headerTrailing,{marginLeft:"auto"}],children:[S(co.View,{style:r.actions,children:[e.overflowActions&&a(Ae,{onPress:()=>rh({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&a(Gr.Icon,{style:{marginRight:8},source:v(e.headerIcon)}),onClose:()=>eh()},options:e.overflowActions?.map(t=>({...t,icon:v(t.icon)}))}),size:"sm",variant:"secondary",icon:v("CircleInformationIcon-primary")}),e.actions?.map(({icon:t,onPress:o,disabled:n})=>a(Ae,{onPress:o,disabled:n,size:"sm",variant:"secondary",icon:v(t)}))]}),e.toggleType&&(e.toggleType==="switch"?a(Ws,{value:e.toggleValue(),onValueChange:e.onToggleChange}):a(co.TouchableOpacity,{onPress:()=>{e.onToggleChange?.(!e.toggleValue())},children:a(Ks,{selected:e.toggleValue()})}))]})]}),e.descriptionLabel&&a(j,{variant:"text-md/medium",children:e.descriptionLabel})]})})}var co,eh,rh,th,Im=g(()=>{"use strict";s();l();X();ie();Ee();Z();ee();Ct();Cr();co=U(re()),{hideActionSheet:eh}=V(()=>F("openLazy","hideActionSheet")),{showSimpleActionSheet:rh}=V(()=>F("showSimpleActionSheet")),th=Rr({card:{backgroundColor:ve?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...pr["heading-md/semibold"],color:ve.TEXT_NORMAL},headerSubtitle:{...pr["text-md/semibold"],color:ve.TEXT_MUTED},descriptionLabel:{...pr["text-md/semibold"],color:ve.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:ve.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}})});function Pm(e,r){try{Qr(e?r:null),ln(e?r:null)}catch(t){console.error("Error while selectAndApply,",t)}}function gu({item:e}){k(e);var[r,t]=React.useState(!1);if(r)return null;var{authors:o}=e.data;return a(pu,{headerLabel:e.data.name,headerSublabel:o?`by ${o.map(n=>n.name).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:I.safeMode?.enabled?void 0:"radio",toggleValue:()=>te[e.id].selected,onToggleChange:n=>{Pm(n,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:c.REFETCH,onPress:()=>{Kt(e.id,e.selected).then(()=>{H(c.THEME_REFETCH_SUCCESSFUL,v("toast_image_saved"))}).catch(()=>{H(c.THEME_REFETCH_FAILED,v("Small"))})}},{icon:"copy",label:c.COPY_URL,onPress:()=>{rr.setString(e.id),H.showCopyToClipboard()}},{icon:"ic_message_delete",label:c.DELETE,isDestructive:!0,onPress:()=>vr({title:c.HOLD_UP,content:tr("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:c.DELETE,cancelText:c.CANCEL,confirmColor:hr.RED,onConfirm:()=>{Xt(e.id).then(n=>{t(!0),n&&Pm(!1,e)}).catch(n=>{H(n.message,v("Small"))})}})}]})}var Lm=g(()=>{"use strict";s();l();X();ce();Im();ie();Le();ue();er();On();z();lo();Nr()});var Om={};O(Om,{default:()=>Nm});function Nm(){return k(I),k(te),a(ro,{title:c.THEMES,searchKeywords:["data.name","data.description",e=>e.data.authors?.map(r=>r.name).join(", ")],sortOptions:{"Name (A-Z)":(e,r)=>e.name.localeCompare(r.name),"Name (Z-A)":(e,r)=>r.name.localeCompare(e.name)},installAction:{label:"Install a theme",fetchFn:Zr},items:Object.values(te),safeModeHint:{message:tr("SAFE_MODE_NOTICE_THEMES",{enabled:!!I.safeMode?.currentThemeId}),footer:I.safeMode?.currentThemeId&&a(se,{size:"small",text:c.DISABLE_THEME,onPress:()=>delete I.safeMode?.currentThemeId,style:{marginTop:8}})},CardComponent:gu})}var Dm=g(()=>{"use strict";s();l();X();ce();qa();Lm();Le();ue();er();Z()});var Kn={};O(Kn,{fonts:()=>oe,installFont:()=>oh,removeFont:()=>mi,saveFont:()=>Uo,selectFont:()=>Wn,updateFonts:()=>Eu,validateFont:()=>Yn});function Bm(e){return hu.apply(this,arguments)}function hu(){return hu=x(function*(e){if(!e&&e!==null)throw new Error("Arg font must be a valid object or null");e?yield it("fonts.json",JSON.stringify(e)):yield no("fonts.json")}),hu.apply(this,arguments)}function Yn(e){if(!e||typeof e!="object")throw new Error("URL returned a null/non-object JSON");if(typeof e.spec!="number")throw new Error("Invalid font 'spec' number");if(e.spec!==1)throw new Error("Only fonts which follows spec:1 are supported");var r=["name","main"];if(r.some(t=>!e[t]))throw new Error(`Font is missing one of the fields: ${r}`);if(e.name.startsWith("__"))throw new Error("Font names cannot start with __");if(e.name in oe)throw new Error(`There is already a font named '${e.name}' installed`)}function Uo(e){return vu.apply(this,arguments)}function vu(){return vu=x(function*(e,r=!1){var t;if(typeof e=="object"&&e.__source&&(e=e.__source),typeof e=="string")try{t=yield(yield ze(e)).json(),t.__source=e}catch(o){throw new Error(`Failed to fetch fonts at ${e}`,{cause:o})}else t=e;Yn(t);try{yield Promise.all(Object.entries(t.main).map(function(){var o=x(function*([n,i]){var u=i.split(".").pop();u!=="ttf"&&u!=="otf"&&(u="ttf");var f=`downloads/fonts/${t.name}/${n}.${u}`;(yield ao(f))||(yield Ll(i,f))});return function(n){return o.apply(this,arguments)}}()))}catch(o){throw new Error("Failed to download font assets",{cause:o})}return oe[t.name]=t,r&&Bm(oe[t.name]),t}),vu.apply(this,arguments)}function oh(e){return yu.apply(this,arguments)}function yu(){return yu=x(function*(e,r=!1){if(typeof e!="string"||Object.values(oe).some(o=>typeof o=="object"&&o.__source===e))throw new Error("Invalid source or font was already installed");var t=yield Uo(e);r&&(yield Wn(t.name))}),yu.apply(this,arguments)}function Wn(e){return _u.apply(this,arguments)}function _u(){return _u=x(function*(e){if(e&&!(e in oe))throw new Error("Selected font does not exist!");e?oe.__selected=e:delete oe.__selected,yield Bm(e==null?null:oe[e])}),_u.apply(this,arguments)}function mi(e){return xu.apply(this,arguments)}function xu(){return xu=x(function*(e){var r=oe.__selected===e;r&&(yield Wn(null)),delete oe[e];try{yield Pl(`downloads/fonts/${e}`)}catch{}}),xu.apply(this,arguments)}function Eu(){return Su.apply(this,arguments)}function Su(){return Su=x(function*(){yield qr(oe),yield m(Object.keys(oe).map(e=>Uo(oe[e],oe.__selected===e)))}),Su.apply(this,arguments)}var oe,mo=g(()=>{"use strict";s();l();ae();io();ue();br();oe=lr(Ge(Qe("BUNNY_FONTS")))});function nh(e){var r=e.map(o=>{var{pathname:n}=new URL(o),i=n.replace(/\.[^/.]+$/,"");return i.split("/").pop()}).filter(Boolean),t=r.reduce((o,n)=>n.length<o.length?n:o,r[0]||"");return t?.replace(/-[A-Za-z]*$/,"")||null}function ah({fonts:e,setName:r}){var t=ba().data,o=t.fonts,[n,i]=(0,Re.useState)(nh(Object.values(o))),[u,f]=(0,Re.useState)(void 0);return S(ut.View,{style:{padding:8,paddingBottom:16,gap:12},children:[a(He,{autoFocus:!0,size:"md",label:c.FONT_NAME,value:n,placeholder:n||"Whitney",onChange:i,errorMessage:u,state:u?"error":void 0}),a(j,{variant:"text-xs/normal",color:"text-muted",children:tr("THEME_EXTRACTOR_DESC",{fonts:Object.keys(o).join(c.SEPARATOR)})}),a(se,{size:"md",variant:"primary",text:c.EXTRACT,disabled:!n,onPress:()=>{if(n)try{Yn({spec:1,name:n,main:o}),r(n),Object.assign(e,o),Tu.hideActionSheet()}catch(p){f(String(p))}}})]})}function ih({fonts:e,setName:r,setSource:t}){var[o,n]=(0,Re.useState)(""),[i,u]=(0,Re.useState)(!1),[f,p]=(0,Re.useState)(void 0);return S(ut.View,{style:{padding:8,paddingBottom:16,gap:12},children:[a(He,{autoFocus:!0,size:"md",label:"Font Link",value:o,placeholder:"https://link.to/font/pack.json",onChange:n,errorMessage:f,state:f?"error":void 0}),a(se,{size:"md",variant:"primary",text:"Import",disabled:!o||i,loading:i,onPress:()=>{u(!0),x(function*(){var b=yield ze(o,{cache:"no-store"}),y=yield b.json();Yn(y),r(y.name),t(o),Object.assign(e,y.main)})().then(()=>Tu.hideActionSheet()).catch(b=>p(String(b))).finally(()=>u(!1))}})]})}function sh(e){var[r,t]=(0,Re.useState)(e.name),[o,n]=(0,Re.useState)(e.fontEntries[e.name]);return S(ut.View,{style:{padding:8,paddingBottom:16,gap:12},children:[a(He,{autoFocus:!0,size:"md",label:"Family Name (to override)",value:r,placeholder:"ggsans-Bold",onChange:t}),a(He,{size:"md",label:"Font URL",value:o,placeholder:"https://link.to/the/font.ttf",onChange:n}),a(se,{size:"md",variant:"primary",text:"Apply",onPress:()=>{delete e.fontEntries[e.name],e.fontEntries[r]=o}})]})}function bu(e,r,t){Tu.openLazy(Promise.resolve({default:()=>a(pe,{children:S(Jt,{children:[a(qs,{title:"Import Font"}),a(e,{fonts:r,...t})]})})}),"FontEditorActionSheet")}function lh({fontEntry:e}){var r=(0,Re.useRef)(),t=(0,Re.useRef)(),[o,n]=(0,Re.useState)(!1),[i,u]=(0,Re.useState)();return S(ut.View,{style:{flexDirection:"row",gap:8,justifyContent:"flex-start"},children:[a(ut.View,{style:{flex:1},children:a(He,{isRound:!0,size:"md",label:o?r.current:void 0,placeholder:o?"https://path.to/the/file.ttf":"PostScript name (e.g. ggsans-Bold)",leadingIcon:()=>o?null:a(A.Icon,{source:v("PlusSmallIcon")}),leadingText:o?r.current:"",onChange:f=>(o?t:r).current=f,errorMessage:i,state:i?"error":void 0})}),o&&a(Ae,{size:"md",variant:"secondary",onPress:()=>{r.current="",n(!1)},icon:v("TrashIcon")}),a(Ae,{size:"md",variant:"primary",onPress:()=>{if(!o&&r.current)n(!0);else if(o&&r.current&&t.current)try{var f=new URL(t.current);if(!f.protocol||!f.host)throw"Invalid URL";e[r.current]=t.current,r.current=void 0,t.current=void 0,n(!1)}catch(p){u(String(p))}},icon:v(o?"PlusSmallIcon":"ArrowLargeRightIcon")})]})}function Xn(e){var[r,t]=(0,Re.useState)(e.name),[o,n]=(0,Re.useState)(),[i,u]=(0,Re.useState)(!1),f=(0,Re.useMemo)(()=>So(e.name?{...oe[e.name].main}:{}).proxy,[e.name]),p=k(f),b=fe.useNavigation();return a(ut.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:S(de,{style:{paddingVertical:24,paddingHorizontal:12},spacing:12,children:[e.name?S(Ne,{title:"Actions",children:[a(A,{label:"Refetch fonts from source",icon:a(A.Icon,{source:v("RetryIcon")}),onPress:x(function*(){var y={...oe[e.name]};yield mi(e.name),yield Uo(y),b.goBack()})}),a(A,{label:"Delete font pack",icon:a(A.Icon,{source:v("TrashIcon")}),onPress:()=>mi(e.name).then(()=>b.goBack())})]}):S(Ne,{title:"Import",children:[ba()?.data?.fonts&&a(A,{label:c.LABEL_EXTRACT_FONTS_FROM_THEME,subLabel:c.DESC_EXTRACT_FONTS_FROM_THEME,icon:a(A.Icon,{source:v("HammerIcon")}),onPress:()=>bu(ah,p,{setName:t})}),a(A,{label:"Import font entries from a link",subLabel:"Directly import from a link with a pre-configured JSON file",icon:a(A.Icon,{source:v("LinkIcon")}),onPress:()=>bu(ih,p,{setName:t,setSource:n})})]}),a(He,{size:"lg",value:r,label:c.FONT_NAME,placeholder:"Whitney",onChange:t}),S(Ne,{title:"Font Entries",children:[Object.entries(p).map(([y,N])=>a(A,{label:y,subLabel:N,trailing:S(de,{spacing:2,direction:"horizontal",children:[a(Ae,{size:"sm",variant:"secondary",icon:v("PencilIcon"),onPress:()=>bu(sh,p,{name:y,fontEntries:p})}),a(Ae,{size:"sm",variant:"secondary",icon:v("TrashIcon"),onPress:()=>delete p[y]})]})})),a(A,{label:a(lh,{fontEntry:p})})]}),a(ut.View,{style:{flexDirection:"row",justifyContent:"flex-end",bottom:0,left:0},children:a(se,{size:"lg",loading:i,disabled:i||!r||Object.keys(p).length===0,variant:"primary",text:e.name?"Save":"Import",onPress:x(function*(){r&&(u(!0),e.name?(Object.assign(oe[e.name],{name:r,main:p,__edited:!0}),u(!1),b.goBack()):Uo({spec:1,name:r,main:p,__source:o}).then(()=>b.goBack()).finally(()=>u(!1)))}),icon:v(e.name?"toast_image_saved":"DownloadIcon"),style:{marginLeft:8}})})]})})}var Re,ut,Tu,Au=g(()=>{"use strict";s();l();ae();X();ce();ie();ue();mo();er();br();z();Z();ee();Pr();Re=U(Pt()),ut=U(re()),Tu=R("hideActionSheet")});var Fm=Or((VC,Mm)=>{s();l();Mm.exports=_t()["@shopify/react-native-skia"]});function fh({font:e}){var r=uh(rt.colors.TEXT_NORMAL),{fontFamily:t,fontSize:o}=pr["text-md/medium"],n=t.split(/,/g)[0],i=ko.useFont(e.main[n])?.getTypeface(),u=(0,Um.useMemo)(()=>{if(!i)return null;var f=SkiaApi.TypefaceFontProvider.Make();return f.registerFont(i,n),SkiaApi.ParagraphBuilder.Make({},f).pushStyle({color:SkiaApi.Color(r),fontFamilies:[n],fontSize:o}).addText("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.").pop().build()},[i]);return a(jo.View,{style:{height:64},children:i?a(ko.Canvas,{style:{height:64},children:a(ko.Paragraph,{paragraph:u,x:0,y:0,width:300})}):a(jo.View,{style:{justifyContent:"center",alignItems:"center"},children:a(j,{color:"text-muted",variant:"heading-lg/semibold",children:"Loading..."})})})}function wu({item:e}){k(oe);var r=fe.useNavigation(),t=oe.__selected===e.name;return a(cr,{children:S(de,{spacing:16,children:[S(jo.View,{style:{flexDirection:"row",alignItems:"center"},children:[a(jo.View,{children:a(j,{variant:"heading-lg/semibold",children:e.name})}),a(jo.View,{style:{marginLeft:"auto"},children:S(de,{spacing:12,direction:"horizontal",children:[a(Ae,{onPress:()=>{r.push("BUNNY_CUSTOM_PAGE",{title:"Edit Font",render:()=>a(Xn,{name:e.name})})},size:"sm",variant:"secondary",disabled:t,icon:v("PencilIcon")}),a(se,{size:"sm",variant:t?"secondary":"primary",text:t?"Unapply":"Apply",onPress:x(function*(){yield Wn(t?null:e.name),vr({title:c.HOLD_UP,content:"Reload Discord to apply changes?",confirmText:c.RELOAD,cancelText:c.CANCEL,confirmColor:hr.RED,onConfirm:$o.reload})})})]})})]}),a(fh,{font:e})]})})}var ko,Um,jo,uh,jm=g(()=>{"use strict";s();l();ae();X();ce();ie();xr();ue();mo();Ee();On();nt();z();Z();ko=U(Fm());lo();Cr();Um=U(Pt()),jo=U(re());Au();({useToken:uh}=V(()=>F("useToken")))});var Hm={};O(Hm,{default:()=>km});function km(){k(I),k(oe);var e=fe.useNavigation();return a(ro,{title:c.FONTS,searchKeywords:["name","description"],sortOptions:{"Name (A-Z)":(r,t)=>r.name.localeCompare(t.name),"Name (Z-A)":(r,t)=>t.name.localeCompare(r.name)},items:Object.values(oe),safeModeHint:{message:c.SAFE_MODE_NOTICE_FONTS},CardComponent:wu,installAction:{label:"Install a font",onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Import Font",render:()=>a(Xn,{})})}}})}var Vm=g(()=>{"use strict";s();l();X();ce();qa();Au();Le();ue();mo();z();jm()});function Gm(e,r){var[t,o]=(0,Ho.useState)(2),n=()=>ao(e,r).then(u=>o(u?1:0)).catch(()=>o(3)),i=(0,Ho.useMemo)(()=>new Proxy(Pn,{get(u,f,p){var b=Reflect.get(u,f,p);if(typeof b=="function")return(...y)=>{var N=(n(),b(...y));return N?.constructor?.name==="Promise"&&(o(2),N.finally(n)),N}}}),[]);return(0,Ho.useEffect)(()=>void n(),[]),[t,i]}var Ho,$r,zm=g(()=>{"use strict";s();l();io();Ho=U(Pt());(function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"})($r||($r={}))});function Ru({asset:e}){return a(Gr,{label:`${e.name} - ${e.id}`,trailing:a($m.Image,{source:e.id,style:{width:32,height:32}}),onPress:()=>{rr.setString(e.name),H.showCopyToClipboard()}})}var $m,Ym=g(()=>{"use strict";s();l();X();z();Z();Nr();$m=U(re())});function Cu(){var[e,r]=React.useState("");return a(pe,{children:S(di.View,{style:{flex:1},children:[a(It,{style:{margin:10},onChangeText:t=>r(t)}),a(di.FlatList,{data:Object.values(pt).filter(t=>t.name.includes(e)||t.id.toString()===e),renderItem:({item:t})=>a(Ru,{asset:t}),ItemSeparatorComponent:yn,keyExtractor:t=>t.name})]})})}var di,Wm=g(()=>{"use strict";s();l();X();Ym();ie();Z();Pr();di=U(re())});var Xm={};O(Xm,{default:()=>Km});function Km(){var[e,r]=Gm("preloads/reactDevtools.js"),t=ph(),o=fe.useNavigation();return k(I),k(fr),a(pe,{children:a(pi.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:S(de,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[a(He,{label:c.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:()=>a(Zt,{style:t.leadingText,children:"ws://"}),defaultValue:I.debuggerUrl,onChange:n=>I.debuggerUrl=n}),S(Ne,{title:c.DEBUG,children:[a(A,{label:c.CONNECT_TO_DEBUG_WEBSOCKET,icon:a(A.Icon,{source:v("copy")}),onPress:()=>Rn(I.debuggerUrl)}),Ao()&&a(dr,{children:a(A,{label:c.CONNECT_TO_REACT_DEVTOOLS,icon:a(A.Icon,{source:v("ic_badge_staff")}),onPress:()=>window[Cs()||"__vendetta_rdc"]?.connectToDevTools({host:I.debuggerUrl.split(":")?.[0],resolveRNStyle:pi.StyleSheet.flatten})})})]}),Aa()&&a(dr,{children:S(Ne,{title:"Loader config",children:[a(Tt,{label:c.LOAD_FROM_CUSTOM_URL,subLabel:c.LOAD_FROM_CUSTOM_URL_DEC,icon:a(A.Icon,{source:v("copy")}),value:fr.customLoadUrl.enabled,onValueChange:n=>{fr.customLoadUrl.enabled=n}}),fr.customLoadUrl.enabled&&a(A,{label:a(He,{defaultValue:fr.customLoadUrl.url,size:"md",onChange:n=>fr.customLoadUrl.url=n,placeholder:"http://localhost:4040/vendetta.js",label:c.BUNNY_URL})}),Ao()&&Me()&&a(Tt,{label:c.LOAD_REACT_DEVTOOLS,subLabel:`${c.VERSION}: ${Is()}`,icon:a(A.Icon,{source:v("ic_badge_staff")}),value:fr.loadReactDevTools,onValueChange:n=>{fr.loadReactDevTools=n}})]})}),S(Ne,{title:"Other",children:[a(A,{arrow:!0,label:c.ASSET_BROWSER,icon:a(A.Icon,{source:v("ic_image")}),trailing:A.Arrow,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{title:c.ASSET_BROWSER,render:Cu})}),a(A,{arrow:!0,label:c.ERROR_BOUNDARY_TOOLS_LABEL,icon:a(A.Icon,{source:v("ic_warning_24px")}),onPress:()=>mh({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:a(A.Icon,{style:{marginRight:8},source:v("ic_warning_24px")}),onClose:()=>ch()},options:[{label:c.BUNNY,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{render:()=>a("undefined",{})})},{label:"Discord",isDestructive:!0,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{noErrorBoundary:!0})}]})}),a(A,{label:c.INSTALL_REACT_DEVTOOLS,subLabel:c.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:a(A.Icon,{source:v("DownloadIcon")}),trailing:a(se,{size:"sm",loading:e===$r.LOADING,disabled:e===$r.LOADING,variant:e===$r.TRUE?"secondary":"primary",text:e===$r.TRUE?c.UNINSTALL:c.INSTALL,onPress:x(function*(){e===$r.FALSE?r.downloadFile(dh,"preloads/reactDevtools.js"):e===$r.TRUE&&r.removeFile("preloads/reactDevtools.js")}),icon:v(e===$r.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),a(Tt,{label:c.ENABLE_EVAL_COMMAND,subLabel:c.ENABLE_EVAL_COMMAND_DESC,icon:a(A.Icon,{source:v("PencilIcon")}),value:I.enableEvalCommand,onValueChange:n=>{I.enableEvalCommand=n}})]})]})})})}var pi,ch,mh,dh,ph,qm=g(()=>{"use strict";s();l();ae();X();ce();zm();Wm();ie();ot();Ar();Le();ue();Ee();z();Z();ee();Ct();Pr();Cr();pi=U(re()),{hideActionSheet:ch}=V(()=>F("openLazy","hideActionSheet")),{showSimpleActionSheet:mh}=V(()=>F("showSimpleActionSheet")),dh="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",ph=Rr({leadingText:{...pr["heading-md/semibold"],color:ve.TEXT_MUTED,marginRight:-4}})});function Iu(){ka({name:"Bunny",items:[{key:"BUNNY",title:()=>c.BUNNY,icon:{uri:Da},render:()=>Promise.resolve().then(()=>(vc(),hc)),rawTabsConfig:{useTrailing:()=>"(fe937a4-main)"}},{key:"BUNNY_PLUGINS",title:()=>c.PLUGINS,icon:v("ActivitiesIcon"),render:()=>Promise.resolve().then(()=>(Cm(),Rm))},{key:"BUNNY_THEMES",title:()=>c.THEMES,icon:v("PaintPaletteIcon"),render:()=>Promise.resolve().then(()=>(Dm(),Om)),usePredicate:()=>ur()},{key:"BUNNY_FONTS",title:()=>c.FONTS,icon:v("ic_add_text"),render:()=>Promise.resolve().then(()=>(Vm(),Hm)),usePredicate:()=>Ns()},{key:"BUNNY_DEVELOPER",title:()=>c.DEVELOPER,icon:v("WrenchIcon"),render:()=>Promise.resolve().then(()=>(qm(),Xm)),usePredicate:()=>k(I).developerSettings??!1}]}),ka({name:"Vendetta",items:[]})}var _l=g(()=>{"use strict";s();l();Zf();ce();ie();Ar();Le();ue();No()});var Zm=Or((dP,Jm)=>{s();l();Jm.exports=_t().lodash});var ed=Or((hP,Qm)=>{s();l();Qm.exports=_t().util});var gi,rd,td,od=g(()=>{"use strict";s();l();X();ie();jn();ot();Ar();je();Le();ue();ue();er();br();cs();Jr();nt();z();Z();Z();lo();Ct();Pr();Cr();Nr();Ni();gi=U(Pt()),rd=U(re());at();td=()=>{var e=t=>o=>t(Qo.createSimpleFilter(o,df(new Error().stack))),r=window.vendetta={patcher:{before:Xo.before,after:Xo.after,instead:Xo.instead},metro:{modules:window.modules,find:e(Ie),findAll:e(yt),findByProps:(...t)=>{t.length===1&&t[0]==="KeyboardAwareScrollView"&&t.push("listenToKeyboardEvents");var o=F(...t);if(o==null&&t.includes("ActionSheetTitleHeader")){var n=F("ActionSheetRow");return{...n,ActionSheetTitleHeader:n.BottomSheetTitleHeader,ActionSheetContentContainer:({children:i})=>((0,gi.useEffect)(()=>console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. This has been temporarily replaced with View"),[]),(0,gi.createElement)(rd.View,null,i))}}return o},findByPropsAll:(...t)=>Yi(...t),findByName:(t,o)=>t==="create"&&typeof o>"u"?_o("create",!1).default:_o(t,o??!0),findByNameAll:(t,o=!0)=>Wi(t,o),findByDisplayName:(t,o=!0)=>Ki(t,o),findByDisplayNameAll:(t,o=!0)=>qi(t,o),findByTypeName:(t,o=!0)=>Ji(t,o),findByTypeNameAll:(t,o=!0)=>Zi(t,o),findByStoreName:t=>Qi(t),common:{constants:At,channels:xn,i18n:wt,url:Rt,toasts:Sn,stylesheet:{createThemedStyleSheet:eo},clipboard:rr,assets:Qs,invites:el,commands:Qt,navigation:rl,navigationStack:tl,NavigationNative:fe,Flux:ol,FluxDispatcher:wr,React:En,ReactNative:Na,moment:nl(),chroma:Sa(),lodash:Zm(),util:ed()}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:(t,o)=>Er(t,o),findInTree:(t,o,n)=>bo(t,o,n),safeFetch:(t,o,n)=>ze(t,o,n),unfreeze:t=>Object.isFrozen(t)?{...t}:t,without:(t,...o)=>Li(t,o)},debug:{connectToDebugger:t=>Rn(t),getDebugInfo:()=>tt()},ui:{components:{Forms:Ia,General:Na,Alert:pn,Button:gn,HelpMessage:(...t)=>a(hn,{...t}),SafeAreaView:(...t)=>a(vn,{...t}),Summary:Tn,ErrorBoundary:pe,Codeblock:Ir,Search:It},toasts:{showToast:(t,o)=>H(t,o)},alerts:{showConfirmationAlert:t=>vr(t),showCustomAlert:(t,o)=>ei(t,o),showInputAlert:t=>jl(t)},assets:{all:pt,find:t=>Jo(t),getAssetByName:t=>Jo(t),getAssetByID:t=>Jo(t),getAssetIDByName:t=>v(t)},semanticColors:ve,rawColors:sl},plugins:{plugins:M.plugins,fetchPlugin:t=>M.fetchPlugin(t),installPlugin:(t,o=!0)=>M.installPlugin(t,o),startPlugin:t=>M.startPlugin(t),stopPlugin:(t,o=!0)=>M.stopPlugin(t,o),removePlugin:t=>M.removePlugin(t),getSettings:t=>M.getSettings(t)},themes:{themes:te,fetchTheme:(t,o)=>Kt(t,o),installTheme:t=>Zr(t),selectTheme:t=>Qr(t==="default"?null:te[t]),removeTheme:t=>Xt(t),getCurrentTheme:()=>Et(),updateThemes:()=>Ea()},commands:{registerCommand:Bo},storage:{createProxy:t=>So(t),useProxy:t=>k(t),createStorage:t=>Ge(t),wrapSync:t=>lr(t),awaitSyncWrapper:t=>qr(t),createMMKVBackend:t=>Qe(t),createFileBackend:t=>(ge()&&t==="vendetta_theme.json"&&(t="pyoncord/current-theme.json"),Xr(t))},settings:I,loader:{identity:fn()??void 0,config:fr},logger:{log:(...t)=>console.log(...t),info:(...t)=>console.info(...t),warn:(...t)=>console.warn(...t),error:(...t)=>console.error(...t),time:(...t)=>console.time(...t),trace:(...t)=>console.trace(...t),verbose:(...t)=>console.log(...t)},version:An,unload:()=>{delete window.vendetta}};return()=>r.unload()}});function hh(){var e=Pe("ErrorBoundary")[ya];return new Promise(r=>{e.getExports(t=>{r(t.prototype)})})}var ft,WP,gh,qn,nd,ad,id=g(()=>{"use strict";s();l();X();ce();ot();xr();je();Le();Ee();On();Z();on();ee();Ct();Pr();Cr();ft=U(re()),WP=Pe("ErrorBoundary"),{BadgableTabBar:gh}=V(()=>F("BadgableTabBar")),qn=eo({container:{flex:1,backgroundColor:ve.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...pr["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:ve.HEADER_PRIMARY},headerDescription:{...pr["text-sm/medium"],textAlign:"center",color:ve.TEXT_MUTED},footer:{flexDirection:Mr.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),nd=[{id:"message",title:()=>c.MESSAGE},{id:"stack",title:()=>c.STACK_TRACE},{id:"componentStack",title:()=>c.COMPONENT,trimWhitespace:!0}];ad=()=>K.await("render",hh(),function(e,r){if(this.state.error){this.state.activeTab??="message";var t=nd.find(i=>i.id===this.state.activeTab),o=this.state.error[this.state.activeTab],n=[{text:c.RELOAD_DISCORD,onPress:this.handleReload},...I.safeMode?.enabled?[]:[{text:c.RELOAD_IN_SAFE_MODE,onPress:wn}],{text:c.RETRY_RENDER,color:hr.RED,onPress:()=>this.setState({info:null,error:null})}];return a(pe,{children:S(vn,{style:qn.container,children:[S(ft.View,{style:qn.header,children:[a(r.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),S(ft.View,{style:{flex:2,paddingLeft:24},children:[a(ft.Text,{style:qn.headerTitle,children:r.props.title}),a(ft.Text,{style:qn.headerDescription,children:r.props.body})]})]}),S(ft.View,{style:{flex:6},children:[a(ft.View,{style:{paddingBottom:8},children:a(gh,{tabs:nd.map(i=>({...i,title:i.title()})),activeTab:this.state.activeTab,onTabSelected:i=>{this.setState({activeTab:i})}})}),a(Ir,{selectable:!0,style:{flex:1,textAlignVertical:"top"},children:t?.trimWhitespace?o.split(`
`).filter(i=>i.length!==0).map(i=>i.trim()).join(`
`):o})]}),a(ft.View,{style:qn.footer,children:n.map(i=>{var u=n.indexOf(i)!==0?8:0;return a(gn,{text:i.text,color:i.color??hr.BRAND,size:i.size??"small",onPress:i.onPress,style:{...Mr.isTablet?{flex:`0.${n.length}`,marginLeft:u}:{marginTop:u},borderRadius:16}})})})]})})}})});var sd=g(()=>{"use strict";s();l()});var ld=g(()=>{"use strict";s();l()});var Pu={};O(Pu,{alerts:()=>ri,color:()=>Ba,components:()=>Fa,settings:()=>gl,styles:()=>fl,toasts:()=>Ha});var ud=g(()=>{"use strict";s();l();lo();Ct();Pr();No();Cr();Nr()});var Lu={};O(Lu,{_jsx:()=>il,api:()=>Wl,fonts:()=>Kn,managers:()=>vh,metro:()=>Wa,plugins:()=>$n,themes:()=>qt,ui:()=>Pu,unload:()=>Jn,utils:()=>xa});function Jn(){for(var e of fd)typeof e=="function"&&e();delete window.bunny}var vh,fd,cd=g(()=>{"use strict";s();l();sd();ld();Kl();mo();uo();er();ud();br();nt();mo();uo();er();X();Ee();vh=Se(()=>(console.warn("bunny.managers.* is deprecated, and moved the top level (bunny.*). bunny.managers will be eventually removed soon"),{get fonts(){return Kn},get plugins(){return $n},get themes(){return qt}}),{hint:"object"}),fd=[];Jn.push=e=>{fd.push(e)}});var md={};O(md,{default:()=>yh});var yh,dd=g(()=>{"use strict";s();l();ae();Yf();ce();_l();od();at();jn();ot();$l();Hl();io();Ar();xr();mo();uo();er();Jr();id();No();cd();yh=x(function*(){if(ur())try{ge()&&(W.removeFile!=null?no("vendetta_theme.json",""):it("vendetta_theme.json","null","")),As()}catch(e){console.error("[Bunny] Failed to initialize themes...",e)}yield Promise.all([Gl(),pl(),vl(),Vl(),Ts(),rm(),td(),Jf(),Iu(),$f(),ad(),fu()]).then(e=>e.forEach(r=>r&&Jn.push(r))),window.bunny=Lu,M.initPlugins().then(e=>Jn.push(e)).catch(()=>alert("Failed to initialize Vendetta plugins")),cu(),Eu(),Be.log("Bunny is ready!")})});s();l();ae();var{instead:_h}=oa();globalThis.window=globalThis;function pd(){return Nu.apply(this,arguments)}function Nu(){return Nu=x(function*(){try{Object.freeze=Object.seal=Object,yield($t(),Ue(Hf)).initMetroCache(),yield(dd(),Ue(md)).default()}catch(t){var{ClientInfoManager:e}=(xr(),Ue(na)),r=t instanceof Error?t.stack:void 0;console.log(r??t?.toString?.()??t),alert([`Failed to load Bunny!
`,`Build Number: ${e.Build}`,"Bunny: fe937a4-main",r||t?.toString?.()].join(`
`))}}),Nu.apply(this,arguments)}if(typeof globalThis.__r<"u")pd();else{var e=function(r){var t=window.__fbBatchedBridge,o=new Array,n=_h("callFunctionReturnFlushedQueue",t,(u,f)=>u[0]==="AppRegistry"||!t.getCallableModule(u[0])?(o.push(u),t.flushedQueue()):f.apply(t,u)),i=function(){var u=x(function*(){yield pd(),n(),r(0),o.forEach(f=>t.getCallableModule(f[0])&&t.__callFunction(...f))});return function(){return u.apply(this,arguments)}}();i()};xh=e,Object.defineProperties(globalThis,{__r:{configurable:!0,get:()=>hi,set(r){hi=function(o){if(o===0)e(r),hi=r;else return r(o)}}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(r){this.value=r}}})}var hi,xh;})();
//# sourceURL=bunny
